"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/langchain";
exports.ids = ["vendor-chunks/langchain"];
exports.modules = {

/***/ "(rsc)/./node_modules/langchain/dist/chains/api/api_chain.js":
/*!*************************************************************!*\
  !*** ./node_modules/langchain/dist/chains/api/api_chain.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   APIChain: () => (/* binding */ APIChain)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../base.js */ \"(rsc)/./node_modules/langchain/dist/chains/base.js\");\n/* harmony import */ var _llm_chain_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../llm_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/llm_chain.js\");\n/* harmony import */ var _prompts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./prompts.js */ \"(rsc)/./node_modules/langchain/dist/chains/api/prompts.js\");\n\n\n\n/**\n * Class that extends BaseChain and represents a chain specifically\n * designed for making API requests and processing API responses.\n */\nclass APIChain extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseChain {\n    get inputKeys() {\n        return [this.inputKey];\n    }\n    get outputKeys() {\n        return [this.outputKey];\n    }\n    constructor(fields) {\n        super(fields);\n        Object.defineProperty(this, \"apiAnswerChain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"apiRequestChain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"apiDocs\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"headers\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: {}\n        });\n        Object.defineProperty(this, \"inputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"question\"\n        });\n        Object.defineProperty(this, \"outputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"output\"\n        });\n        this.apiRequestChain = fields.apiRequestChain;\n        this.apiAnswerChain = fields.apiAnswerChain;\n        this.apiDocs = fields.apiDocs;\n        this.inputKey = fields.inputKey ?? this.inputKey;\n        this.outputKey = fields.outputKey ?? this.outputKey;\n        this.headers = fields.headers ?? this.headers;\n    }\n    /** @ignore */\n    async _call(values, runManager) {\n        const question = values[this.inputKey];\n        const api_url = await this.apiRequestChain.predict({ question, api_docs: this.apiDocs }, runManager?.getChild(\"request\"));\n        const res = await fetch(api_url, { headers: this.headers });\n        const api_response = await res.text();\n        const answer = await this.apiAnswerChain.predict({ question, api_docs: this.apiDocs, api_url, api_response }, runManager?.getChild(\"response\"));\n        return { [this.outputKey]: answer };\n    }\n    _chainType() {\n        return \"api_chain\";\n    }\n    static async deserialize(data) {\n        const { api_request_chain, api_answer_chain, api_docs } = data;\n        if (!api_request_chain) {\n            throw new Error(\"LLMChain must have api_request_chain\");\n        }\n        if (!api_answer_chain) {\n            throw new Error(\"LLMChain must have api_answer_chain\");\n        }\n        if (!api_docs) {\n            throw new Error(\"LLMChain must have api_docs\");\n        }\n        return new APIChain({\n            apiAnswerChain: await _llm_chain_js__WEBPACK_IMPORTED_MODULE_1__.LLMChain.deserialize(api_answer_chain),\n            apiRequestChain: await _llm_chain_js__WEBPACK_IMPORTED_MODULE_1__.LLMChain.deserialize(api_request_chain),\n            apiDocs: api_docs,\n        });\n    }\n    serialize() {\n        return {\n            _type: this._chainType(),\n            api_answer_chain: this.apiAnswerChain.serialize(),\n            api_request_chain: this.apiRequestChain.serialize(),\n            api_docs: this.apiDocs,\n        };\n    }\n    /**\n     * Static method to create a new APIChain from a BaseLanguageModel and API\n     * documentation.\n     * @param llm BaseLanguageModel instance.\n     * @param apiDocs API documentation.\n     * @param options Optional configuration options for the APIChain.\n     * @returns New APIChain instance.\n     */\n    static fromLLMAndAPIDocs(llm, apiDocs, options = {}) {\n        const { apiUrlPrompt = _prompts_js__WEBPACK_IMPORTED_MODULE_2__.API_URL_PROMPT_TEMPLATE, apiResponsePrompt = _prompts_js__WEBPACK_IMPORTED_MODULE_2__.API_RESPONSE_PROMPT_TEMPLATE, } = options;\n        const apiRequestChain = new _llm_chain_js__WEBPACK_IMPORTED_MODULE_1__.LLMChain({ prompt: apiUrlPrompt, llm });\n        const apiAnswerChain = new _llm_chain_js__WEBPACK_IMPORTED_MODULE_1__.LLMChain({ prompt: apiResponsePrompt, llm });\n        return new this({\n            apiAnswerChain,\n            apiRequestChain,\n            apiDocs,\n            ...options,\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL2FwaS9hcGlfY2hhaW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF1QztBQUNJO0FBQzJDO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ08sdUJBQXVCLCtDQUFTO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxrQ0FBa0M7QUFDL0YsMkNBQTJDLHVCQUF1QjtBQUNsRTtBQUNBLDJEQUEyRCx5REFBeUQ7QUFDcEgsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0RBQWdEO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLG1EQUFRO0FBQzFDLG1DQUFtQyxtREFBUTtBQUMzQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZELGdCQUFnQixlQUFlLGdFQUF1QixzQkFBc0IscUVBQTRCLElBQUk7QUFDNUcsb0NBQW9DLG1EQUFRLEdBQUcsMkJBQTJCO0FBQzFFLG1DQUFtQyxtREFBUSxHQUFHLGdDQUFnQztBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWFpLXByZXAvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL2FwaS9hcGlfY2hhaW4uanM/MmEyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlQ2hhaW4gfSBmcm9tIFwiLi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgTExNQ2hhaW4gfSBmcm9tIFwiLi4vbGxtX2NoYWluLmpzXCI7XG5pbXBvcnQgeyBBUElfVVJMX1BST01QVF9URU1QTEFURSwgQVBJX1JFU1BPTlNFX1BST01QVF9URU1QTEFURSwgfSBmcm9tIFwiLi9wcm9tcHRzLmpzXCI7XG4vKipcbiAqIENsYXNzIHRoYXQgZXh0ZW5kcyBCYXNlQ2hhaW4gYW5kIHJlcHJlc2VudHMgYSBjaGFpbiBzcGVjaWZpY2FsbHlcbiAqIGRlc2lnbmVkIGZvciBtYWtpbmcgQVBJIHJlcXVlc3RzIGFuZCBwcm9jZXNzaW5nIEFQSSByZXNwb25zZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBBUElDaGFpbiBleHRlbmRzIEJhc2VDaGFpbiB7XG4gICAgZ2V0IGlucHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmlucHV0S2V5XTtcbiAgICB9XG4gICAgZ2V0IG91dHB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5vdXRwdXRLZXldO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXBpQW5zd2VyQ2hhaW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXBpUmVxdWVzdENoYWluXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFwaURvY3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaGVhZGVyc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZToge31cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlucHV0S2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcInF1ZXN0aW9uXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm91dHB1dEtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJvdXRwdXRcIlxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hcGlSZXF1ZXN0Q2hhaW4gPSBmaWVsZHMuYXBpUmVxdWVzdENoYWluO1xuICAgICAgICB0aGlzLmFwaUFuc3dlckNoYWluID0gZmllbGRzLmFwaUFuc3dlckNoYWluO1xuICAgICAgICB0aGlzLmFwaURvY3MgPSBmaWVsZHMuYXBpRG9jcztcbiAgICAgICAgdGhpcy5pbnB1dEtleSA9IGZpZWxkcy5pbnB1dEtleSA/PyB0aGlzLmlucHV0S2V5O1xuICAgICAgICB0aGlzLm91dHB1dEtleSA9IGZpZWxkcy5vdXRwdXRLZXkgPz8gdGhpcy5vdXRwdXRLZXk7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IGZpZWxkcy5oZWFkZXJzID8/IHRoaXMuaGVhZGVycztcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBfY2FsbCh2YWx1ZXMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3QgcXVlc3Rpb24gPSB2YWx1ZXNbdGhpcy5pbnB1dEtleV07XG4gICAgICAgIGNvbnN0IGFwaV91cmwgPSBhd2FpdCB0aGlzLmFwaVJlcXVlc3RDaGFpbi5wcmVkaWN0KHsgcXVlc3Rpb24sIGFwaV9kb2NzOiB0aGlzLmFwaURvY3MgfSwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoXCJyZXF1ZXN0XCIpKTtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYXBpX3VybCwgeyBoZWFkZXJzOiB0aGlzLmhlYWRlcnMgfSk7XG4gICAgICAgIGNvbnN0IGFwaV9yZXNwb25zZSA9IGF3YWl0IHJlcy50ZXh0KCk7XG4gICAgICAgIGNvbnN0IGFuc3dlciA9IGF3YWl0IHRoaXMuYXBpQW5zd2VyQ2hhaW4ucHJlZGljdCh7IHF1ZXN0aW9uLCBhcGlfZG9jczogdGhpcy5hcGlEb2NzLCBhcGlfdXJsLCBhcGlfcmVzcG9uc2UgfSwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoXCJyZXNwb25zZVwiKSk7XG4gICAgICAgIHJldHVybiB7IFt0aGlzLm91dHB1dEtleV06IGFuc3dlciB9O1xuICAgIH1cbiAgICBfY2hhaW5UeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJhcGlfY2hhaW5cIjtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGRlc2VyaWFsaXplKGRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBhcGlfcmVxdWVzdF9jaGFpbiwgYXBpX2Fuc3dlcl9jaGFpbiwgYXBpX2RvY3MgfSA9IGRhdGE7XG4gICAgICAgIGlmICghYXBpX3JlcXVlc3RfY2hhaW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxMTUNoYWluIG11c3QgaGF2ZSBhcGlfcmVxdWVzdF9jaGFpblwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFwaV9hbnN3ZXJfY2hhaW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxMTUNoYWluIG11c3QgaGF2ZSBhcGlfYW5zd2VyX2NoYWluXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYXBpX2RvY3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxMTUNoYWluIG11c3QgaGF2ZSBhcGlfZG9jc1wiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEFQSUNoYWluKHtcbiAgICAgICAgICAgIGFwaUFuc3dlckNoYWluOiBhd2FpdCBMTE1DaGFpbi5kZXNlcmlhbGl6ZShhcGlfYW5zd2VyX2NoYWluKSxcbiAgICAgICAgICAgIGFwaVJlcXVlc3RDaGFpbjogYXdhaXQgTExNQ2hhaW4uZGVzZXJpYWxpemUoYXBpX3JlcXVlc3RfY2hhaW4pLFxuICAgICAgICAgICAgYXBpRG9jczogYXBpX2RvY3MsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfdHlwZTogdGhpcy5fY2hhaW5UeXBlKCksXG4gICAgICAgICAgICBhcGlfYW5zd2VyX2NoYWluOiB0aGlzLmFwaUFuc3dlckNoYWluLnNlcmlhbGl6ZSgpLFxuICAgICAgICAgICAgYXBpX3JlcXVlc3RfY2hhaW46IHRoaXMuYXBpUmVxdWVzdENoYWluLnNlcmlhbGl6ZSgpLFxuICAgICAgICAgICAgYXBpX2RvY3M6IHRoaXMuYXBpRG9jcyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhdGljIG1ldGhvZCB0byBjcmVhdGUgYSBuZXcgQVBJQ2hhaW4gZnJvbSBhIEJhc2VMYW5ndWFnZU1vZGVsIGFuZCBBUElcbiAgICAgKiBkb2N1bWVudGF0aW9uLlxuICAgICAqIEBwYXJhbSBsbG0gQmFzZUxhbmd1YWdlTW9kZWwgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIGFwaURvY3MgQVBJIGRvY3VtZW50YXRpb24uXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgQVBJQ2hhaW4uXG4gICAgICogQHJldHVybnMgTmV3IEFQSUNoYWluIGluc3RhbmNlLlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tTExNQW5kQVBJRG9jcyhsbG0sIGFwaURvY3MsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCB7IGFwaVVybFByb21wdCA9IEFQSV9VUkxfUFJPTVBUX1RFTVBMQVRFLCBhcGlSZXNwb25zZVByb21wdCA9IEFQSV9SRVNQT05TRV9QUk9NUFRfVEVNUExBVEUsIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBhcGlSZXF1ZXN0Q2hhaW4gPSBuZXcgTExNQ2hhaW4oeyBwcm9tcHQ6IGFwaVVybFByb21wdCwgbGxtIH0pO1xuICAgICAgICBjb25zdCBhcGlBbnN3ZXJDaGFpbiA9IG5ldyBMTE1DaGFpbih7IHByb21wdDogYXBpUmVzcG9uc2VQcm9tcHQsIGxsbSB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHtcbiAgICAgICAgICAgIGFwaUFuc3dlckNoYWluLFxuICAgICAgICAgICAgYXBpUmVxdWVzdENoYWluLFxuICAgICAgICAgICAgYXBpRG9jcyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/api/api_chain.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/api/prompts.js":
/*!***********************************************************!*\
  !*** ./node_modules/langchain/dist/chains/api/prompts.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   API_RESPONSE_PROMPT_TEMPLATE: () => (/* binding */ API_RESPONSE_PROMPT_TEMPLATE),\n/* harmony export */   API_RESPONSE_RAW_PROMPT_TEMPLATE: () => (/* binding */ API_RESPONSE_RAW_PROMPT_TEMPLATE),\n/* harmony export */   API_URL_PROMPT_TEMPLATE: () => (/* binding */ API_URL_PROMPT_TEMPLATE),\n/* harmony export */   API_URL_RAW_PROMPT_TEMPLATE: () => (/* binding */ API_URL_RAW_PROMPT_TEMPLATE)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/prompts */ \"(rsc)/./node_modules/@langchain/core/prompts.js\");\n/* eslint-disable spaced-comment */\n\nconst API_URL_RAW_PROMPT_TEMPLATE = `You are given the below API Documentation:\n{api_docs}\nUsing this documentation, generate the full API url to call for answering the user question.\nYou should build the API url in order to get a response that is as short as possible, while still getting the necessary information to answer the question. Pay attention to deliberately exclude any unnecessary pieces of data in the API call.\n\nQuestion:{question}\nAPI url:`;\nconst API_URL_PROMPT_TEMPLATE = /* #__PURE__ */ new _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.PromptTemplate({\n    inputVariables: [\"api_docs\", \"question\"],\n    template: API_URL_RAW_PROMPT_TEMPLATE,\n});\nconst API_RESPONSE_RAW_PROMPT_TEMPLATE = `${API_URL_RAW_PROMPT_TEMPLATE} {api_url}\n\nHere is the response from the API:\n\n{api_response}\n\nSummarize this response to answer the original question.\n\nSummary:`;\nconst API_RESPONSE_PROMPT_TEMPLATE = /* #__PURE__ */ new _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.PromptTemplate({\n    inputVariables: [\"api_docs\", \"question\", \"api_url\", \"api_response\"],\n    template: API_RESPONSE_RAW_PROMPT_TEMPLATE,\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL2FwaS9wcm9tcHRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDeUQ7QUFDbEQ7QUFDUCxDQUFDO0FBQ0Q7QUFDQTs7QUFFQSxVQUFVO0FBQ1Y7QUFDTyxvREFBb0QsbUVBQWM7QUFDekU7QUFDQTtBQUNBLENBQUM7QUFDTSw0Q0FBNEMsOEJBQThCOztBQUVqRjs7QUFFQSxDQUFDOztBQUVEOztBQUVBO0FBQ08seURBQXlELG1FQUFjO0FBQzlFO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1haS1wcmVwLy4vbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9hcGkvcHJvbXB0cy5qcz82MDJmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIHNwYWNlZC1jb21tZW50ICovXG5pbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcHJvbXB0c1wiO1xuZXhwb3J0IGNvbnN0IEFQSV9VUkxfUkFXX1BST01QVF9URU1QTEFURSA9IGBZb3UgYXJlIGdpdmVuIHRoZSBiZWxvdyBBUEkgRG9jdW1lbnRhdGlvbjpcbnthcGlfZG9jc31cblVzaW5nIHRoaXMgZG9jdW1lbnRhdGlvbiwgZ2VuZXJhdGUgdGhlIGZ1bGwgQVBJIHVybCB0byBjYWxsIGZvciBhbnN3ZXJpbmcgdGhlIHVzZXIgcXVlc3Rpb24uXG5Zb3Ugc2hvdWxkIGJ1aWxkIHRoZSBBUEkgdXJsIGluIG9yZGVyIHRvIGdldCBhIHJlc3BvbnNlIHRoYXQgaXMgYXMgc2hvcnQgYXMgcG9zc2libGUsIHdoaWxlIHN0aWxsIGdldHRpbmcgdGhlIG5lY2Vzc2FyeSBpbmZvcm1hdGlvbiB0byBhbnN3ZXIgdGhlIHF1ZXN0aW9uLiBQYXkgYXR0ZW50aW9uIHRvIGRlbGliZXJhdGVseSBleGNsdWRlIGFueSB1bm5lY2Vzc2FyeSBwaWVjZXMgb2YgZGF0YSBpbiB0aGUgQVBJIGNhbGwuXG5cblF1ZXN0aW9uOntxdWVzdGlvbn1cbkFQSSB1cmw6YDtcbmV4cG9ydCBjb25zdCBBUElfVVJMX1BST01QVF9URU1QTEFURSA9IC8qICNfX1BVUkVfXyAqLyBuZXcgUHJvbXB0VGVtcGxhdGUoe1xuICAgIGlucHV0VmFyaWFibGVzOiBbXCJhcGlfZG9jc1wiLCBcInF1ZXN0aW9uXCJdLFxuICAgIHRlbXBsYXRlOiBBUElfVVJMX1JBV19QUk9NUFRfVEVNUExBVEUsXG59KTtcbmV4cG9ydCBjb25zdCBBUElfUkVTUE9OU0VfUkFXX1BST01QVF9URU1QTEFURSA9IGAke0FQSV9VUkxfUkFXX1BST01QVF9URU1QTEFURX0ge2FwaV91cmx9XG5cbkhlcmUgaXMgdGhlIHJlc3BvbnNlIGZyb20gdGhlIEFQSTpcblxue2FwaV9yZXNwb25zZX1cblxuU3VtbWFyaXplIHRoaXMgcmVzcG9uc2UgdG8gYW5zd2VyIHRoZSBvcmlnaW5hbCBxdWVzdGlvbi5cblxuU3VtbWFyeTpgO1xuZXhwb3J0IGNvbnN0IEFQSV9SRVNQT05TRV9QUk9NUFRfVEVNUExBVEUgPSAvKiAjX19QVVJFX18gKi8gbmV3IFByb21wdFRlbXBsYXRlKHtcbiAgICBpbnB1dFZhcmlhYmxlczogW1wiYXBpX2RvY3NcIiwgXCJxdWVzdGlvblwiLCBcImFwaV91cmxcIiwgXCJhcGlfcmVzcG9uc2VcIl0sXG4gICAgdGVtcGxhdGU6IEFQSV9SRVNQT05TRV9SQVdfUFJPTVBUX1RFTVBMQVRFLFxufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/api/prompts.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/base.js":
/*!****************************************************!*\
  !*** ./node_modules/langchain/dist/chains/base.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseChain: () => (/* binding */ BaseChain)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/outputs */ \"(rsc)/./node_modules/@langchain/core/outputs.js\");\n/* harmony import */ var _langchain_core_callbacks_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/callbacks/manager */ \"(rsc)/./node_modules/@langchain/core/callbacks/manager.js\");\n/* harmony import */ var _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/runnables */ \"(rsc)/./node_modules/@langchain/core/runnables.js\");\n/* harmony import */ var _langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/core/language_models/base */ \"(rsc)/./node_modules/@langchain/core/language_models/base.js\");\n\n\n\n\n/**\n * Base interface that all chains must implement.\n */\nclass BaseChain extends _langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_3__.BaseLangChain {\n    get lc_namespace() {\n        return [\"langchain\", \"chains\", this._chainType()];\n    }\n    constructor(fields, \n    /** @deprecated */\n    verbose, \n    /** @deprecated */\n    callbacks) {\n        if (arguments.length === 1 &&\n            typeof fields === \"object\" &&\n            !(\"saveContext\" in fields)) {\n            // fields is not a BaseMemory\n            const { memory, callbackManager, ...rest } = fields;\n            super({ ...rest, callbacks: callbackManager ?? rest.callbacks });\n            this.memory = memory;\n        }\n        else {\n            // fields is a BaseMemory\n            super({ verbose, callbacks });\n            this.memory = fields;\n        }\n    }\n    /** @ignore */\n    _selectMemoryInputs(values) {\n        const valuesForMemory = { ...values };\n        if (\"signal\" in valuesForMemory) {\n            delete valuesForMemory.signal;\n        }\n        if (\"timeout\" in valuesForMemory) {\n            delete valuesForMemory.timeout;\n        }\n        return valuesForMemory;\n    }\n    /**\n     * Invoke the chain with the provided input and returns the output.\n     * @param input Input values for the chain run.\n     * @param config Optional configuration for the Runnable.\n     * @returns Promise that resolves with the output of the chain run.\n     */\n    async invoke(input, options) {\n        const config = (0,_langchain_core_runnables__WEBPACK_IMPORTED_MODULE_2__.ensureConfig)(options);\n        const fullValues = await this._formatValues(input);\n        const callbackManager_ = await _langchain_core_callbacks_manager__WEBPACK_IMPORTED_MODULE_1__.CallbackManager.configure(config?.callbacks, this.callbacks, config?.tags, this.tags, config?.metadata, this.metadata, { verbose: this.verbose });\n        const runManager = await callbackManager_?.handleChainStart(this.toJSON(), fullValues, undefined, undefined, undefined, undefined, config?.runName);\n        let outputValues;\n        try {\n            outputValues = await (fullValues.signal\n                ? Promise.race([\n                    this._call(fullValues, runManager, config),\n                    new Promise((_, reject) => {\n                        fullValues.signal?.addEventListener(\"abort\", () => {\n                            reject(new Error(\"AbortError\"));\n                        });\n                    }),\n                ])\n                : this._call(fullValues, runManager, config));\n        }\n        catch (e) {\n            await runManager?.handleChainError(e);\n            throw e;\n        }\n        if (!(this.memory == null)) {\n            await this.memory.saveContext(this._selectMemoryInputs(input), outputValues);\n        }\n        await runManager?.handleChainEnd(outputValues);\n        // add the runManager's currentRunId to the outputValues\n        Object.defineProperty(outputValues, _langchain_core_outputs__WEBPACK_IMPORTED_MODULE_0__.RUN_KEY, {\n            value: runManager ? { runId: runManager?.runId } : undefined,\n            configurable: true,\n        });\n        return outputValues;\n    }\n    _validateOutputs(outputs) {\n        const missingKeys = this.outputKeys.filter((k) => !(k in outputs));\n        if (missingKeys.length) {\n            throw new Error(`Missing output keys: ${missingKeys.join(\", \")} from chain ${this._chainType()}`);\n        }\n    }\n    async prepOutputs(inputs, outputs, returnOnlyOutputs = false) {\n        this._validateOutputs(outputs);\n        if (this.memory) {\n            await this.memory.saveContext(inputs, outputs);\n        }\n        if (returnOnlyOutputs) {\n            return outputs;\n        }\n        return { ...inputs, ...outputs };\n    }\n    /**\n     * Return a json-like object representing this chain.\n     */\n    serialize() {\n        throw new Error(\"Method not implemented.\");\n    }\n    /** @deprecated Use .invoke() instead. Will be removed in 0.2.0. */\n    async run(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    input, config) {\n        const inputKeys = this.inputKeys.filter((k) => !this.memory?.memoryKeys.includes(k) ?? true);\n        const isKeylessInput = inputKeys.length <= 1;\n        if (!isKeylessInput) {\n            throw new Error(`Chain ${this._chainType()} expects multiple inputs, cannot use 'run' `);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const values = inputKeys.length ? { [inputKeys[0]]: input } : {};\n        const returnValues = await this.call(values, config);\n        const keys = Object.keys(returnValues);\n        if (keys.length === 1) {\n            return returnValues[keys[0]];\n        }\n        throw new Error(\"return values have multiple keys, `run` only supported when one key currently\");\n    }\n    async _formatValues(values) {\n        const fullValues = { ...values };\n        if (fullValues.timeout && !fullValues.signal) {\n            fullValues.signal = AbortSignal.timeout(fullValues.timeout);\n            delete fullValues.timeout;\n        }\n        if (!(this.memory == null)) {\n            const newValues = await this.memory.loadMemoryVariables(this._selectMemoryInputs(values));\n            for (const [key, value] of Object.entries(newValues)) {\n                fullValues[key] = value;\n            }\n        }\n        return fullValues;\n    }\n    /**\n     * @deprecated Use .invoke() instead. Will be removed in 0.2.0.\n     *\n     * Run the core logic of this chain and add to output if desired.\n     *\n     * Wraps _call and handles memory.\n     */\n    async call(values, config, \n    /** @deprecated */\n    tags) {\n        const parsedConfig = { tags, ...(0,_langchain_core_callbacks_manager__WEBPACK_IMPORTED_MODULE_1__.parseCallbackConfigArg)(config) };\n        return this.invoke(values, parsedConfig);\n    }\n    /**\n     * @deprecated Use .batch() instead. Will be removed in 0.2.0.\n     *\n     * Call the chain on all inputs in the list\n     */\n    async apply(inputs, config) {\n        return Promise.all(inputs.map(async (i, idx) => this.call(i, config?.[idx])));\n    }\n    /**\n     * Load a chain from a json-like object describing it.\n     */\n    static async deserialize(data, values = {}) {\n        switch (data._type) {\n            case \"llm_chain\": {\n                const { LLMChain } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./llm_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/llm_chain.js\"));\n                return LLMChain.deserialize(data);\n            }\n            case \"sequential_chain\": {\n                const { SequentialChain } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/langchain\").then(__webpack_require__.bind(__webpack_require__, /*! ./sequential_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/sequential_chain.js\"));\n                return SequentialChain.deserialize(data);\n            }\n            case \"simple_sequential_chain\": {\n                const { SimpleSequentialChain } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/langchain\").then(__webpack_require__.bind(__webpack_require__, /*! ./sequential_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/sequential_chain.js\"));\n                return SimpleSequentialChain.deserialize(data);\n            }\n            case \"stuff_documents_chain\": {\n                const { StuffDocumentsChain } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/langchain\").then(__webpack_require__.bind(__webpack_require__, /*! ./combine_docs_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/combine_docs_chain.js\"));\n                return StuffDocumentsChain.deserialize(data);\n            }\n            case \"map_reduce_documents_chain\": {\n                const { MapReduceDocumentsChain } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/langchain\").then(__webpack_require__.bind(__webpack_require__, /*! ./combine_docs_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/combine_docs_chain.js\"));\n                return MapReduceDocumentsChain.deserialize(data);\n            }\n            case \"refine_documents_chain\": {\n                const { RefineDocumentsChain } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/langchain\").then(__webpack_require__.bind(__webpack_require__, /*! ./combine_docs_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/combine_docs_chain.js\"));\n                return RefineDocumentsChain.deserialize(data);\n            }\n            case \"vector_db_qa\": {\n                const { VectorDBQAChain } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/langchain\"), __webpack_require__.e(\"vendor-chunks/@langchain\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./vector_db_qa.js */ \"(rsc)/./node_modules/langchain/dist/chains/vector_db_qa.js\"));\n                return VectorDBQAChain.deserialize(data, values);\n            }\n            case \"api_chain\": {\n                const { APIChain } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/langchain\").then(__webpack_require__.bind(__webpack_require__, /*! ./api/api_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/api/api_chain.js\"));\n                return APIChain.deserialize(data);\n            }\n            default:\n                throw new Error(`Invalid prompt type in config: ${data._type}`);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL2Jhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBa0Q7QUFDMkM7QUFDcEM7QUFDYTtBQUN0RTtBQUNBO0FBQ0E7QUFDTyx3QkFBd0IsK0VBQWE7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG1DQUFtQztBQUN2RCxvQkFBb0IsdURBQXVEO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG9CQUFvQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix1RUFBWTtBQUNuQztBQUNBLHVDQUF1Qyw4RUFBZSwwR0FBMEcsdUJBQXVCO0FBQ3ZMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLDREQUFPO0FBQ25ELGtDQUFrQywyQkFBMkI7QUFDN0Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCx3QkFBd0IsYUFBYSxrQkFBa0I7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxtQkFBbUI7QUFDeEQ7QUFDQTtBQUNBLDRDQUE0Qyx3QkFBd0I7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixTQUFTLHlGQUFzQjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0Esd0JBQXdCLFdBQVcsUUFBUSxxS0FBd0I7QUFDbkU7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGtCQUFrQixRQUFRLG1OQUErQjtBQUNqRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isd0JBQXdCLFFBQVEsbU5BQStCO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzQkFBc0IsUUFBUSx1TkFBaUM7QUFDdkY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDBCQUEwQixRQUFRLHVOQUFpQztBQUMzRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCLFFBQVEsdU5BQWlDO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixrQkFBa0IsUUFBUSw0UUFBMkI7QUFDN0U7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFdBQVcsUUFBUSw2TUFBNEI7QUFDdkU7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLFdBQVc7QUFDN0U7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1haS1wcmVwLy4vbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9iYXNlLmpzP2QzNWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUlVOX0tFWSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvb3V0cHV0c1wiO1xuaW1wb3J0IHsgQ2FsbGJhY2tNYW5hZ2VyLCBwYXJzZUNhbGxiYWNrQ29uZmlnQXJnLCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvY2FsbGJhY2tzL21hbmFnZXJcIjtcbmltcG9ydCB7IGVuc3VyZUNvbmZpZyB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcnVubmFibGVzXCI7XG5pbXBvcnQgeyBCYXNlTGFuZ0NoYWluLCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvbGFuZ3VhZ2VfbW9kZWxzL2Jhc2VcIjtcbi8qKlxuICogQmFzZSBpbnRlcmZhY2UgdGhhdCBhbGwgY2hhaW5zIG11c3QgaW1wbGVtZW50LlxuICovXG5leHBvcnQgY2xhc3MgQmFzZUNoYWluIGV4dGVuZHMgQmFzZUxhbmdDaGFpbiB7XG4gICAgZ2V0IGxjX25hbWVzcGFjZSgpIHtcbiAgICAgICAgcmV0dXJuIFtcImxhbmdjaGFpblwiLCBcImNoYWluc1wiLCB0aGlzLl9jaGFpblR5cGUoKV07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcywgXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgdmVyYm9zZSwgXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgY2FsbGJhY2tzKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmXG4gICAgICAgICAgICB0eXBlb2YgZmllbGRzID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICAhKFwic2F2ZUNvbnRleHRcIiBpbiBmaWVsZHMpKSB7XG4gICAgICAgICAgICAvLyBmaWVsZHMgaXMgbm90IGEgQmFzZU1lbW9yeVxuICAgICAgICAgICAgY29uc3QgeyBtZW1vcnksIGNhbGxiYWNrTWFuYWdlciwgLi4ucmVzdCB9ID0gZmllbGRzO1xuICAgICAgICAgICAgc3VwZXIoeyAuLi5yZXN0LCBjYWxsYmFja3M6IGNhbGxiYWNrTWFuYWdlciA/PyByZXN0LmNhbGxiYWNrcyB9KTtcbiAgICAgICAgICAgIHRoaXMubWVtb3J5ID0gbWVtb3J5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZmllbGRzIGlzIGEgQmFzZU1lbW9yeVxuICAgICAgICAgICAgc3VwZXIoeyB2ZXJib3NlLCBjYWxsYmFja3MgfSk7XG4gICAgICAgICAgICB0aGlzLm1lbW9yeSA9IGZpZWxkcztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIF9zZWxlY3RNZW1vcnlJbnB1dHModmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlc0Zvck1lbW9yeSA9IHsgLi4udmFsdWVzIH07XG4gICAgICAgIGlmIChcInNpZ25hbFwiIGluIHZhbHVlc0Zvck1lbW9yeSkge1xuICAgICAgICAgICAgZGVsZXRlIHZhbHVlc0Zvck1lbW9yeS5zaWduYWw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwidGltZW91dFwiIGluIHZhbHVlc0Zvck1lbW9yeSkge1xuICAgICAgICAgICAgZGVsZXRlIHZhbHVlc0Zvck1lbW9yeS50aW1lb3V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZXNGb3JNZW1vcnk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZSB0aGUgY2hhaW4gd2l0aCB0aGUgcHJvdmlkZWQgaW5wdXQgYW5kIHJldHVybnMgdGhlIG91dHB1dC5cbiAgICAgKiBAcGFyYW0gaW5wdXQgSW5wdXQgdmFsdWVzIGZvciB0aGUgY2hhaW4gcnVuLlxuICAgICAqIEBwYXJhbSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBmb3IgdGhlIFJ1bm5hYmxlLlxuICAgICAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBvdXRwdXQgb2YgdGhlIGNoYWluIHJ1bi5cbiAgICAgKi9cbiAgICBhc3luYyBpbnZva2UoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gZW5zdXJlQ29uZmlnKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBmdWxsVmFsdWVzID0gYXdhaXQgdGhpcy5fZm9ybWF0VmFsdWVzKGlucHV0KTtcbiAgICAgICAgY29uc3QgY2FsbGJhY2tNYW5hZ2VyXyA9IGF3YWl0IENhbGxiYWNrTWFuYWdlci5jb25maWd1cmUoY29uZmlnPy5jYWxsYmFja3MsIHRoaXMuY2FsbGJhY2tzLCBjb25maWc/LnRhZ3MsIHRoaXMudGFncywgY29uZmlnPy5tZXRhZGF0YSwgdGhpcy5tZXRhZGF0YSwgeyB2ZXJib3NlOiB0aGlzLnZlcmJvc2UgfSk7XG4gICAgICAgIGNvbnN0IHJ1bk1hbmFnZXIgPSBhd2FpdCBjYWxsYmFja01hbmFnZXJfPy5oYW5kbGVDaGFpblN0YXJ0KHRoaXMudG9KU09OKCksIGZ1bGxWYWx1ZXMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgY29uZmlnPy5ydW5OYW1lKTtcbiAgICAgICAgbGV0IG91dHB1dFZhbHVlcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG91dHB1dFZhbHVlcyA9IGF3YWl0IChmdWxsVmFsdWVzLnNpZ25hbFxuICAgICAgICAgICAgICAgID8gUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FsbChmdWxsVmFsdWVzLCBydW5NYW5hZ2VyLCBjb25maWcpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZSgoXywgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdWxsVmFsdWVzLnNpZ25hbD8uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiQWJvcnRFcnJvclwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICA6IHRoaXMuX2NhbGwoZnVsbFZhbHVlcywgcnVuTWFuYWdlciwgY29uZmlnKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRXJyb3IoZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKHRoaXMubWVtb3J5ID09IG51bGwpKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLm1lbW9yeS5zYXZlQ29udGV4dCh0aGlzLl9zZWxlY3RNZW1vcnlJbnB1dHMoaW5wdXQpLCBvdXRwdXRWYWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZUNoYWluRW5kKG91dHB1dFZhbHVlcyk7XG4gICAgICAgIC8vIGFkZCB0aGUgcnVuTWFuYWdlcidzIGN1cnJlbnRSdW5JZCB0byB0aGUgb3V0cHV0VmFsdWVzXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvdXRwdXRWYWx1ZXMsIFJVTl9LRVksIHtcbiAgICAgICAgICAgIHZhbHVlOiBydW5NYW5hZ2VyID8geyBydW5JZDogcnVuTWFuYWdlcj8ucnVuSWQgfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvdXRwdXRWYWx1ZXM7XG4gICAgfVxuICAgIF92YWxpZGF0ZU91dHB1dHMob3V0cHV0cykge1xuICAgICAgICBjb25zdCBtaXNzaW5nS2V5cyA9IHRoaXMub3V0cHV0S2V5cy5maWx0ZXIoKGspID0+ICEoayBpbiBvdXRwdXRzKSk7XG4gICAgICAgIGlmIChtaXNzaW5nS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBvdXRwdXQga2V5czogJHttaXNzaW5nS2V5cy5qb2luKFwiLCBcIil9IGZyb20gY2hhaW4gJHt0aGlzLl9jaGFpblR5cGUoKX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBwcmVwT3V0cHV0cyhpbnB1dHMsIG91dHB1dHMsIHJldHVybk9ubHlPdXRwdXRzID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5fdmFsaWRhdGVPdXRwdXRzKG91dHB1dHMpO1xuICAgICAgICBpZiAodGhpcy5tZW1vcnkpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubWVtb3J5LnNhdmVDb250ZXh0KGlucHV0cywgb3V0cHV0cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJldHVybk9ubHlPdXRwdXRzKSB7XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0cztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyAuLi5pbnB1dHMsIC4uLm91dHB1dHMgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEganNvbi1saWtlIG9iamVjdCByZXByZXNlbnRpbmcgdGhpcyBjaGFpbi5cbiAgICAgKi9cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgVXNlIC5pbnZva2UoKSBpbnN0ZWFkLiBXaWxsIGJlIHJlbW92ZWQgaW4gMC4yLjAuICovXG4gICAgYXN5bmMgcnVuKFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgaW5wdXQsIGNvbmZpZykge1xuICAgICAgICBjb25zdCBpbnB1dEtleXMgPSB0aGlzLmlucHV0S2V5cy5maWx0ZXIoKGspID0+ICF0aGlzLm1lbW9yeT8ubWVtb3J5S2V5cy5pbmNsdWRlcyhrKSA/PyB0cnVlKTtcbiAgICAgICAgY29uc3QgaXNLZXlsZXNzSW5wdXQgPSBpbnB1dEtleXMubGVuZ3RoIDw9IDE7XG4gICAgICAgIGlmICghaXNLZXlsZXNzSW5wdXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhaW4gJHt0aGlzLl9jaGFpblR5cGUoKX0gZXhwZWN0cyBtdWx0aXBsZSBpbnB1dHMsIGNhbm5vdCB1c2UgJ3J1bicgYCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgY29uc3QgdmFsdWVzID0gaW5wdXRLZXlzLmxlbmd0aCA/IHsgW2lucHV0S2V5c1swXV06IGlucHV0IH0gOiB7fTtcbiAgICAgICAgY29uc3QgcmV0dXJuVmFsdWVzID0gYXdhaXQgdGhpcy5jYWxsKHZhbHVlcywgY29uZmlnKTtcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHJldHVyblZhbHVlcyk7XG4gICAgICAgIGlmIChrZXlzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlc1trZXlzWzBdXTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJyZXR1cm4gdmFsdWVzIGhhdmUgbXVsdGlwbGUga2V5cywgYHJ1bmAgb25seSBzdXBwb3J0ZWQgd2hlbiBvbmUga2V5IGN1cnJlbnRseVwiKTtcbiAgICB9XG4gICAgYXN5bmMgX2Zvcm1hdFZhbHVlcyh2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgZnVsbFZhbHVlcyA9IHsgLi4udmFsdWVzIH07XG4gICAgICAgIGlmIChmdWxsVmFsdWVzLnRpbWVvdXQgJiYgIWZ1bGxWYWx1ZXMuc2lnbmFsKSB7XG4gICAgICAgICAgICBmdWxsVmFsdWVzLnNpZ25hbCA9IEFib3J0U2lnbmFsLnRpbWVvdXQoZnVsbFZhbHVlcy50aW1lb3V0KTtcbiAgICAgICAgICAgIGRlbGV0ZSBmdWxsVmFsdWVzLnRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEodGhpcy5tZW1vcnkgPT0gbnVsbCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlcyA9IGF3YWl0IHRoaXMubWVtb3J5LmxvYWRNZW1vcnlWYXJpYWJsZXModGhpcy5fc2VsZWN0TWVtb3J5SW5wdXRzKHZhbHVlcykpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMobmV3VmFsdWVzKSkge1xuICAgICAgICAgICAgICAgIGZ1bGxWYWx1ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdWxsVmFsdWVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgLmludm9rZSgpIGluc3RlYWQuIFdpbGwgYmUgcmVtb3ZlZCBpbiAwLjIuMC5cbiAgICAgKlxuICAgICAqIFJ1biB0aGUgY29yZSBsb2dpYyBvZiB0aGlzIGNoYWluIGFuZCBhZGQgdG8gb3V0cHV0IGlmIGRlc2lyZWQuXG4gICAgICpcbiAgICAgKiBXcmFwcyBfY2FsbCBhbmQgaGFuZGxlcyBtZW1vcnkuXG4gICAgICovXG4gICAgYXN5bmMgY2FsbCh2YWx1ZXMsIGNvbmZpZywgXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgdGFncykge1xuICAgICAgICBjb25zdCBwYXJzZWRDb25maWcgPSB7IHRhZ3MsIC4uLnBhcnNlQ2FsbGJhY2tDb25maWdBcmcoY29uZmlnKSB9O1xuICAgICAgICByZXR1cm4gdGhpcy5pbnZva2UodmFsdWVzLCBwYXJzZWRDb25maWcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgLmJhdGNoKCkgaW5zdGVhZC4gV2lsbCBiZSByZW1vdmVkIGluIDAuMi4wLlxuICAgICAqXG4gICAgICogQ2FsbCB0aGUgY2hhaW4gb24gYWxsIGlucHV0cyBpbiB0aGUgbGlzdFxuICAgICAqL1xuICAgIGFzeW5jIGFwcGx5KGlucHV0cywgY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChpbnB1dHMubWFwKGFzeW5jIChpLCBpZHgpID0+IHRoaXMuY2FsbChpLCBjb25maWc/LltpZHhdKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkIGEgY2hhaW4gZnJvbSBhIGpzb24tbGlrZSBvYmplY3QgZGVzY3JpYmluZyBpdC5cbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSwgdmFsdWVzID0ge30pIHtcbiAgICAgICAgc3dpdGNoIChkYXRhLl90eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwibGxtX2NoYWluXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IExMTUNoYWluIH0gPSBhd2FpdCBpbXBvcnQoXCIuL2xsbV9jaGFpbi5qc1wiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gTExNQ2hhaW4uZGVzZXJpYWxpemUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwic2VxdWVudGlhbF9jaGFpblwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBTZXF1ZW50aWFsQ2hhaW4gfSA9IGF3YWl0IGltcG9ydChcIi4vc2VxdWVudGlhbF9jaGFpbi5qc1wiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gU2VxdWVudGlhbENoYWluLmRlc2VyaWFsaXplKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInNpbXBsZV9zZXF1ZW50aWFsX2NoYWluXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IFNpbXBsZVNlcXVlbnRpYWxDaGFpbiB9ID0gYXdhaXQgaW1wb3J0KFwiLi9zZXF1ZW50aWFsX2NoYWluLmpzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBTaW1wbGVTZXF1ZW50aWFsQ2hhaW4uZGVzZXJpYWxpemUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwic3R1ZmZfZG9jdW1lbnRzX2NoYWluXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IFN0dWZmRG9jdW1lbnRzQ2hhaW4gfSA9IGF3YWl0IGltcG9ydChcIi4vY29tYmluZV9kb2NzX2NoYWluLmpzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBTdHVmZkRvY3VtZW50c0NoYWluLmRlc2VyaWFsaXplKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm1hcF9yZWR1Y2VfZG9jdW1lbnRzX2NoYWluXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IE1hcFJlZHVjZURvY3VtZW50c0NoYWluIH0gPSBhd2FpdCBpbXBvcnQoXCIuL2NvbWJpbmVfZG9jc19jaGFpbi5qc1wiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWFwUmVkdWNlRG9jdW1lbnRzQ2hhaW4uZGVzZXJpYWxpemUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwicmVmaW5lX2RvY3VtZW50c19jaGFpblwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBSZWZpbmVEb2N1bWVudHNDaGFpbiB9ID0gYXdhaXQgaW1wb3J0KFwiLi9jb21iaW5lX2RvY3NfY2hhaW4uanNcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlZmluZURvY3VtZW50c0NoYWluLmRlc2VyaWFsaXplKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInZlY3Rvcl9kYl9xYVwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBWZWN0b3JEQlFBQ2hhaW4gfSA9IGF3YWl0IGltcG9ydChcIi4vdmVjdG9yX2RiX3FhLmpzXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBWZWN0b3JEQlFBQ2hhaW4uZGVzZXJpYWxpemUoZGF0YSwgdmFsdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJhcGlfY2hhaW5cIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgQVBJQ2hhaW4gfSA9IGF3YWl0IGltcG9ydChcIi4vYXBpL2FwaV9jaGFpbi5qc1wiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gQVBJQ2hhaW4uZGVzZXJpYWxpemUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwcm9tcHQgdHlwZSBpbiBjb25maWc6ICR7ZGF0YS5fdHlwZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/base.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/combine_docs_chain.js":
/*!******************************************************************!*\
  !*** ./node_modules/langchain/dist/chains/combine_docs_chain.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MapReduceDocumentsChain: () => (/* binding */ MapReduceDocumentsChain),\n/* harmony export */   RefineDocumentsChain: () => (/* binding */ RefineDocumentsChain),\n/* harmony export */   StuffDocumentsChain: () => (/* binding */ StuffDocumentsChain)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/prompts */ \"(rsc)/./node_modules/@langchain/core/prompts.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/langchain/dist/chains/base.js\");\n/* harmony import */ var _llm_chain_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./llm_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/llm_chain.js\");\n\n\n\n/**\n * Chain that combines documents by stuffing into context.\n * @augments BaseChain\n * @augments StuffDocumentsChainInput\n */\nclass StuffDocumentsChain extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseChain {\n    static lc_name() {\n        return \"StuffDocumentsChain\";\n    }\n    get inputKeys() {\n        return [this.inputKey, ...this.llmChain.inputKeys].filter((key) => key !== this.documentVariableName);\n    }\n    get outputKeys() {\n        return this.llmChain.outputKeys;\n    }\n    constructor(fields) {\n        super(fields);\n        Object.defineProperty(this, \"llmChain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"inputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"input_documents\"\n        });\n        Object.defineProperty(this, \"documentVariableName\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"context\"\n        });\n        this.llmChain = fields.llmChain;\n        this.documentVariableName =\n            fields.documentVariableName ?? this.documentVariableName;\n        this.inputKey = fields.inputKey ?? this.inputKey;\n    }\n    /** @ignore */\n    _prepInputs(values) {\n        if (!(this.inputKey in values)) {\n            throw new Error(`Document key ${this.inputKey} not found.`);\n        }\n        const { [this.inputKey]: docs, ...rest } = values;\n        const texts = docs.map(({ pageContent }) => pageContent);\n        const text = texts.join(\"\\n\\n\");\n        return {\n            ...rest,\n            [this.documentVariableName]: text,\n        };\n    }\n    /** @ignore */\n    async _call(values, runManager) {\n        const result = await this.llmChain.call(this._prepInputs(values), runManager?.getChild(\"combine_documents\"));\n        return result;\n    }\n    _chainType() {\n        return \"stuff_documents_chain\";\n    }\n    static async deserialize(data) {\n        if (!data.llm_chain) {\n            throw new Error(\"Missing llm_chain\");\n        }\n        return new StuffDocumentsChain({\n            llmChain: await _llm_chain_js__WEBPACK_IMPORTED_MODULE_2__.LLMChain.deserialize(data.llm_chain),\n        });\n    }\n    serialize() {\n        return {\n            _type: this._chainType(),\n            llm_chain: this.llmChain.serialize(),\n        };\n    }\n}\n/**\n * Combine documents by mapping a chain over them, then combining results.\n * @augments BaseChain\n * @augments StuffDocumentsChainInput\n */\nclass MapReduceDocumentsChain extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseChain {\n    static lc_name() {\n        return \"MapReduceDocumentsChain\";\n    }\n    get inputKeys() {\n        return [this.inputKey, ...this.combineDocumentChain.inputKeys];\n    }\n    get outputKeys() {\n        return this.combineDocumentChain.outputKeys;\n    }\n    constructor(fields) {\n        super(fields);\n        Object.defineProperty(this, \"llmChain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"inputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"input_documents\"\n        });\n        Object.defineProperty(this, \"documentVariableName\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"context\"\n        });\n        Object.defineProperty(this, \"returnIntermediateSteps\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: false\n        });\n        Object.defineProperty(this, \"maxTokens\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 3000\n        });\n        Object.defineProperty(this, \"maxIterations\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 10\n        });\n        Object.defineProperty(this, \"ensureMapStep\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: false\n        });\n        Object.defineProperty(this, \"combineDocumentChain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.llmChain = fields.llmChain;\n        this.combineDocumentChain = fields.combineDocumentChain;\n        this.documentVariableName =\n            fields.documentVariableName ?? this.documentVariableName;\n        this.ensureMapStep = fields.ensureMapStep ?? this.ensureMapStep;\n        this.inputKey = fields.inputKey ?? this.inputKey;\n        this.maxTokens = fields.maxTokens ?? this.maxTokens;\n        this.maxIterations = fields.maxIterations ?? this.maxIterations;\n        this.returnIntermediateSteps = fields.returnIntermediateSteps ?? false;\n    }\n    /** @ignore */\n    async _call(values, runManager) {\n        if (!(this.inputKey in values)) {\n            throw new Error(`Document key ${this.inputKey} not found.`);\n        }\n        const { [this.inputKey]: docs, ...rest } = values;\n        let currentDocs = docs;\n        let intermediateSteps = [];\n        // For each iteration, we'll use the `llmChain` to get a new result\n        for (let i = 0; i < this.maxIterations; i += 1) {\n            const inputs = currentDocs.map((d) => ({\n                [this.documentVariableName]: d.pageContent,\n                ...rest,\n            }));\n            const canSkipMapStep = i !== 0 || !this.ensureMapStep;\n            if (canSkipMapStep) {\n                // Calculate the total tokens required in the input\n                const formatted = await this.combineDocumentChain.llmChain.prompt.format(this.combineDocumentChain._prepInputs({\n                    [this.combineDocumentChain.inputKey]: currentDocs,\n                    ...rest,\n                }));\n                const length = await this.combineDocumentChain.llmChain._getNumTokens(formatted);\n                const withinTokenLimit = length < this.maxTokens;\n                // If we can skip the map step, and we're within the token limit, we don't\n                // need to run the map step, so just break out of the loop.\n                if (withinTokenLimit) {\n                    break;\n                }\n            }\n            const results = await this.llmChain.apply(inputs, \n            // If we have a runManager, then we need to create a child for each input\n            // so that we can track the progress of each input.\n            runManager\n                ? Array.from({ length: inputs.length }, (_, i) => runManager.getChild(`map_${i + 1}`))\n                : undefined);\n            const { outputKey } = this.llmChain;\n            // If the flag is set, then concat that to the intermediate steps\n            if (this.returnIntermediateSteps) {\n                intermediateSteps = intermediateSteps.concat(results.map((r) => r[outputKey]));\n            }\n            currentDocs = results.map((r) => ({\n                pageContent: r[outputKey],\n                metadata: {},\n            }));\n        }\n        // Now, with the final result of all the inputs from the `llmChain`, we can\n        // run the `combineDocumentChain` over them.\n        const newInputs = {\n            [this.combineDocumentChain.inputKey]: currentDocs,\n            ...rest,\n        };\n        const result = await this.combineDocumentChain.call(newInputs, runManager?.getChild(\"combine_documents\"));\n        // Return the intermediate steps results if the flag is set\n        if (this.returnIntermediateSteps) {\n            return { ...result, intermediateSteps };\n        }\n        return result;\n    }\n    _chainType() {\n        return \"map_reduce_documents_chain\";\n    }\n    static async deserialize(data) {\n        if (!data.llm_chain) {\n            throw new Error(\"Missing llm_chain\");\n        }\n        if (!data.combine_document_chain) {\n            throw new Error(\"Missing combine_document_chain\");\n        }\n        return new MapReduceDocumentsChain({\n            llmChain: await _llm_chain_js__WEBPACK_IMPORTED_MODULE_2__.LLMChain.deserialize(data.llm_chain),\n            combineDocumentChain: await StuffDocumentsChain.deserialize(data.combine_document_chain),\n        });\n    }\n    serialize() {\n        return {\n            _type: this._chainType(),\n            llm_chain: this.llmChain.serialize(),\n            combine_document_chain: this.combineDocumentChain.serialize(),\n        };\n    }\n}\n/**\n * Combine documents by doing a first pass and then refining on more documents.\n * @augments BaseChain\n * @augments RefineDocumentsChainInput\n */\nclass RefineDocumentsChain extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseChain {\n    static lc_name() {\n        return \"RefineDocumentsChain\";\n    }\n    get defaultDocumentPrompt() {\n        return new _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.PromptTemplate({\n            inputVariables: [\"page_content\"],\n            template: \"{page_content}\",\n        });\n    }\n    get inputKeys() {\n        return [\n            ...new Set([\n                this.inputKey,\n                ...this.llmChain.inputKeys,\n                ...this.refineLLMChain.inputKeys,\n            ]),\n        ].filter((key) => key !== this.documentVariableName && key !== this.initialResponseName);\n    }\n    get outputKeys() {\n        return [this.outputKey];\n    }\n    constructor(fields) {\n        super(fields);\n        Object.defineProperty(this, \"llmChain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"inputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"input_documents\"\n        });\n        Object.defineProperty(this, \"outputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"output_text\"\n        });\n        Object.defineProperty(this, \"documentVariableName\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"context\"\n        });\n        Object.defineProperty(this, \"initialResponseName\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"existing_answer\"\n        });\n        Object.defineProperty(this, \"refineLLMChain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"documentPrompt\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.defaultDocumentPrompt\n        });\n        this.llmChain = fields.llmChain;\n        this.refineLLMChain = fields.refineLLMChain;\n        this.documentVariableName =\n            fields.documentVariableName ?? this.documentVariableName;\n        this.inputKey = fields.inputKey ?? this.inputKey;\n        this.outputKey = fields.outputKey ?? this.outputKey;\n        this.documentPrompt = fields.documentPrompt ?? this.documentPrompt;\n        this.initialResponseName =\n            fields.initialResponseName ?? this.initialResponseName;\n    }\n    /** @ignore */\n    async _constructInitialInputs(doc, rest) {\n        const baseInfo = {\n            page_content: doc.pageContent,\n            ...doc.metadata,\n        };\n        const documentInfo = {};\n        this.documentPrompt.inputVariables.forEach((value) => {\n            documentInfo[value] = baseInfo[value];\n        });\n        const baseInputs = {\n            [this.documentVariableName]: await this.documentPrompt.format({\n                ...documentInfo,\n            }),\n        };\n        const inputs = { ...baseInputs, ...rest };\n        return inputs;\n    }\n    /** @ignore */\n    async _constructRefineInputs(doc, res) {\n        const baseInfo = {\n            page_content: doc.pageContent,\n            ...doc.metadata,\n        };\n        const documentInfo = {};\n        this.documentPrompt.inputVariables.forEach((value) => {\n            documentInfo[value] = baseInfo[value];\n        });\n        const baseInputs = {\n            [this.documentVariableName]: await this.documentPrompt.format({\n                ...documentInfo,\n            }),\n        };\n        const inputs = { [this.initialResponseName]: res, ...baseInputs };\n        return inputs;\n    }\n    /** @ignore */\n    async _call(values, runManager) {\n        if (!(this.inputKey in values)) {\n            throw new Error(`Document key ${this.inputKey} not found.`);\n        }\n        const { [this.inputKey]: docs, ...rest } = values;\n        const currentDocs = docs;\n        const initialInputs = await this._constructInitialInputs(currentDocs[0], rest);\n        let res = await this.llmChain.predict({ ...initialInputs }, runManager?.getChild(\"answer\"));\n        const refineSteps = [res];\n        for (let i = 1; i < currentDocs.length; i += 1) {\n            const refineInputs = await this._constructRefineInputs(currentDocs[i], res);\n            const inputs = { ...refineInputs, ...rest };\n            res = await this.refineLLMChain.predict({ ...inputs }, runManager?.getChild(\"refine\"));\n            refineSteps.push(res);\n        }\n        return { [this.outputKey]: res };\n    }\n    _chainType() {\n        return \"refine_documents_chain\";\n    }\n    static async deserialize(data) {\n        const SerializedLLMChain = data.llm_chain;\n        if (!SerializedLLMChain) {\n            throw new Error(\"Missing llm_chain\");\n        }\n        const SerializedRefineDocumentChain = data.refine_llm_chain;\n        if (!SerializedRefineDocumentChain) {\n            throw new Error(\"Missing refine_llm_chain\");\n        }\n        return new RefineDocumentsChain({\n            llmChain: await _llm_chain_js__WEBPACK_IMPORTED_MODULE_2__.LLMChain.deserialize(SerializedLLMChain),\n            refineLLMChain: await _llm_chain_js__WEBPACK_IMPORTED_MODULE_2__.LLMChain.deserialize(SerializedRefineDocumentChain),\n        });\n    }\n    serialize() {\n        return {\n            _type: this._chainType(),\n            llm_chain: this.llmChain.serialize(),\n            refine_llm_chain: this.refineLLMChain.serialize(),\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL2NvbWJpbmVfZG9jc19jaGFpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBeUQ7QUFDbkI7QUFDSTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sa0NBQWtDLCtDQUFTO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGVBQWU7QUFDM0Q7QUFDQSxnQkFBZ0IsaUNBQWlDO0FBQ2pELGtDQUFrQyxhQUFhO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG1EQUFRO0FBQ3BDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHNDQUFzQywrQ0FBUztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGVBQWU7QUFDM0Q7QUFDQSxnQkFBZ0IsaUNBQWlDO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix3QkFBd0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsdUJBQXVCLHVDQUF1QyxNQUFNO0FBQ25HO0FBQ0Esb0JBQW9CLFlBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG1EQUFRO0FBQ3BDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxtQ0FBbUMsK0NBQVM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsbUVBQWM7QUFDakM7QUFDQSx3QkFBd0IsYUFBYTtBQUNyQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxlQUFlO0FBQzNEO0FBQ0EsZ0JBQWdCLGlDQUFpQztBQUNqRDtBQUNBO0FBQ0EsZ0RBQWdELGtCQUFrQjtBQUNsRTtBQUNBLHdCQUF3Qix3QkFBd0I7QUFDaEQ7QUFDQSw2QkFBNkI7QUFDN0Isc0RBQXNELFdBQVc7QUFDakU7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG1EQUFRO0FBQ3BDLGtDQUFrQyxtREFBUTtBQUMxQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1haS1wcmVwLy4vbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9jb21iaW5lX2RvY3NfY2hhaW4uanM/MGNmOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcHJvbXB0c1wiO1xuaW1wb3J0IHsgQmFzZUNoYWluIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgTExNQ2hhaW4gfSBmcm9tIFwiLi9sbG1fY2hhaW4uanNcIjtcbi8qKlxuICogQ2hhaW4gdGhhdCBjb21iaW5lcyBkb2N1bWVudHMgYnkgc3R1ZmZpbmcgaW50byBjb250ZXh0LlxuICogQGF1Z21lbnRzIEJhc2VDaGFpblxuICogQGF1Z21lbnRzIFN0dWZmRG9jdW1lbnRzQ2hhaW5JbnB1dFxuICovXG5leHBvcnQgY2xhc3MgU3R1ZmZEb2N1bWVudHNDaGFpbiBleHRlbmRzIEJhc2VDaGFpbiB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlN0dWZmRG9jdW1lbnRzQ2hhaW5cIjtcbiAgICB9XG4gICAgZ2V0IGlucHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmlucHV0S2V5LCAuLi50aGlzLmxsbUNoYWluLmlucHV0S2V5c10uZmlsdGVyKChrZXkpID0+IGtleSAhPT0gdGhpcy5kb2N1bWVudFZhcmlhYmxlTmFtZSk7XG4gICAgfVxuICAgIGdldCBvdXRwdXRLZXlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sbG1DaGFpbi5vdXRwdXRLZXlzO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGxtQ2hhaW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5wdXRLZXlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiaW5wdXRfZG9jdW1lbnRzXCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRvY3VtZW50VmFyaWFibGVOYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcImNvbnRleHRcIlxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sbG1DaGFpbiA9IGZpZWxkcy5sbG1DaGFpbjtcbiAgICAgICAgdGhpcy5kb2N1bWVudFZhcmlhYmxlTmFtZSA9XG4gICAgICAgICAgICBmaWVsZHMuZG9jdW1lbnRWYXJpYWJsZU5hbWUgPz8gdGhpcy5kb2N1bWVudFZhcmlhYmxlTmFtZTtcbiAgICAgICAgdGhpcy5pbnB1dEtleSA9IGZpZWxkcy5pbnB1dEtleSA/PyB0aGlzLmlucHV0S2V5O1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIF9wcmVwSW5wdXRzKHZhbHVlcykge1xuICAgICAgICBpZiAoISh0aGlzLmlucHV0S2V5IGluIHZhbHVlcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRG9jdW1lbnQga2V5ICR7dGhpcy5pbnB1dEtleX0gbm90IGZvdW5kLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgW3RoaXMuaW5wdXRLZXldOiBkb2NzLCAuLi5yZXN0IH0gPSB2YWx1ZXM7XG4gICAgICAgIGNvbnN0IHRleHRzID0gZG9jcy5tYXAoKHsgcGFnZUNvbnRlbnQgfSkgPT4gcGFnZUNvbnRlbnQpO1xuICAgICAgICBjb25zdCB0ZXh0ID0gdGV4dHMuam9pbihcIlxcblxcblwiKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgICBbdGhpcy5kb2N1bWVudFZhcmlhYmxlTmFtZV06IHRleHQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgYXN5bmMgX2NhbGwodmFsdWVzLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubGxtQ2hhaW4uY2FsbCh0aGlzLl9wcmVwSW5wdXRzKHZhbHVlcyksIHJ1bk1hbmFnZXI/LmdldENoaWxkKFwiY29tYmluZV9kb2N1bWVudHNcIikpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBfY2hhaW5UeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJzdHVmZl9kb2N1bWVudHNfY2hhaW5cIjtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGRlc2VyaWFsaXplKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhLmxsbV9jaGFpbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBsbG1fY2hhaW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTdHVmZkRvY3VtZW50c0NoYWluKHtcbiAgICAgICAgICAgIGxsbUNoYWluOiBhd2FpdCBMTE1DaGFpbi5kZXNlcmlhbGl6ZShkYXRhLmxsbV9jaGFpbiksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfdHlwZTogdGhpcy5fY2hhaW5UeXBlKCksXG4gICAgICAgICAgICBsbG1fY2hhaW46IHRoaXMubGxtQ2hhaW4uc2VyaWFsaXplKCksXG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG4gKiBDb21iaW5lIGRvY3VtZW50cyBieSBtYXBwaW5nIGEgY2hhaW4gb3ZlciB0aGVtLCB0aGVuIGNvbWJpbmluZyByZXN1bHRzLlxuICogQGF1Z21lbnRzIEJhc2VDaGFpblxuICogQGF1Z21lbnRzIFN0dWZmRG9jdW1lbnRzQ2hhaW5JbnB1dFxuICovXG5leHBvcnQgY2xhc3MgTWFwUmVkdWNlRG9jdW1lbnRzQ2hhaW4gZXh0ZW5kcyBCYXNlQ2hhaW4ge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJNYXBSZWR1Y2VEb2N1bWVudHNDaGFpblwiO1xuICAgIH1cbiAgICBnZXQgaW5wdXRLZXlzKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuaW5wdXRLZXksIC4uLnRoaXMuY29tYmluZURvY3VtZW50Q2hhaW4uaW5wdXRLZXlzXTtcbiAgICB9XG4gICAgZ2V0IG91dHB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbWJpbmVEb2N1bWVudENoYWluLm91dHB1dEtleXM7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsbG1DaGFpblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnB1dEtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJpbnB1dF9kb2N1bWVudHNcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZG9jdW1lbnRWYXJpYWJsZU5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFwiY29udGV4dFwiXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXR1cm5JbnRlcm1lZGlhdGVTdGVwc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1heFRva2Vuc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMzAwMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWF4SXRlcmF0aW9uc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogMTBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImVuc3VyZU1hcFN0ZXBcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb21iaW5lRG9jdW1lbnRDaGFpblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxsbUNoYWluID0gZmllbGRzLmxsbUNoYWluO1xuICAgICAgICB0aGlzLmNvbWJpbmVEb2N1bWVudENoYWluID0gZmllbGRzLmNvbWJpbmVEb2N1bWVudENoYWluO1xuICAgICAgICB0aGlzLmRvY3VtZW50VmFyaWFibGVOYW1lID1cbiAgICAgICAgICAgIGZpZWxkcy5kb2N1bWVudFZhcmlhYmxlTmFtZSA/PyB0aGlzLmRvY3VtZW50VmFyaWFibGVOYW1lO1xuICAgICAgICB0aGlzLmVuc3VyZU1hcFN0ZXAgPSBmaWVsZHMuZW5zdXJlTWFwU3RlcCA/PyB0aGlzLmVuc3VyZU1hcFN0ZXA7XG4gICAgICAgIHRoaXMuaW5wdXRLZXkgPSBmaWVsZHMuaW5wdXRLZXkgPz8gdGhpcy5pbnB1dEtleTtcbiAgICAgICAgdGhpcy5tYXhUb2tlbnMgPSBmaWVsZHMubWF4VG9rZW5zID8/IHRoaXMubWF4VG9rZW5zO1xuICAgICAgICB0aGlzLm1heEl0ZXJhdGlvbnMgPSBmaWVsZHMubWF4SXRlcmF0aW9ucyA/PyB0aGlzLm1heEl0ZXJhdGlvbnM7XG4gICAgICAgIHRoaXMucmV0dXJuSW50ZXJtZWRpYXRlU3RlcHMgPSBmaWVsZHMucmV0dXJuSW50ZXJtZWRpYXRlU3RlcHMgPz8gZmFsc2U7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgYXN5bmMgX2NhbGwodmFsdWVzLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGlmICghKHRoaXMuaW5wdXRLZXkgaW4gdmFsdWVzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEb2N1bWVudCBrZXkgJHt0aGlzLmlucHV0S2V5fSBub3QgZm91bmQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBbdGhpcy5pbnB1dEtleV06IGRvY3MsIC4uLnJlc3QgfSA9IHZhbHVlcztcbiAgICAgICAgbGV0IGN1cnJlbnREb2NzID0gZG9jcztcbiAgICAgICAgbGV0IGludGVybWVkaWF0ZVN0ZXBzID0gW107XG4gICAgICAgIC8vIEZvciBlYWNoIGl0ZXJhdGlvbiwgd2UnbGwgdXNlIHRoZSBgbGxtQ2hhaW5gIHRvIGdldCBhIG5ldyByZXN1bHRcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1heEl0ZXJhdGlvbnM7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRzID0gY3VycmVudERvY3MubWFwKChkKSA9PiAoe1xuICAgICAgICAgICAgICAgIFt0aGlzLmRvY3VtZW50VmFyaWFibGVOYW1lXTogZC5wYWdlQ29udGVudCxcbiAgICAgICAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY29uc3QgY2FuU2tpcE1hcFN0ZXAgPSBpICE9PSAwIHx8ICF0aGlzLmVuc3VyZU1hcFN0ZXA7XG4gICAgICAgICAgICBpZiAoY2FuU2tpcE1hcFN0ZXApIHtcbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHRvdGFsIHRva2VucyByZXF1aXJlZCBpbiB0aGUgaW5wdXRcbiAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWQgPSBhd2FpdCB0aGlzLmNvbWJpbmVEb2N1bWVudENoYWluLmxsbUNoYWluLnByb21wdC5mb3JtYXQodGhpcy5jb21iaW5lRG9jdW1lbnRDaGFpbi5fcHJlcElucHV0cyh7XG4gICAgICAgICAgICAgICAgICAgIFt0aGlzLmNvbWJpbmVEb2N1bWVudENoYWluLmlucHV0S2V5XTogY3VycmVudERvY3MsXG4gICAgICAgICAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGF3YWl0IHRoaXMuY29tYmluZURvY3VtZW50Q2hhaW4ubGxtQ2hhaW4uX2dldE51bVRva2Vucyhmb3JtYXR0ZWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdpdGhpblRva2VuTGltaXQgPSBsZW5ndGggPCB0aGlzLm1heFRva2VucztcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBjYW4gc2tpcCB0aGUgbWFwIHN0ZXAsIGFuZCB3ZSdyZSB3aXRoaW4gdGhlIHRva2VuIGxpbWl0LCB3ZSBkb24ndFxuICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gcnVuIHRoZSBtYXAgc3RlcCwgc28ganVzdCBicmVhayBvdXQgb2YgdGhlIGxvb3AuXG4gICAgICAgICAgICAgICAgaWYgKHdpdGhpblRva2VuTGltaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMubGxtQ2hhaW4uYXBwbHkoaW5wdXRzLCBcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgYSBydW5NYW5hZ2VyLCB0aGVuIHdlIG5lZWQgdG8gY3JlYXRlIGEgY2hpbGQgZm9yIGVhY2ggaW5wdXRcbiAgICAgICAgICAgIC8vIHNvIHRoYXQgd2UgY2FuIHRyYWNrIHRoZSBwcm9ncmVzcyBvZiBlYWNoIGlucHV0LlxuICAgICAgICAgICAgcnVuTWFuYWdlclxuICAgICAgICAgICAgICAgID8gQXJyYXkuZnJvbSh7IGxlbmd0aDogaW5wdXRzLmxlbmd0aCB9LCAoXywgaSkgPT4gcnVuTWFuYWdlci5nZXRDaGlsZChgbWFwXyR7aSArIDF9YCkpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgY29uc3QgeyBvdXRwdXRLZXkgfSA9IHRoaXMubGxtQ2hhaW47XG4gICAgICAgICAgICAvLyBJZiB0aGUgZmxhZyBpcyBzZXQsIHRoZW4gY29uY2F0IHRoYXQgdG8gdGhlIGludGVybWVkaWF0ZSBzdGVwc1xuICAgICAgICAgICAgaWYgKHRoaXMucmV0dXJuSW50ZXJtZWRpYXRlU3RlcHMpIHtcbiAgICAgICAgICAgICAgICBpbnRlcm1lZGlhdGVTdGVwcyA9IGludGVybWVkaWF0ZVN0ZXBzLmNvbmNhdChyZXN1bHRzLm1hcCgocikgPT4gcltvdXRwdXRLZXldKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50RG9jcyA9IHJlc3VsdHMubWFwKChyKSA9PiAoe1xuICAgICAgICAgICAgICAgIHBhZ2VDb250ZW50OiByW291dHB1dEtleV0sXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHt9LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vdywgd2l0aCB0aGUgZmluYWwgcmVzdWx0IG9mIGFsbCB0aGUgaW5wdXRzIGZyb20gdGhlIGBsbG1DaGFpbmAsIHdlIGNhblxuICAgICAgICAvLyBydW4gdGhlIGBjb21iaW5lRG9jdW1lbnRDaGFpbmAgb3ZlciB0aGVtLlxuICAgICAgICBjb25zdCBuZXdJbnB1dHMgPSB7XG4gICAgICAgICAgICBbdGhpcy5jb21iaW5lRG9jdW1lbnRDaGFpbi5pbnB1dEtleV06IGN1cnJlbnREb2NzLFxuICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jb21iaW5lRG9jdW1lbnRDaGFpbi5jYWxsKG5ld0lucHV0cywgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoXCJjb21iaW5lX2RvY3VtZW50c1wiKSk7XG4gICAgICAgIC8vIFJldHVybiB0aGUgaW50ZXJtZWRpYXRlIHN0ZXBzIHJlc3VsdHMgaWYgdGhlIGZsYWcgaXMgc2V0XG4gICAgICAgIGlmICh0aGlzLnJldHVybkludGVybWVkaWF0ZVN0ZXBzKSB7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXN1bHQsIGludGVybWVkaWF0ZVN0ZXBzIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgX2NoYWluVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwibWFwX3JlZHVjZV9kb2N1bWVudHNfY2hhaW5cIjtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGRlc2VyaWFsaXplKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhLmxsbV9jaGFpbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBsbG1fY2hhaW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRhLmNvbWJpbmVfZG9jdW1lbnRfY2hhaW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgY29tYmluZV9kb2N1bWVudF9jaGFpblwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IE1hcFJlZHVjZURvY3VtZW50c0NoYWluKHtcbiAgICAgICAgICAgIGxsbUNoYWluOiBhd2FpdCBMTE1DaGFpbi5kZXNlcmlhbGl6ZShkYXRhLmxsbV9jaGFpbiksXG4gICAgICAgICAgICBjb21iaW5lRG9jdW1lbnRDaGFpbjogYXdhaXQgU3R1ZmZEb2N1bWVudHNDaGFpbi5kZXNlcmlhbGl6ZShkYXRhLmNvbWJpbmVfZG9jdW1lbnRfY2hhaW4pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX3R5cGU6IHRoaXMuX2NoYWluVHlwZSgpLFxuICAgICAgICAgICAgbGxtX2NoYWluOiB0aGlzLmxsbUNoYWluLnNlcmlhbGl6ZSgpLFxuICAgICAgICAgICAgY29tYmluZV9kb2N1bWVudF9jaGFpbjogdGhpcy5jb21iaW5lRG9jdW1lbnRDaGFpbi5zZXJpYWxpemUoKSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIENvbWJpbmUgZG9jdW1lbnRzIGJ5IGRvaW5nIGEgZmlyc3QgcGFzcyBhbmQgdGhlbiByZWZpbmluZyBvbiBtb3JlIGRvY3VtZW50cy5cbiAqIEBhdWdtZW50cyBCYXNlQ2hhaW5cbiAqIEBhdWdtZW50cyBSZWZpbmVEb2N1bWVudHNDaGFpbklucHV0XG4gKi9cbmV4cG9ydCBjbGFzcyBSZWZpbmVEb2N1bWVudHNDaGFpbiBleHRlbmRzIEJhc2VDaGFpbiB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlJlZmluZURvY3VtZW50c0NoYWluXCI7XG4gICAgfVxuICAgIGdldCBkZWZhdWx0RG9jdW1lbnRQcm9tcHQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbXB0VGVtcGxhdGUoe1xuICAgICAgICAgICAgaW5wdXRWYXJpYWJsZXM6IFtcInBhZ2VfY29udGVudFwiXSxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIntwYWdlX2NvbnRlbnR9XCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgaW5wdXRLZXlzKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgLi4ubmV3IFNldChbXG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dEtleSxcbiAgICAgICAgICAgICAgICAuLi50aGlzLmxsbUNoYWluLmlucHV0S2V5cyxcbiAgICAgICAgICAgICAgICAuLi50aGlzLnJlZmluZUxMTUNoYWluLmlucHV0S2V5cyxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICBdLmZpbHRlcigoa2V5KSA9PiBrZXkgIT09IHRoaXMuZG9jdW1lbnRWYXJpYWJsZU5hbWUgJiYga2V5ICE9PSB0aGlzLmluaXRpYWxSZXNwb25zZU5hbWUpO1xuICAgIH1cbiAgICBnZXQgb3V0cHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLm91dHB1dEtleV07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsbG1DaGFpblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnB1dEtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJpbnB1dF9kb2N1bWVudHNcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3V0cHV0S2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcIm91dHB1dF90ZXh0XCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRvY3VtZW50VmFyaWFibGVOYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcImNvbnRleHRcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5pdGlhbFJlc3BvbnNlTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJleGlzdGluZ19hbnN3ZXJcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVmaW5lTExNQ2hhaW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZG9jdW1lbnRQcm9tcHRcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuZGVmYXVsdERvY3VtZW50UHJvbXB0XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxsbUNoYWluID0gZmllbGRzLmxsbUNoYWluO1xuICAgICAgICB0aGlzLnJlZmluZUxMTUNoYWluID0gZmllbGRzLnJlZmluZUxMTUNoYWluO1xuICAgICAgICB0aGlzLmRvY3VtZW50VmFyaWFibGVOYW1lID1cbiAgICAgICAgICAgIGZpZWxkcy5kb2N1bWVudFZhcmlhYmxlTmFtZSA/PyB0aGlzLmRvY3VtZW50VmFyaWFibGVOYW1lO1xuICAgICAgICB0aGlzLmlucHV0S2V5ID0gZmllbGRzLmlucHV0S2V5ID8/IHRoaXMuaW5wdXRLZXk7XG4gICAgICAgIHRoaXMub3V0cHV0S2V5ID0gZmllbGRzLm91dHB1dEtleSA/PyB0aGlzLm91dHB1dEtleTtcbiAgICAgICAgdGhpcy5kb2N1bWVudFByb21wdCA9IGZpZWxkcy5kb2N1bWVudFByb21wdCA/PyB0aGlzLmRvY3VtZW50UHJvbXB0O1xuICAgICAgICB0aGlzLmluaXRpYWxSZXNwb25zZU5hbWUgPVxuICAgICAgICAgICAgZmllbGRzLmluaXRpYWxSZXNwb25zZU5hbWUgPz8gdGhpcy5pbml0aWFsUmVzcG9uc2VOYW1lO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9jb25zdHJ1Y3RJbml0aWFsSW5wdXRzKGRvYywgcmVzdCkge1xuICAgICAgICBjb25zdCBiYXNlSW5mbyA9IHtcbiAgICAgICAgICAgIHBhZ2VfY29udGVudDogZG9jLnBhZ2VDb250ZW50LFxuICAgICAgICAgICAgLi4uZG9jLm1ldGFkYXRhLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBkb2N1bWVudEluZm8gPSB7fTtcbiAgICAgICAgdGhpcy5kb2N1bWVudFByb21wdC5pbnB1dFZhcmlhYmxlcy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnRJbmZvW3ZhbHVlXSA9IGJhc2VJbmZvW3ZhbHVlXTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGJhc2VJbnB1dHMgPSB7XG4gICAgICAgICAgICBbdGhpcy5kb2N1bWVudFZhcmlhYmxlTmFtZV06IGF3YWl0IHRoaXMuZG9jdW1lbnRQcm9tcHQuZm9ybWF0KHtcbiAgICAgICAgICAgICAgICAuLi5kb2N1bWVudEluZm8sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaW5wdXRzID0geyAuLi5iYXNlSW5wdXRzLCAuLi5yZXN0IH07XG4gICAgICAgIHJldHVybiBpbnB1dHM7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgYXN5bmMgX2NvbnN0cnVjdFJlZmluZUlucHV0cyhkb2MsIHJlcykge1xuICAgICAgICBjb25zdCBiYXNlSW5mbyA9IHtcbiAgICAgICAgICAgIHBhZ2VfY29udGVudDogZG9jLnBhZ2VDb250ZW50LFxuICAgICAgICAgICAgLi4uZG9jLm1ldGFkYXRhLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBkb2N1bWVudEluZm8gPSB7fTtcbiAgICAgICAgdGhpcy5kb2N1bWVudFByb21wdC5pbnB1dFZhcmlhYmxlcy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnRJbmZvW3ZhbHVlXSA9IGJhc2VJbmZvW3ZhbHVlXTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGJhc2VJbnB1dHMgPSB7XG4gICAgICAgICAgICBbdGhpcy5kb2N1bWVudFZhcmlhYmxlTmFtZV06IGF3YWl0IHRoaXMuZG9jdW1lbnRQcm9tcHQuZm9ybWF0KHtcbiAgICAgICAgICAgICAgICAuLi5kb2N1bWVudEluZm8sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaW5wdXRzID0geyBbdGhpcy5pbml0aWFsUmVzcG9uc2VOYW1lXTogcmVzLCAuLi5iYXNlSW5wdXRzIH07XG4gICAgICAgIHJldHVybiBpbnB1dHM7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgYXN5bmMgX2NhbGwodmFsdWVzLCBydW5NYW5hZ2VyKSB7XG4gICAgICAgIGlmICghKHRoaXMuaW5wdXRLZXkgaW4gdmFsdWVzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEb2N1bWVudCBrZXkgJHt0aGlzLmlucHV0S2V5fSBub3QgZm91bmQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBbdGhpcy5pbnB1dEtleV06IGRvY3MsIC4uLnJlc3QgfSA9IHZhbHVlcztcbiAgICAgICAgY29uc3QgY3VycmVudERvY3MgPSBkb2NzO1xuICAgICAgICBjb25zdCBpbml0aWFsSW5wdXRzID0gYXdhaXQgdGhpcy5fY29uc3RydWN0SW5pdGlhbElucHV0cyhjdXJyZW50RG9jc1swXSwgcmVzdCk7XG4gICAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLmxsbUNoYWluLnByZWRpY3QoeyAuLi5pbml0aWFsSW5wdXRzIH0sIHJ1bk1hbmFnZXI/LmdldENoaWxkKFwiYW5zd2VyXCIpKTtcbiAgICAgICAgY29uc3QgcmVmaW5lU3RlcHMgPSBbcmVzXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBjdXJyZW50RG9jcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgcmVmaW5lSW5wdXRzID0gYXdhaXQgdGhpcy5fY29uc3RydWN0UmVmaW5lSW5wdXRzKGN1cnJlbnREb2NzW2ldLCByZXMpO1xuICAgICAgICAgICAgY29uc3QgaW5wdXRzID0geyAuLi5yZWZpbmVJbnB1dHMsIC4uLnJlc3QgfTtcbiAgICAgICAgICAgIHJlcyA9IGF3YWl0IHRoaXMucmVmaW5lTExNQ2hhaW4ucHJlZGljdCh7IC4uLmlucHV0cyB9LCBydW5NYW5hZ2VyPy5nZXRDaGlsZChcInJlZmluZVwiKSk7XG4gICAgICAgICAgICByZWZpbmVTdGVwcy5wdXNoKHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgW3RoaXMub3V0cHV0S2V5XTogcmVzIH07XG4gICAgfVxuICAgIF9jaGFpblR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcInJlZmluZV9kb2N1bWVudHNfY2hhaW5cIjtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGRlc2VyaWFsaXplKGRhdGEpIHtcbiAgICAgICAgY29uc3QgU2VyaWFsaXplZExMTUNoYWluID0gZGF0YS5sbG1fY2hhaW47XG4gICAgICAgIGlmICghU2VyaWFsaXplZExMTUNoYWluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGxsbV9jaGFpblwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBTZXJpYWxpemVkUmVmaW5lRG9jdW1lbnRDaGFpbiA9IGRhdGEucmVmaW5lX2xsbV9jaGFpbjtcbiAgICAgICAgaWYgKCFTZXJpYWxpemVkUmVmaW5lRG9jdW1lbnRDaGFpbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByZWZpbmVfbGxtX2NoYWluXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmVmaW5lRG9jdW1lbnRzQ2hhaW4oe1xuICAgICAgICAgICAgbGxtQ2hhaW46IGF3YWl0IExMTUNoYWluLmRlc2VyaWFsaXplKFNlcmlhbGl6ZWRMTE1DaGFpbiksXG4gICAgICAgICAgICByZWZpbmVMTE1DaGFpbjogYXdhaXQgTExNQ2hhaW4uZGVzZXJpYWxpemUoU2VyaWFsaXplZFJlZmluZURvY3VtZW50Q2hhaW4pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX3R5cGU6IHRoaXMuX2NoYWluVHlwZSgpLFxuICAgICAgICAgICAgbGxtX2NoYWluOiB0aGlzLmxsbUNoYWluLnNlcmlhbGl6ZSgpLFxuICAgICAgICAgICAgcmVmaW5lX2xsbV9jaGFpbjogdGhpcy5yZWZpbmVMTE1DaGFpbi5zZXJpYWxpemUoKSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/combine_docs_chain.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/llm_chain.js":
/*!*********************************************************!*\
  !*** ./node_modules/langchain/dist/chains/llm_chain.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LLMChain: () => (/* binding */ LLMChain)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/language_models/base */ \"(rsc)/./node_modules/@langchain/core/language_models/base.js\");\n/* harmony import */ var _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/prompts */ \"(rsc)/./node_modules/@langchain/core/prompts.js\");\n/* harmony import */ var _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @langchain/core/runnables */ \"(rsc)/./node_modules/@langchain/core/runnables.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/langchain/dist/chains/base.js\");\n/* harmony import */ var _output_parsers_noop_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../output_parsers/noop.js */ \"(rsc)/./node_modules/langchain/dist/output_parsers/noop.js\");\n\n\n\n\n\nfunction isBaseLanguageModel(llmLike) {\n    return typeof llmLike._llmType === \"function\";\n}\nfunction _getLanguageModel(llmLike) {\n    if (isBaseLanguageModel(llmLike)) {\n        return llmLike;\n    }\n    else if (\"bound\" in llmLike && _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_2__.Runnable.isRunnable(llmLike.bound)) {\n        return _getLanguageModel(llmLike.bound);\n    }\n    else if (\"runnable\" in llmLike &&\n        \"fallbacks\" in llmLike &&\n        _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_2__.Runnable.isRunnable(llmLike.runnable)) {\n        return _getLanguageModel(llmLike.runnable);\n    }\n    else if (\"default\" in llmLike && _langchain_core_runnables__WEBPACK_IMPORTED_MODULE_2__.Runnable.isRunnable(llmLike.default)) {\n        return _getLanguageModel(llmLike.default);\n    }\n    else {\n        throw new Error(\"Unable to extract BaseLanguageModel from llmLike object.\");\n    }\n}\n/**\n * Chain to run queries against LLMs.\n *\n * @example\n * ```ts\n * import { LLMChain } from \"langchain/chains\";\n * import { OpenAI } from \"langchain/llms/openai\";\n * import { PromptTemplate } from \"langchain/prompts\";\n *\n * const prompt = PromptTemplate.fromTemplate(\"Tell me a {adjective} joke\");\n * const llm = new LLMChain({ llm: new OpenAI(), prompt });\n * ```\n */\nclass LLMChain extends _base_js__WEBPACK_IMPORTED_MODULE_3__.BaseChain {\n    static lc_name() {\n        return \"LLMChain\";\n    }\n    get inputKeys() {\n        return this.prompt.inputVariables;\n    }\n    get outputKeys() {\n        return [this.outputKey];\n    }\n    constructor(fields) {\n        super(fields);\n        Object.defineProperty(this, \"lc_serializable\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: true\n        });\n        Object.defineProperty(this, \"prompt\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"llm\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"llmKwargs\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"outputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"text\"\n        });\n        Object.defineProperty(this, \"outputParser\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.prompt = fields.prompt;\n        this.llm = fields.llm;\n        this.llmKwargs = fields.llmKwargs;\n        this.outputKey = fields.outputKey ?? this.outputKey;\n        this.outputParser =\n            fields.outputParser ?? new _output_parsers_noop_js__WEBPACK_IMPORTED_MODULE_4__.NoOpOutputParser();\n        if (this.prompt.outputParser) {\n            if (fields.outputParser) {\n                throw new Error(\"Cannot set both outputParser and prompt.outputParser\");\n            }\n            this.outputParser = this.prompt.outputParser;\n        }\n    }\n    getCallKeys() {\n        const callKeys = \"callKeys\" in this.llm ? this.llm.callKeys : [];\n        return callKeys;\n    }\n    /** @ignore */\n    _selectMemoryInputs(values) {\n        const valuesForMemory = super._selectMemoryInputs(values);\n        const callKeys = this.getCallKeys();\n        for (const key of callKeys) {\n            if (key in values) {\n                delete valuesForMemory[key];\n            }\n        }\n        return valuesForMemory;\n    }\n    /** @ignore */\n    async _getFinalOutput(generations, promptValue, runManager) {\n        let finalCompletion;\n        if (this.outputParser) {\n            finalCompletion = await this.outputParser.parseResultWithPrompt(generations, promptValue, runManager?.getChild());\n        }\n        else {\n            finalCompletion = generations[0].text;\n        }\n        return finalCompletion;\n    }\n    /**\n     * Run the core logic of this chain and add to output if desired.\n     *\n     * Wraps _call and handles memory.\n     */\n    call(values, config) {\n        return super.call(values, config);\n    }\n    /** @ignore */\n    async _call(values, runManager) {\n        const valuesForPrompt = { ...values };\n        const valuesForLLM = {\n            ...this.llmKwargs,\n        };\n        const callKeys = this.getCallKeys();\n        for (const key of callKeys) {\n            if (key in values) {\n                if (valuesForLLM) {\n                    valuesForLLM[key] =\n                        values[key];\n                    delete valuesForPrompt[key];\n                }\n            }\n        }\n        const promptValue = await this.prompt.formatPromptValue(valuesForPrompt);\n        if (\"generatePrompt\" in this.llm) {\n            const { generations } = await this.llm.generatePrompt([promptValue], valuesForLLM, runManager?.getChild());\n            return {\n                [this.outputKey]: await this._getFinalOutput(generations[0], promptValue, runManager),\n            };\n        }\n        const modelWithParser = this.outputParser\n            ? this.llm.pipe(this.outputParser)\n            : this.llm;\n        const response = await modelWithParser.invoke(promptValue, runManager?.getChild());\n        return {\n            [this.outputKey]: response,\n        };\n    }\n    /**\n     * Format prompt with values and pass to LLM\n     *\n     * @param values - keys to pass to prompt template\n     * @param callbackManager - CallbackManager to use\n     * @returns Completion from LLM.\n     *\n     * @example\n     * ```ts\n     * llm.predict({ adjective: \"funny\" })\n     * ```\n     */\n    async predict(values, callbackManager) {\n        const output = await this.call(values, callbackManager);\n        return output[this.outputKey];\n    }\n    _chainType() {\n        return \"llm\";\n    }\n    static async deserialize(data) {\n        const { llm, prompt } = data;\n        if (!llm) {\n            throw new Error(\"LLMChain must have llm\");\n        }\n        if (!prompt) {\n            throw new Error(\"LLMChain must have prompt\");\n        }\n        return new LLMChain({\n            llm: await _langchain_core_language_models_base__WEBPACK_IMPORTED_MODULE_0__.BaseLanguageModel.deserialize(llm),\n            prompt: await _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_1__.BasePromptTemplate.deserialize(prompt),\n        });\n    }\n    /** @deprecated */\n    serialize() {\n        const serialize = \"serialize\" in this.llm ? this.llm.serialize() : undefined;\n        return {\n            _type: `${this._chainType()}_chain`,\n            llm: serialize,\n            prompt: this.prompt.serialize(),\n        };\n    }\n    _getNumTokens(text) {\n        return _getLanguageModel(this.llm).getNumTokens(text);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL2xsbV9jaGFpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMEU7QUFDYjtBQUNSO0FBQ2Y7QUFDdUI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsK0RBQVE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLCtEQUFRO0FBQ2hCO0FBQ0E7QUFDQSxxQ0FBcUMsK0RBQVE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksV0FBVztBQUN2QixZQUFZLFNBQVM7QUFDckIsWUFBWSxpQkFBaUI7QUFDN0I7QUFDQSwwREFBMEQsV0FBVztBQUNyRSw4QkFBOEIsMkJBQTJCO0FBQ3pEO0FBQ0E7QUFDTyx1QkFBdUIsK0NBQVM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMscUVBQWdCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixvQkFBb0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixtRkFBaUI7QUFDeEMsMEJBQTBCLHVFQUFrQjtBQUM1QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixrQkFBa0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtYWktcHJlcC8uL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jaGFpbnMvbGxtX2NoYWluLmpzPzNhOTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZUxhbmd1YWdlTW9kZWwsIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9sYW5ndWFnZV9tb2RlbHMvYmFzZVwiO1xuaW1wb3J0IHsgQmFzZVByb21wdFRlbXBsYXRlIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9wcm9tcHRzXCI7XG5pbXBvcnQgeyBSdW5uYWJsZSB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvcnVubmFibGVzXCI7XG5pbXBvcnQgeyBCYXNlQ2hhaW4gfSBmcm9tIFwiLi9iYXNlLmpzXCI7XG5pbXBvcnQgeyBOb09wT3V0cHV0UGFyc2VyIH0gZnJvbSBcIi4uL291dHB1dF9wYXJzZXJzL25vb3AuanNcIjtcbmZ1bmN0aW9uIGlzQmFzZUxhbmd1YWdlTW9kZWwobGxtTGlrZSkge1xuICAgIHJldHVybiB0eXBlb2YgbGxtTGlrZS5fbGxtVHlwZSA9PT0gXCJmdW5jdGlvblwiO1xufVxuZnVuY3Rpb24gX2dldExhbmd1YWdlTW9kZWwobGxtTGlrZSkge1xuICAgIGlmIChpc0Jhc2VMYW5ndWFnZU1vZGVsKGxsbUxpa2UpKSB7XG4gICAgICAgIHJldHVybiBsbG1MaWtlO1xuICAgIH1cbiAgICBlbHNlIGlmIChcImJvdW5kXCIgaW4gbGxtTGlrZSAmJiBSdW5uYWJsZS5pc1J1bm5hYmxlKGxsbUxpa2UuYm91bmQpKSB7XG4gICAgICAgIHJldHVybiBfZ2V0TGFuZ3VhZ2VNb2RlbChsbG1MaWtlLmJvdW5kKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoXCJydW5uYWJsZVwiIGluIGxsbUxpa2UgJiZcbiAgICAgICAgXCJmYWxsYmFja3NcIiBpbiBsbG1MaWtlICYmXG4gICAgICAgIFJ1bm5hYmxlLmlzUnVubmFibGUobGxtTGlrZS5ydW5uYWJsZSkpIHtcbiAgICAgICAgcmV0dXJuIF9nZXRMYW5ndWFnZU1vZGVsKGxsbUxpa2UucnVubmFibGUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChcImRlZmF1bHRcIiBpbiBsbG1MaWtlICYmIFJ1bm5hYmxlLmlzUnVubmFibGUobGxtTGlrZS5kZWZhdWx0KSkge1xuICAgICAgICByZXR1cm4gX2dldExhbmd1YWdlTW9kZWwobGxtTGlrZS5kZWZhdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBleHRyYWN0IEJhc2VMYW5ndWFnZU1vZGVsIGZyb20gbGxtTGlrZSBvYmplY3QuXCIpO1xuICAgIH1cbn1cbi8qKlxuICogQ2hhaW4gdG8gcnVuIHF1ZXJpZXMgYWdhaW5zdCBMTE1zLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgTExNQ2hhaW4gfSBmcm9tIFwibGFuZ2NoYWluL2NoYWluc1wiO1xuICogaW1wb3J0IHsgT3BlbkFJIH0gZnJvbSBcImxhbmdjaGFpbi9sbG1zL29wZW5haVwiO1xuICogaW1wb3J0IHsgUHJvbXB0VGVtcGxhdGUgfSBmcm9tIFwibGFuZ2NoYWluL3Byb21wdHNcIjtcbiAqXG4gKiBjb25zdCBwcm9tcHQgPSBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXCJUZWxsIG1lIGEge2FkamVjdGl2ZX0gam9rZVwiKTtcbiAqIGNvbnN0IGxsbSA9IG5ldyBMTE1DaGFpbih7IGxsbTogbmV3IE9wZW5BSSgpLCBwcm9tcHQgfSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIExMTUNoYWluIGV4dGVuZHMgQmFzZUNoYWluIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiTExNQ2hhaW5cIjtcbiAgICB9XG4gICAgZ2V0IGlucHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbXB0LmlucHV0VmFyaWFibGVzO1xuICAgIH1cbiAgICBnZXQgb3V0cHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLm91dHB1dEtleV07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByb21wdFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsbG1cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGxtS3dhcmdzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm91dHB1dEtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJ0ZXh0XCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm91dHB1dFBhcnNlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnByb21wdCA9IGZpZWxkcy5wcm9tcHQ7XG4gICAgICAgIHRoaXMubGxtID0gZmllbGRzLmxsbTtcbiAgICAgICAgdGhpcy5sbG1Ld2FyZ3MgPSBmaWVsZHMubGxtS3dhcmdzO1xuICAgICAgICB0aGlzLm91dHB1dEtleSA9IGZpZWxkcy5vdXRwdXRLZXkgPz8gdGhpcy5vdXRwdXRLZXk7XG4gICAgICAgIHRoaXMub3V0cHV0UGFyc2VyID1cbiAgICAgICAgICAgIGZpZWxkcy5vdXRwdXRQYXJzZXIgPz8gbmV3IE5vT3BPdXRwdXRQYXJzZXIoKTtcbiAgICAgICAgaWYgKHRoaXMucHJvbXB0Lm91dHB1dFBhcnNlcikge1xuICAgICAgICAgICAgaWYgKGZpZWxkcy5vdXRwdXRQYXJzZXIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc2V0IGJvdGggb3V0cHV0UGFyc2VyIGFuZCBwcm9tcHQub3V0cHV0UGFyc2VyXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vdXRwdXRQYXJzZXIgPSB0aGlzLnByb21wdC5vdXRwdXRQYXJzZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q2FsbEtleXMoKSB7XG4gICAgICAgIGNvbnN0IGNhbGxLZXlzID0gXCJjYWxsS2V5c1wiIGluIHRoaXMubGxtID8gdGhpcy5sbG0uY2FsbEtleXMgOiBbXTtcbiAgICAgICAgcmV0dXJuIGNhbGxLZXlzO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIF9zZWxlY3RNZW1vcnlJbnB1dHModmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlc0Zvck1lbW9yeSA9IHN1cGVyLl9zZWxlY3RNZW1vcnlJbnB1dHModmFsdWVzKTtcbiAgICAgICAgY29uc3QgY2FsbEtleXMgPSB0aGlzLmdldENhbGxLZXlzKCk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGNhbGxLZXlzKSB7XG4gICAgICAgICAgICBpZiAoa2V5IGluIHZhbHVlcykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZXNGb3JNZW1vcnlba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWVzRm9yTWVtb3J5O1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9nZXRGaW5hbE91dHB1dChnZW5lcmF0aW9ucywgcHJvbXB0VmFsdWUsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgbGV0IGZpbmFsQ29tcGxldGlvbjtcbiAgICAgICAgaWYgKHRoaXMub3V0cHV0UGFyc2VyKSB7XG4gICAgICAgICAgICBmaW5hbENvbXBsZXRpb24gPSBhd2FpdCB0aGlzLm91dHB1dFBhcnNlci5wYXJzZVJlc3VsdFdpdGhQcm9tcHQoZ2VuZXJhdGlvbnMsIHByb21wdFZhbHVlLCBydW5NYW5hZ2VyPy5nZXRDaGlsZCgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZpbmFsQ29tcGxldGlvbiA9IGdlbmVyYXRpb25zWzBdLnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbmFsQ29tcGxldGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUnVuIHRoZSBjb3JlIGxvZ2ljIG9mIHRoaXMgY2hhaW4gYW5kIGFkZCB0byBvdXRwdXQgaWYgZGVzaXJlZC5cbiAgICAgKlxuICAgICAqIFdyYXBzIF9jYWxsIGFuZCBoYW5kbGVzIG1lbW9yeS5cbiAgICAgKi9cbiAgICBjYWxsKHZhbHVlcywgY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5jYWxsKHZhbHVlcywgY29uZmlnKTtcbiAgICB9XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBhc3luYyBfY2FsbCh2YWx1ZXMsIHJ1bk1hbmFnZXIpIHtcbiAgICAgICAgY29uc3QgdmFsdWVzRm9yUHJvbXB0ID0geyAuLi52YWx1ZXMgfTtcbiAgICAgICAgY29uc3QgdmFsdWVzRm9yTExNID0ge1xuICAgICAgICAgICAgLi4udGhpcy5sbG1Ld2FyZ3MsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNhbGxLZXlzID0gdGhpcy5nZXRDYWxsS2V5cygpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBjYWxsS2V5cykge1xuICAgICAgICAgICAgaWYgKGtleSBpbiB2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVzRm9yTExNKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc0ZvckxMTVtrZXldID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1trZXldO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdmFsdWVzRm9yUHJvbXB0W2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb21wdFZhbHVlID0gYXdhaXQgdGhpcy5wcm9tcHQuZm9ybWF0UHJvbXB0VmFsdWUodmFsdWVzRm9yUHJvbXB0KTtcbiAgICAgICAgaWYgKFwiZ2VuZXJhdGVQcm9tcHRcIiBpbiB0aGlzLmxsbSkge1xuICAgICAgICAgICAgY29uc3QgeyBnZW5lcmF0aW9ucyB9ID0gYXdhaXQgdGhpcy5sbG0uZ2VuZXJhdGVQcm9tcHQoW3Byb21wdFZhbHVlXSwgdmFsdWVzRm9yTExNLCBydW5NYW5hZ2VyPy5nZXRDaGlsZCgpKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgW3RoaXMub3V0cHV0S2V5XTogYXdhaXQgdGhpcy5fZ2V0RmluYWxPdXRwdXQoZ2VuZXJhdGlvbnNbMF0sIHByb21wdFZhbHVlLCBydW5NYW5hZ2VyKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbW9kZWxXaXRoUGFyc2VyID0gdGhpcy5vdXRwdXRQYXJzZXJcbiAgICAgICAgICAgID8gdGhpcy5sbG0ucGlwZSh0aGlzLm91dHB1dFBhcnNlcilcbiAgICAgICAgICAgIDogdGhpcy5sbG07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbW9kZWxXaXRoUGFyc2VyLmludm9rZShwcm9tcHRWYWx1ZSwgcnVuTWFuYWdlcj8uZ2V0Q2hpbGQoKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBbdGhpcy5vdXRwdXRLZXldOiByZXNwb25zZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9ybWF0IHByb21wdCB3aXRoIHZhbHVlcyBhbmQgcGFzcyB0byBMTE1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZXMgLSBrZXlzIHRvIHBhc3MgdG8gcHJvbXB0IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIGNhbGxiYWNrTWFuYWdlciAtIENhbGxiYWNrTWFuYWdlciB0byB1c2VcbiAgICAgKiBAcmV0dXJucyBDb21wbGV0aW9uIGZyb20gTExNLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0c1xuICAgICAqIGxsbS5wcmVkaWN0KHsgYWRqZWN0aXZlOiBcImZ1bm55XCIgfSlcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBhc3luYyBwcmVkaWN0KHZhbHVlcywgY2FsbGJhY2tNYW5hZ2VyKSB7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IGF3YWl0IHRoaXMuY2FsbCh2YWx1ZXMsIGNhbGxiYWNrTWFuYWdlcik7XG4gICAgICAgIHJldHVybiBvdXRwdXRbdGhpcy5vdXRwdXRLZXldO1xuICAgIH1cbiAgICBfY2hhaW5UeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJsbG1cIjtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGRlc2VyaWFsaXplKGRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBsbG0sIHByb21wdCB9ID0gZGF0YTtcbiAgICAgICAgaWYgKCFsbG0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxMTUNoYWluIG11c3QgaGF2ZSBsbG1cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwcm9tcHQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxMTUNoYWluIG11c3QgaGF2ZSBwcm9tcHRcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBMTE1DaGFpbih7XG4gICAgICAgICAgICBsbG06IGF3YWl0IEJhc2VMYW5ndWFnZU1vZGVsLmRlc2VyaWFsaXplKGxsbSksXG4gICAgICAgICAgICBwcm9tcHQ6IGF3YWl0IEJhc2VQcm9tcHRUZW1wbGF0ZS5kZXNlcmlhbGl6ZShwcm9tcHQpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICBjb25zdCBzZXJpYWxpemUgPSBcInNlcmlhbGl6ZVwiIGluIHRoaXMubGxtID8gdGhpcy5sbG0uc2VyaWFsaXplKCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBfdHlwZTogYCR7dGhpcy5fY2hhaW5UeXBlKCl9X2NoYWluYCxcbiAgICAgICAgICAgIGxsbTogc2VyaWFsaXplLFxuICAgICAgICAgICAgcHJvbXB0OiB0aGlzLnByb21wdC5zZXJpYWxpemUoKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2dldE51bVRva2Vucyh0ZXh0KSB7XG4gICAgICAgIHJldHVybiBfZ2V0TGFuZ3VhZ2VNb2RlbCh0aGlzLmxsbSkuZ2V0TnVtVG9rZW5zKHRleHQpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/llm_chain.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/question_answering/load.js":
/*!***********************************************************************!*\
  !*** ./node_modules/langchain/dist/chains/question_answering/load.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loadQAChain: () => (/* binding */ loadQAChain),\n/* harmony export */   loadQAMapReduceChain: () => (/* binding */ loadQAMapReduceChain),\n/* harmony export */   loadQARefineChain: () => (/* binding */ loadQARefineChain),\n/* harmony export */   loadQAStuffChain: () => (/* binding */ loadQAStuffChain)\n/* harmony export */ });\n/* harmony import */ var _llm_chain_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../llm_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/llm_chain.js\");\n/* harmony import */ var _combine_docs_chain_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../combine_docs_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/combine_docs_chain.js\");\n/* harmony import */ var _stuff_prompts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stuff_prompts.js */ \"(rsc)/./node_modules/langchain/dist/chains/question_answering/stuff_prompts.js\");\n/* harmony import */ var _map_reduce_prompts_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./map_reduce_prompts.js */ \"(rsc)/./node_modules/langchain/dist/chains/question_answering/map_reduce_prompts.js\");\n/* harmony import */ var _refine_prompts_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./refine_prompts.js */ \"(rsc)/./node_modules/langchain/dist/chains/question_answering/refine_prompts.js\");\n\n\n\n\n\nconst loadQAChain = (llm, params = { type: \"stuff\" }) => {\n    const { type } = params;\n    if (type === \"stuff\") {\n        return loadQAStuffChain(llm, params);\n    }\n    if (type === \"map_reduce\") {\n        return loadQAMapReduceChain(llm, params);\n    }\n    if (type === \"refine\") {\n        return loadQARefineChain(llm, params);\n    }\n    throw new Error(`Invalid _type: ${type}`);\n};\n/**\n * Loads a StuffQAChain based on the provided parameters. It takes an LLM\n * instance and StuffQAChainParams as parameters.\n * @param llm An instance of BaseLanguageModel.\n * @param params Parameters for creating a StuffQAChain.\n * @returns A StuffQAChain instance.\n */\nfunction loadQAStuffChain(llm, params = {}) {\n    const { prompt = _stuff_prompts_js__WEBPACK_IMPORTED_MODULE_2__.QA_PROMPT_SELECTOR.getPrompt(llm), verbose } = params;\n    const llmChain = new _llm_chain_js__WEBPACK_IMPORTED_MODULE_0__.LLMChain({ prompt, llm, verbose });\n    const chain = new _combine_docs_chain_js__WEBPACK_IMPORTED_MODULE_1__.StuffDocumentsChain({ llmChain, verbose });\n    return chain;\n}\n/**\n * Loads a MapReduceQAChain based on the provided parameters. It takes an\n * LLM instance and MapReduceQAChainParams as parameters.\n * @param llm An instance of BaseLanguageModel.\n * @param params Parameters for creating a MapReduceQAChain.\n * @returns A MapReduceQAChain instance.\n */\nfunction loadQAMapReduceChain(llm, params = {}) {\n    const { combineMapPrompt = _map_reduce_prompts_js__WEBPACK_IMPORTED_MODULE_3__.COMBINE_QA_PROMPT_SELECTOR.getPrompt(llm), combinePrompt = _map_reduce_prompts_js__WEBPACK_IMPORTED_MODULE_3__.COMBINE_PROMPT_SELECTOR.getPrompt(llm), verbose, combineLLM, returnIntermediateSteps, } = params;\n    const llmChain = new _llm_chain_js__WEBPACK_IMPORTED_MODULE_0__.LLMChain({ prompt: combineMapPrompt, llm, verbose });\n    const combineLLMChain = new _llm_chain_js__WEBPACK_IMPORTED_MODULE_0__.LLMChain({\n        prompt: combinePrompt,\n        llm: combineLLM ?? llm,\n        verbose,\n    });\n    const combineDocumentChain = new _combine_docs_chain_js__WEBPACK_IMPORTED_MODULE_1__.StuffDocumentsChain({\n        llmChain: combineLLMChain,\n        documentVariableName: \"summaries\",\n        verbose,\n    });\n    const chain = new _combine_docs_chain_js__WEBPACK_IMPORTED_MODULE_1__.MapReduceDocumentsChain({\n        llmChain,\n        combineDocumentChain,\n        returnIntermediateSteps,\n        verbose,\n    });\n    return chain;\n}\n/**\n * Loads a RefineQAChain based on the provided parameters. It takes an LLM\n * instance and RefineQAChainParams as parameters.\n * @param llm An instance of BaseLanguageModel.\n * @param params Parameters for creating a RefineQAChain.\n * @returns A RefineQAChain instance.\n */\nfunction loadQARefineChain(llm, params = {}) {\n    const { questionPrompt = _refine_prompts_js__WEBPACK_IMPORTED_MODULE_4__.QUESTION_PROMPT_SELECTOR.getPrompt(llm), refinePrompt = _refine_prompts_js__WEBPACK_IMPORTED_MODULE_4__.REFINE_PROMPT_SELECTOR.getPrompt(llm), refineLLM, verbose, } = params;\n    const llmChain = new _llm_chain_js__WEBPACK_IMPORTED_MODULE_0__.LLMChain({ prompt: questionPrompt, llm, verbose });\n    const refineLLMChain = new _llm_chain_js__WEBPACK_IMPORTED_MODULE_0__.LLMChain({\n        prompt: refinePrompt,\n        llm: refineLLM ?? llm,\n        verbose,\n    });\n    const chain = new _combine_docs_chain_js__WEBPACK_IMPORTED_MODULE_1__.RefineDocumentsChain({\n        llmChain,\n        refineLLMChain,\n        verbose,\n    });\n    return chain;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3F1ZXN0aW9uX2Fuc3dlcmluZy9sb2FkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEyQztBQUNvRTtBQUN2RDtBQUN1QztBQUNQO0FBQ2pGLHFDQUFxQyxlQUFlO0FBQzNELFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsS0FBSztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMENBQTBDO0FBQ2pELFlBQVksU0FBUyxpRUFBa0IsMkJBQTJCO0FBQ2xFLHlCQUF5QixtREFBUSxHQUFHLHNCQUFzQjtBQUMxRCxzQkFBc0IsdUVBQW1CLEdBQUcsbUJBQW1CO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDhDQUE4QztBQUNyRCxZQUFZLG1CQUFtQiw4RUFBMEIsaUNBQWlDLDJFQUF1QixpRUFBaUU7QUFDbEwseUJBQXlCLG1EQUFRLEdBQUcsd0NBQXdDO0FBQzVFLGdDQUFnQyxtREFBUTtBQUN4QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wscUNBQXFDLHVFQUFtQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsc0JBQXNCLDJFQUF1QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTywyQ0FBMkM7QUFDbEQsWUFBWSxpQkFBaUIsd0VBQXdCLGdDQUFnQyxzRUFBc0IsdUNBQXVDO0FBQ2xKLHlCQUF5QixtREFBUSxHQUFHLHNDQUFzQztBQUMxRSwrQkFBK0IsbURBQVE7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHNCQUFzQix3RUFBb0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWFpLXByZXAvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3F1ZXN0aW9uX2Fuc3dlcmluZy9sb2FkLmpzP2NkYzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTExNQ2hhaW4gfSBmcm9tIFwiLi4vbGxtX2NoYWluLmpzXCI7XG5pbXBvcnQgeyBTdHVmZkRvY3VtZW50c0NoYWluLCBNYXBSZWR1Y2VEb2N1bWVudHNDaGFpbiwgUmVmaW5lRG9jdW1lbnRzQ2hhaW4sIH0gZnJvbSBcIi4uL2NvbWJpbmVfZG9jc19jaGFpbi5qc1wiO1xuaW1wb3J0IHsgUUFfUFJPTVBUX1NFTEVDVE9SIH0gZnJvbSBcIi4vc3R1ZmZfcHJvbXB0cy5qc1wiO1xuaW1wb3J0IHsgQ09NQklORV9QUk9NUFRfU0VMRUNUT1IsIENPTUJJTkVfUUFfUFJPTVBUX1NFTEVDVE9SLCB9IGZyb20gXCIuL21hcF9yZWR1Y2VfcHJvbXB0cy5qc1wiO1xuaW1wb3J0IHsgUVVFU1RJT05fUFJPTVBUX1NFTEVDVE9SLCBSRUZJTkVfUFJPTVBUX1NFTEVDVE9SLCB9IGZyb20gXCIuL3JlZmluZV9wcm9tcHRzLmpzXCI7XG5leHBvcnQgY29uc3QgbG9hZFFBQ2hhaW4gPSAobGxtLCBwYXJhbXMgPSB7IHR5cGU6IFwic3R1ZmZcIiB9KSA9PiB7XG4gICAgY29uc3QgeyB0eXBlIH0gPSBwYXJhbXM7XG4gICAgaWYgKHR5cGUgPT09IFwic3R1ZmZcIikge1xuICAgICAgICByZXR1cm4gbG9hZFFBU3R1ZmZDaGFpbihsbG0sIHBhcmFtcyk7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBcIm1hcF9yZWR1Y2VcIikge1xuICAgICAgICByZXR1cm4gbG9hZFFBTWFwUmVkdWNlQ2hhaW4obGxtLCBwYXJhbXMpO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gXCJyZWZpbmVcIikge1xuICAgICAgICByZXR1cm4gbG9hZFFBUmVmaW5lQ2hhaW4obGxtLCBwYXJhbXMpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgX3R5cGU6ICR7dHlwZX1gKTtcbn07XG4vKipcbiAqIExvYWRzIGEgU3R1ZmZRQUNoYWluIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzLiBJdCB0YWtlcyBhbiBMTE1cbiAqIGluc3RhbmNlIGFuZCBTdHVmZlFBQ2hhaW5QYXJhbXMgYXMgcGFyYW1ldGVycy5cbiAqIEBwYXJhbSBsbG0gQW4gaW5zdGFuY2Ugb2YgQmFzZUxhbmd1YWdlTW9kZWwuXG4gKiBAcGFyYW0gcGFyYW1zIFBhcmFtZXRlcnMgZm9yIGNyZWF0aW5nIGEgU3R1ZmZRQUNoYWluLlxuICogQHJldHVybnMgQSBTdHVmZlFBQ2hhaW4gaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkUUFTdHVmZkNoYWluKGxsbSwgcGFyYW1zID0ge30pIHtcbiAgICBjb25zdCB7IHByb21wdCA9IFFBX1BST01QVF9TRUxFQ1RPUi5nZXRQcm9tcHQobGxtKSwgdmVyYm9zZSB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IGxsbUNoYWluID0gbmV3IExMTUNoYWluKHsgcHJvbXB0LCBsbG0sIHZlcmJvc2UgfSk7XG4gICAgY29uc3QgY2hhaW4gPSBuZXcgU3R1ZmZEb2N1bWVudHNDaGFpbih7IGxsbUNoYWluLCB2ZXJib3NlIH0pO1xuICAgIHJldHVybiBjaGFpbjtcbn1cbi8qKlxuICogTG9hZHMgYSBNYXBSZWR1Y2VRQUNoYWluIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzLiBJdCB0YWtlcyBhblxuICogTExNIGluc3RhbmNlIGFuZCBNYXBSZWR1Y2VRQUNoYWluUGFyYW1zIGFzIHBhcmFtZXRlcnMuXG4gKiBAcGFyYW0gbGxtIEFuIGluc3RhbmNlIG9mIEJhc2VMYW5ndWFnZU1vZGVsLlxuICogQHBhcmFtIHBhcmFtcyBQYXJhbWV0ZXJzIGZvciBjcmVhdGluZyBhIE1hcFJlZHVjZVFBQ2hhaW4uXG4gKiBAcmV0dXJucyBBIE1hcFJlZHVjZVFBQ2hhaW4gaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkUUFNYXBSZWR1Y2VDaGFpbihsbG0sIHBhcmFtcyA9IHt9KSB7XG4gICAgY29uc3QgeyBjb21iaW5lTWFwUHJvbXB0ID0gQ09NQklORV9RQV9QUk9NUFRfU0VMRUNUT1IuZ2V0UHJvbXB0KGxsbSksIGNvbWJpbmVQcm9tcHQgPSBDT01CSU5FX1BST01QVF9TRUxFQ1RPUi5nZXRQcm9tcHQobGxtKSwgdmVyYm9zZSwgY29tYmluZUxMTSwgcmV0dXJuSW50ZXJtZWRpYXRlU3RlcHMsIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgbGxtQ2hhaW4gPSBuZXcgTExNQ2hhaW4oeyBwcm9tcHQ6IGNvbWJpbmVNYXBQcm9tcHQsIGxsbSwgdmVyYm9zZSB9KTtcbiAgICBjb25zdCBjb21iaW5lTExNQ2hhaW4gPSBuZXcgTExNQ2hhaW4oe1xuICAgICAgICBwcm9tcHQ6IGNvbWJpbmVQcm9tcHQsXG4gICAgICAgIGxsbTogY29tYmluZUxMTSA/PyBsbG0sXG4gICAgICAgIHZlcmJvc2UsXG4gICAgfSk7XG4gICAgY29uc3QgY29tYmluZURvY3VtZW50Q2hhaW4gPSBuZXcgU3R1ZmZEb2N1bWVudHNDaGFpbih7XG4gICAgICAgIGxsbUNoYWluOiBjb21iaW5lTExNQ2hhaW4sXG4gICAgICAgIGRvY3VtZW50VmFyaWFibGVOYW1lOiBcInN1bW1hcmllc1wiLFxuICAgICAgICB2ZXJib3NlLFxuICAgIH0pO1xuICAgIGNvbnN0IGNoYWluID0gbmV3IE1hcFJlZHVjZURvY3VtZW50c0NoYWluKHtcbiAgICAgICAgbGxtQ2hhaW4sXG4gICAgICAgIGNvbWJpbmVEb2N1bWVudENoYWluLFxuICAgICAgICByZXR1cm5JbnRlcm1lZGlhdGVTdGVwcyxcbiAgICAgICAgdmVyYm9zZSxcbiAgICB9KTtcbiAgICByZXR1cm4gY2hhaW47XG59XG4vKipcbiAqIExvYWRzIGEgUmVmaW5lUUFDaGFpbiBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgcGFyYW1ldGVycy4gSXQgdGFrZXMgYW4gTExNXG4gKiBpbnN0YW5jZSBhbmQgUmVmaW5lUUFDaGFpblBhcmFtcyBhcyBwYXJhbWV0ZXJzLlxuICogQHBhcmFtIGxsbSBBbiBpbnN0YW5jZSBvZiBCYXNlTGFuZ3VhZ2VNb2RlbC5cbiAqIEBwYXJhbSBwYXJhbXMgUGFyYW1ldGVycyBmb3IgY3JlYXRpbmcgYSBSZWZpbmVRQUNoYWluLlxuICogQHJldHVybnMgQSBSZWZpbmVRQUNoYWluIGluc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZFFBUmVmaW5lQ2hhaW4obGxtLCBwYXJhbXMgPSB7fSkge1xuICAgIGNvbnN0IHsgcXVlc3Rpb25Qcm9tcHQgPSBRVUVTVElPTl9QUk9NUFRfU0VMRUNUT1IuZ2V0UHJvbXB0KGxsbSksIHJlZmluZVByb21wdCA9IFJFRklORV9QUk9NUFRfU0VMRUNUT1IuZ2V0UHJvbXB0KGxsbSksIHJlZmluZUxMTSwgdmVyYm9zZSwgfSA9IHBhcmFtcztcbiAgICBjb25zdCBsbG1DaGFpbiA9IG5ldyBMTE1DaGFpbih7IHByb21wdDogcXVlc3Rpb25Qcm9tcHQsIGxsbSwgdmVyYm9zZSB9KTtcbiAgICBjb25zdCByZWZpbmVMTE1DaGFpbiA9IG5ldyBMTE1DaGFpbih7XG4gICAgICAgIHByb21wdDogcmVmaW5lUHJvbXB0LFxuICAgICAgICBsbG06IHJlZmluZUxMTSA/PyBsbG0sXG4gICAgICAgIHZlcmJvc2UsXG4gICAgfSk7XG4gICAgY29uc3QgY2hhaW4gPSBuZXcgUmVmaW5lRG9jdW1lbnRzQ2hhaW4oe1xuICAgICAgICBsbG1DaGFpbixcbiAgICAgICAgcmVmaW5lTExNQ2hhaW4sXG4gICAgICAgIHZlcmJvc2UsXG4gICAgfSk7XG4gICAgcmV0dXJuIGNoYWluO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/question_answering/load.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/question_answering/map_reduce_prompts.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/langchain/dist/chains/question_answering/map_reduce_prompts.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COMBINE_PROMPT: () => (/* binding */ COMBINE_PROMPT),\n/* harmony export */   COMBINE_PROMPT_SELECTOR: () => (/* binding */ COMBINE_PROMPT_SELECTOR),\n/* harmony export */   COMBINE_QA_PROMPT_SELECTOR: () => (/* binding */ COMBINE_QA_PROMPT_SELECTOR),\n/* harmony export */   DEFAULT_COMBINE_QA_PROMPT: () => (/* binding */ DEFAULT_COMBINE_QA_PROMPT)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/prompts */ \"(rsc)/./node_modules/@langchain/core/prompts.js\");\n/* harmony import */ var _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/example_selectors */ \"(rsc)/./node_modules/@langchain/core/example_selectors.js\");\n/* eslint-disable spaced-comment */\n\n\nconst qa_template = `Use the following portion of a long document to see if any of the text is relevant to answer the question. \nReturn any relevant text verbatim.\n{context}\nQuestion: {question}\nRelevant text, if any:`;\nconst DEFAULT_COMBINE_QA_PROMPT = \n/*#__PURE__*/\n_langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.PromptTemplate.fromTemplate(qa_template);\nconst system_template = `Use the following portion of a long document to see if any of the text is relevant to answer the question. \nReturn any relevant text verbatim.\n----------------\n{context}`;\nconst messages = [\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.SystemMessagePromptTemplate.fromTemplate(system_template),\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.HumanMessagePromptTemplate.fromTemplate(\"{question}\"),\n];\nconst CHAT_QA_PROMPT = /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.ChatPromptTemplate.fromMessages(messages);\nconst COMBINE_QA_PROMPT_SELECTOR = \n/*#__PURE__*/ new _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.ConditionalPromptSelector(DEFAULT_COMBINE_QA_PROMPT, [\n    [_langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.isChatModel, CHAT_QA_PROMPT],\n]);\nconst combine_prompt = `Given the following extracted parts of a long document and a question, create a final answer. \nIf you don't know the answer, just say that you don't know. Don't try to make up an answer.\n\nQUESTION: Which state/country's law governs the interpretation of the contract?\n=========\nContent: This Agreement is governed by English law and the parties submit to the exclusive jurisdiction of the English courts in  relation to any dispute (contractual or non-contractual) concerning this Agreement save that either party may apply to any court for an  injunction or other relief to protect its Intellectual Property Rights.\n\nContent: No Waiver. Failure or delay in exercising any right or remedy under this Agreement shall not constitute a waiver of such (or any other)  right or remedy.\\n\\n11.7 Severability. The invalidity, illegality or unenforceability of any term (or part of a term) of this Agreement shall not affect the continuation  in force of the remainder of the term (if any) and this Agreement.\\n\\n11.8 No Agency. Except as expressly stated otherwise, nothing in this Agreement shall create an agency, partnership or joint venture of any  kind between the parties.\\n\\n11.9 No Third-Party Beneficiaries.\n\nContent: (b) if Google believes, in good faith, that the Distributor has violated or caused Google to violate any Anti-Bribery Laws (as  defined in Clause 8.5) or that such a violation is reasonably likely to occur,\n=========\nFINAL ANSWER: This Agreement is governed by English law.\n\nQUESTION: What did the president say about Michael Jackson?\n=========\nContent: Madam Speaker, Madam Vice President, our First Lady and Second Gentleman. Members of Congress and the Cabinet. Justices of the Supreme Court. My fellow Americans.  \\n\\nLast year COVID-19 kept us apart. This year we are finally together again. \\n\\nTonight, we meet as Democrats Republicans and Independents. But most importantly as Americans. \\n\\nWith a duty to one another to the American people to the Constitution. \\n\\nAnd with an unwavering resolve that freedom will always triumph over tyranny. \\n\\nSix days ago, Russia’s Vladimir Putin sought to shake the foundations of the free world thinking he could make it bend to his menacing ways. But he badly miscalculated. \\n\\nHe thought he could roll into Ukraine and the world would roll over. Instead he met a wall of strength he never imagined. \\n\\nHe met the Ukrainian people. \\n\\nFrom President Zelenskyy to every Ukrainian, their fearlessness, their courage, their determination, inspires the world. \\n\\nGroups of citizens blocking tanks with their bodies. Everyone from students to retirees teachers turned soldiers defending their homeland.\n\nContent: And we won’t stop. \\n\\nWe have lost so much to COVID-19. Time with one another. And worst of all, so much loss of life. \\n\\nLet’s use this moment to reset. Let’s stop looking at COVID-19 as a partisan dividing line and see it for what it is: A God-awful disease.  \\n\\nLet’s stop seeing each other as enemies, and start seeing each other for who we really are: Fellow Americans.  \\n\\nWe can’t change how divided we’ve been. But we can change how we move forward—on COVID-19 and other issues we must face together. \\n\\nI recently visited the New York City Police Department days after the funerals of Officer Wilbert Mora and his partner, Officer Jason Rivera. \\n\\nThey were responding to a 9-1-1 call when a man shot and killed them with a stolen gun. \\n\\nOfficer Mora was 27 years old. \\n\\nOfficer Rivera was 22. \\n\\nBoth Dominican Americans who’d grown up on the same streets they later chose to patrol as police officers. \\n\\nI spoke with their families and told them that we are forever in debt for their sacrifice, and we will carry on their mission to restore the trust and safety every community deserves.\n\nContent: And a proud Ukrainian people, who have known 30 years  of independence, have repeatedly shown that they will not tolerate anyone who tries to take their country backwards.  \\n\\nTo all Americans, I will be honest with you, as I’ve always promised. A Russian dictator, invading a foreign country, has costs around the world. \\n\\nAnd I’m taking robust action to make sure the pain of our sanctions  is targeted at Russia’s economy. And I will use every tool at our disposal to protect American businesses and consumers. \\n\\nTonight, I can announce that the United States has worked with 30 other countries to release 60 Million barrels of oil from reserves around the world.  \\n\\nAmerica will lead that effort, releasing 30 Million barrels from our own Strategic Petroleum Reserve. And we stand ready to do more if necessary, unified with our allies.  \\n\\nThese steps will help blunt gas prices here at home. And I know the news about what’s happening can seem alarming. \\n\\nBut I want you to know that we are going to be okay.\n\nContent: More support for patients and families. \\n\\nTo get there, I call on Congress to fund ARPA-H, the Advanced Research Projects Agency for Health. \\n\\nIt’s based on DARPA—the Defense Department project that led to the Internet, GPS, and so much more.  \\n\\nARPA-H will have a singular purpose—to drive breakthroughs in cancer, Alzheimer’s, diabetes, and more. \\n\\nA unity agenda for the nation. \\n\\nWe can do this. \\n\\nMy fellow Americans—tonight , we have gathered in a sacred space—the citadel of our democracy. \\n\\nIn this Capitol, generation after generation, Americans have debated great questions amid great strife, and have done great things. \\n\\nWe have fought for freedom, expanded liberty, defeated totalitarianism and terror. \\n\\nAnd built the strongest, freest, and most prosperous nation the world has ever known. \\n\\nNow is the hour. \\n\\nOur moment of responsibility. \\n\\nOur test of resolve and conscience, of history itself. \\n\\nIt is in this moment that our character is formed. Our purpose is found. Our future is forged. \\n\\nWell I know this nation.\n=========\nFINAL ANSWER: The president did not mention Michael Jackson.\n\nQUESTION: {question}\n=========\n{summaries}\n=========\nFINAL ANSWER:`;\nconst COMBINE_PROMPT = \n/*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.PromptTemplate.fromTemplate(combine_prompt);\nconst system_combine_template = `Given the following extracted parts of a long document and a question, create a final answer. \nIf you don't know the answer, just say that you don't know. Don't try to make up an answer.\n----------------\n{summaries}`;\nconst combine_messages = [\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.SystemMessagePromptTemplate.fromTemplate(system_combine_template),\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.HumanMessagePromptTemplate.fromTemplate(\"{question}\"),\n];\nconst CHAT_COMBINE_PROMPT = \n/*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.ChatPromptTemplate.fromMessages(combine_messages);\nconst COMBINE_PROMPT_SELECTOR = \n/*#__PURE__*/ new _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.ConditionalPromptSelector(COMBINE_PROMPT, [\n    [_langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.isChatModel, CHAT_COMBINE_PROMPT],\n]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3F1ZXN0aW9uX2Fuc3dlcmluZy9tYXBfcmVkdWNlX3Byb21wdHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDdUk7QUFDM0M7QUFDNUY7QUFDQTtBQUNBLENBQUM7QUFDRCxXQUFXO0FBQ1g7QUFDTztBQUNQO0FBQ0EsbUVBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxDQUFDLFFBQVE7QUFDVDtBQUNBLGtCQUFrQixnRkFBMkI7QUFDN0Msa0JBQWtCLCtFQUEwQixnQkFBZ0IsU0FBUztBQUNyRTtBQUNBLHFDQUFxQyx1RUFBa0I7QUFDaEQ7QUFDUCxrQkFBa0Isd0ZBQXlCO0FBQzNDLEtBQUssMEVBQVc7QUFDaEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXO0FBQ1g7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNPO0FBQ1AsY0FBYyxtRUFBYztBQUM1QjtBQUNBO0FBQ0E7QUFDQSxDQUFDLFVBQVU7QUFDWDtBQUNBLGtCQUFrQixnRkFBMkI7QUFDN0Msa0JBQWtCLCtFQUEwQixnQkFBZ0IsU0FBUztBQUNyRTtBQUNBO0FBQ0EsY0FBYyx1RUFBa0I7QUFDekI7QUFDUCxrQkFBa0Isd0ZBQXlCO0FBQzNDLEtBQUssMEVBQVc7QUFDaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWFpLXByZXAvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3F1ZXN0aW9uX2Fuc3dlcmluZy9tYXBfcmVkdWNlX3Byb21wdHMuanM/YmI3OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBzcGFjZWQtY29tbWVudCAqL1xuaW1wb3J0IHsgQ2hhdFByb21wdFRlbXBsYXRlLCBTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGUsIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlLCBQcm9tcHRUZW1wbGF0ZSwgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3Byb21wdHNcIjtcbmltcG9ydCB7IENvbmRpdGlvbmFsUHJvbXB0U2VsZWN0b3IsIGlzQ2hhdE1vZGVsLCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvZXhhbXBsZV9zZWxlY3RvcnNcIjtcbmNvbnN0IHFhX3RlbXBsYXRlID0gYFVzZSB0aGUgZm9sbG93aW5nIHBvcnRpb24gb2YgYSBsb25nIGRvY3VtZW50IHRvIHNlZSBpZiBhbnkgb2YgdGhlIHRleHQgaXMgcmVsZXZhbnQgdG8gYW5zd2VyIHRoZSBxdWVzdGlvbi4gXG5SZXR1cm4gYW55IHJlbGV2YW50IHRleHQgdmVyYmF0aW0uXG57Y29udGV4dH1cblF1ZXN0aW9uOiB7cXVlc3Rpb259XG5SZWxldmFudCB0ZXh0LCBpZiBhbnk6YDtcbmV4cG9ydCBjb25zdCBERUZBVUxUX0NPTUJJTkVfUUFfUFJPTVBUID0gXG4vKiNfX1BVUkVfXyovXG5Qcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUocWFfdGVtcGxhdGUpO1xuY29uc3Qgc3lzdGVtX3RlbXBsYXRlID0gYFVzZSB0aGUgZm9sbG93aW5nIHBvcnRpb24gb2YgYSBsb25nIGRvY3VtZW50IHRvIHNlZSBpZiBhbnkgb2YgdGhlIHRleHQgaXMgcmVsZXZhbnQgdG8gYW5zd2VyIHRoZSBxdWVzdGlvbi4gXG5SZXR1cm4gYW55IHJlbGV2YW50IHRleHQgdmVyYmF0aW0uXG4tLS0tLS0tLS0tLS0tLS0tXG57Y29udGV4dH1gO1xuY29uc3QgbWVzc2FnZXMgPSBbXG4gICAgLyojX19QVVJFX18qLyBTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKHN5c3RlbV90ZW1wbGF0ZSksXG4gICAgLyojX19QVVJFX18qLyBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXCJ7cXVlc3Rpb259XCIpLFxuXTtcbmNvbnN0IENIQVRfUUFfUFJPTVBUID0gLyojX19QVVJFX18qLyBDaGF0UHJvbXB0VGVtcGxhdGUuZnJvbU1lc3NhZ2VzKG1lc3NhZ2VzKTtcbmV4cG9ydCBjb25zdCBDT01CSU5FX1FBX1BST01QVF9TRUxFQ1RPUiA9IFxuLyojX19QVVJFX18qLyBuZXcgQ29uZGl0aW9uYWxQcm9tcHRTZWxlY3RvcihERUZBVUxUX0NPTUJJTkVfUUFfUFJPTVBULCBbXG4gICAgW2lzQ2hhdE1vZGVsLCBDSEFUX1FBX1BST01QVF0sXG5dKTtcbmNvbnN0IGNvbWJpbmVfcHJvbXB0ID0gYEdpdmVuIHRoZSBmb2xsb3dpbmcgZXh0cmFjdGVkIHBhcnRzIG9mIGEgbG9uZyBkb2N1bWVudCBhbmQgYSBxdWVzdGlvbiwgY3JlYXRlIGEgZmluYWwgYW5zd2VyLiBcbklmIHlvdSBkb24ndCBrbm93IHRoZSBhbnN3ZXIsIGp1c3Qgc2F5IHRoYXQgeW91IGRvbid0IGtub3cuIERvbid0IHRyeSB0byBtYWtlIHVwIGFuIGFuc3dlci5cblxuUVVFU1RJT046IFdoaWNoIHN0YXRlL2NvdW50cnkncyBsYXcgZ292ZXJucyB0aGUgaW50ZXJwcmV0YXRpb24gb2YgdGhlIGNvbnRyYWN0P1xuPT09PT09PT09XG5Db250ZW50OiBUaGlzIEFncmVlbWVudCBpcyBnb3Zlcm5lZCBieSBFbmdsaXNoIGxhdyBhbmQgdGhlIHBhcnRpZXMgc3VibWl0IHRvIHRoZSBleGNsdXNpdmUganVyaXNkaWN0aW9uIG9mIHRoZSBFbmdsaXNoIGNvdXJ0cyBpbiAgcmVsYXRpb24gdG8gYW55IGRpc3B1dGUgKGNvbnRyYWN0dWFsIG9yIG5vbi1jb250cmFjdHVhbCkgY29uY2VybmluZyB0aGlzIEFncmVlbWVudCBzYXZlIHRoYXQgZWl0aGVyIHBhcnR5IG1heSBhcHBseSB0byBhbnkgY291cnQgZm9yIGFuICBpbmp1bmN0aW9uIG9yIG90aGVyIHJlbGllZiB0byBwcm90ZWN0IGl0cyBJbnRlbGxlY3R1YWwgUHJvcGVydHkgUmlnaHRzLlxuXG5Db250ZW50OiBObyBXYWl2ZXIuIEZhaWx1cmUgb3IgZGVsYXkgaW4gZXhlcmNpc2luZyBhbnkgcmlnaHQgb3IgcmVtZWR5IHVuZGVyIHRoaXMgQWdyZWVtZW50IHNoYWxsIG5vdCBjb25zdGl0dXRlIGEgd2FpdmVyIG9mIHN1Y2ggKG9yIGFueSBvdGhlcikgIHJpZ2h0IG9yIHJlbWVkeS5cXG5cXG4xMS43IFNldmVyYWJpbGl0eS4gVGhlIGludmFsaWRpdHksIGlsbGVnYWxpdHkgb3IgdW5lbmZvcmNlYWJpbGl0eSBvZiBhbnkgdGVybSAob3IgcGFydCBvZiBhIHRlcm0pIG9mIHRoaXMgQWdyZWVtZW50IHNoYWxsIG5vdCBhZmZlY3QgdGhlIGNvbnRpbnVhdGlvbiAgaW4gZm9yY2Ugb2YgdGhlIHJlbWFpbmRlciBvZiB0aGUgdGVybSAoaWYgYW55KSBhbmQgdGhpcyBBZ3JlZW1lbnQuXFxuXFxuMTEuOCBObyBBZ2VuY3kuIEV4Y2VwdCBhcyBleHByZXNzbHkgc3RhdGVkIG90aGVyd2lzZSwgbm90aGluZyBpbiB0aGlzIEFncmVlbWVudCBzaGFsbCBjcmVhdGUgYW4gYWdlbmN5LCBwYXJ0bmVyc2hpcCBvciBqb2ludCB2ZW50dXJlIG9mIGFueSAga2luZCBiZXR3ZWVuIHRoZSBwYXJ0aWVzLlxcblxcbjExLjkgTm8gVGhpcmQtUGFydHkgQmVuZWZpY2lhcmllcy5cblxuQ29udGVudDogKGIpIGlmIEdvb2dsZSBiZWxpZXZlcywgaW4gZ29vZCBmYWl0aCwgdGhhdCB0aGUgRGlzdHJpYnV0b3IgaGFzIHZpb2xhdGVkIG9yIGNhdXNlZCBHb29nbGUgdG8gdmlvbGF0ZSBhbnkgQW50aS1CcmliZXJ5IExhd3MgKGFzICBkZWZpbmVkIGluIENsYXVzZSA4LjUpIG9yIHRoYXQgc3VjaCBhIHZpb2xhdGlvbiBpcyByZWFzb25hYmx5IGxpa2VseSB0byBvY2N1cixcbj09PT09PT09PVxuRklOQUwgQU5TV0VSOiBUaGlzIEFncmVlbWVudCBpcyBnb3Zlcm5lZCBieSBFbmdsaXNoIGxhdy5cblxuUVVFU1RJT046IFdoYXQgZGlkIHRoZSBwcmVzaWRlbnQgc2F5IGFib3V0IE1pY2hhZWwgSmFja3Nvbj9cbj09PT09PT09PVxuQ29udGVudDogTWFkYW0gU3BlYWtlciwgTWFkYW0gVmljZSBQcmVzaWRlbnQsIG91ciBGaXJzdCBMYWR5IGFuZCBTZWNvbmQgR2VudGxlbWFuLiBNZW1iZXJzIG9mIENvbmdyZXNzIGFuZCB0aGUgQ2FiaW5ldC4gSnVzdGljZXMgb2YgdGhlIFN1cHJlbWUgQ291cnQuIE15IGZlbGxvdyBBbWVyaWNhbnMuICBcXG5cXG5MYXN0IHllYXIgQ09WSUQtMTkga2VwdCB1cyBhcGFydC4gVGhpcyB5ZWFyIHdlIGFyZSBmaW5hbGx5IHRvZ2V0aGVyIGFnYWluLiBcXG5cXG5Ub25pZ2h0LCB3ZSBtZWV0IGFzIERlbW9jcmF0cyBSZXB1YmxpY2FucyBhbmQgSW5kZXBlbmRlbnRzLiBCdXQgbW9zdCBpbXBvcnRhbnRseSBhcyBBbWVyaWNhbnMuIFxcblxcbldpdGggYSBkdXR5IHRvIG9uZSBhbm90aGVyIHRvIHRoZSBBbWVyaWNhbiBwZW9wbGUgdG8gdGhlIENvbnN0aXR1dGlvbi4gXFxuXFxuQW5kIHdpdGggYW4gdW53YXZlcmluZyByZXNvbHZlIHRoYXQgZnJlZWRvbSB3aWxsIGFsd2F5cyB0cml1bXBoIG92ZXIgdHlyYW5ueS4gXFxuXFxuU2l4IGRheXMgYWdvLCBSdXNzaWHigJlzIFZsYWRpbWlyIFB1dGluIHNvdWdodCB0byBzaGFrZSB0aGUgZm91bmRhdGlvbnMgb2YgdGhlIGZyZWUgd29ybGQgdGhpbmtpbmcgaGUgY291bGQgbWFrZSBpdCBiZW5kIHRvIGhpcyBtZW5hY2luZyB3YXlzLiBCdXQgaGUgYmFkbHkgbWlzY2FsY3VsYXRlZC4gXFxuXFxuSGUgdGhvdWdodCBoZSBjb3VsZCByb2xsIGludG8gVWtyYWluZSBhbmQgdGhlIHdvcmxkIHdvdWxkIHJvbGwgb3Zlci4gSW5zdGVhZCBoZSBtZXQgYSB3YWxsIG9mIHN0cmVuZ3RoIGhlIG5ldmVyIGltYWdpbmVkLiBcXG5cXG5IZSBtZXQgdGhlIFVrcmFpbmlhbiBwZW9wbGUuIFxcblxcbkZyb20gUHJlc2lkZW50IFplbGVuc2t5eSB0byBldmVyeSBVa3JhaW5pYW4sIHRoZWlyIGZlYXJsZXNzbmVzcywgdGhlaXIgY291cmFnZSwgdGhlaXIgZGV0ZXJtaW5hdGlvbiwgaW5zcGlyZXMgdGhlIHdvcmxkLiBcXG5cXG5Hcm91cHMgb2YgY2l0aXplbnMgYmxvY2tpbmcgdGFua3Mgd2l0aCB0aGVpciBib2RpZXMuIEV2ZXJ5b25lIGZyb20gc3R1ZGVudHMgdG8gcmV0aXJlZXMgdGVhY2hlcnMgdHVybmVkIHNvbGRpZXJzIGRlZmVuZGluZyB0aGVpciBob21lbGFuZC5cblxuQ29udGVudDogQW5kIHdlIHdvbuKAmXQgc3RvcC4gXFxuXFxuV2UgaGF2ZSBsb3N0IHNvIG11Y2ggdG8gQ09WSUQtMTkuIFRpbWUgd2l0aCBvbmUgYW5vdGhlci4gQW5kIHdvcnN0IG9mIGFsbCwgc28gbXVjaCBsb3NzIG9mIGxpZmUuIFxcblxcbkxldOKAmXMgdXNlIHRoaXMgbW9tZW50IHRvIHJlc2V0LiBMZXTigJlzIHN0b3AgbG9va2luZyBhdCBDT1ZJRC0xOSBhcyBhIHBhcnRpc2FuIGRpdmlkaW5nIGxpbmUgYW5kIHNlZSBpdCBmb3Igd2hhdCBpdCBpczogQSBHb2QtYXdmdWwgZGlzZWFzZS4gIFxcblxcbkxldOKAmXMgc3RvcCBzZWVpbmcgZWFjaCBvdGhlciBhcyBlbmVtaWVzLCBhbmQgc3RhcnQgc2VlaW5nIGVhY2ggb3RoZXIgZm9yIHdobyB3ZSByZWFsbHkgYXJlOiBGZWxsb3cgQW1lcmljYW5zLiAgXFxuXFxuV2UgY2Fu4oCZdCBjaGFuZ2UgaG93IGRpdmlkZWQgd2XigJl2ZSBiZWVuLiBCdXQgd2UgY2FuIGNoYW5nZSBob3cgd2UgbW92ZSBmb3J3YXJk4oCUb24gQ09WSUQtMTkgYW5kIG90aGVyIGlzc3VlcyB3ZSBtdXN0IGZhY2UgdG9nZXRoZXIuIFxcblxcbkkgcmVjZW50bHkgdmlzaXRlZCB0aGUgTmV3IFlvcmsgQ2l0eSBQb2xpY2UgRGVwYXJ0bWVudCBkYXlzIGFmdGVyIHRoZSBmdW5lcmFscyBvZiBPZmZpY2VyIFdpbGJlcnQgTW9yYSBhbmQgaGlzIHBhcnRuZXIsIE9mZmljZXIgSmFzb24gUml2ZXJhLiBcXG5cXG5UaGV5IHdlcmUgcmVzcG9uZGluZyB0byBhIDktMS0xIGNhbGwgd2hlbiBhIG1hbiBzaG90IGFuZCBraWxsZWQgdGhlbSB3aXRoIGEgc3RvbGVuIGd1bi4gXFxuXFxuT2ZmaWNlciBNb3JhIHdhcyAyNyB5ZWFycyBvbGQuIFxcblxcbk9mZmljZXIgUml2ZXJhIHdhcyAyMi4gXFxuXFxuQm90aCBEb21pbmljYW4gQW1lcmljYW5zIHdob+KAmWQgZ3Jvd24gdXAgb24gdGhlIHNhbWUgc3RyZWV0cyB0aGV5IGxhdGVyIGNob3NlIHRvIHBhdHJvbCBhcyBwb2xpY2Ugb2ZmaWNlcnMuIFxcblxcbkkgc3Bva2Ugd2l0aCB0aGVpciBmYW1pbGllcyBhbmQgdG9sZCB0aGVtIHRoYXQgd2UgYXJlIGZvcmV2ZXIgaW4gZGVidCBmb3IgdGhlaXIgc2FjcmlmaWNlLCBhbmQgd2Ugd2lsbCBjYXJyeSBvbiB0aGVpciBtaXNzaW9uIHRvIHJlc3RvcmUgdGhlIHRydXN0IGFuZCBzYWZldHkgZXZlcnkgY29tbXVuaXR5IGRlc2VydmVzLlxuXG5Db250ZW50OiBBbmQgYSBwcm91ZCBVa3JhaW5pYW4gcGVvcGxlLCB3aG8gaGF2ZSBrbm93biAzMCB5ZWFycyAgb2YgaW5kZXBlbmRlbmNlLCBoYXZlIHJlcGVhdGVkbHkgc2hvd24gdGhhdCB0aGV5IHdpbGwgbm90IHRvbGVyYXRlIGFueW9uZSB3aG8gdHJpZXMgdG8gdGFrZSB0aGVpciBjb3VudHJ5IGJhY2t3YXJkcy4gIFxcblxcblRvIGFsbCBBbWVyaWNhbnMsIEkgd2lsbCBiZSBob25lc3Qgd2l0aCB5b3UsIGFzIEnigJl2ZSBhbHdheXMgcHJvbWlzZWQuIEEgUnVzc2lhbiBkaWN0YXRvciwgaW52YWRpbmcgYSBmb3JlaWduIGNvdW50cnksIGhhcyBjb3N0cyBhcm91bmQgdGhlIHdvcmxkLiBcXG5cXG5BbmQgSeKAmW0gdGFraW5nIHJvYnVzdCBhY3Rpb24gdG8gbWFrZSBzdXJlIHRoZSBwYWluIG9mIG91ciBzYW5jdGlvbnMgIGlzIHRhcmdldGVkIGF0IFJ1c3NpYeKAmXMgZWNvbm9teS4gQW5kIEkgd2lsbCB1c2UgZXZlcnkgdG9vbCBhdCBvdXIgZGlzcG9zYWwgdG8gcHJvdGVjdCBBbWVyaWNhbiBidXNpbmVzc2VzIGFuZCBjb25zdW1lcnMuIFxcblxcblRvbmlnaHQsIEkgY2FuIGFubm91bmNlIHRoYXQgdGhlIFVuaXRlZCBTdGF0ZXMgaGFzIHdvcmtlZCB3aXRoIDMwIG90aGVyIGNvdW50cmllcyB0byByZWxlYXNlIDYwIE1pbGxpb24gYmFycmVscyBvZiBvaWwgZnJvbSByZXNlcnZlcyBhcm91bmQgdGhlIHdvcmxkLiAgXFxuXFxuQW1lcmljYSB3aWxsIGxlYWQgdGhhdCBlZmZvcnQsIHJlbGVhc2luZyAzMCBNaWxsaW9uIGJhcnJlbHMgZnJvbSBvdXIgb3duIFN0cmF0ZWdpYyBQZXRyb2xldW0gUmVzZXJ2ZS4gQW5kIHdlIHN0YW5kIHJlYWR5IHRvIGRvIG1vcmUgaWYgbmVjZXNzYXJ5LCB1bmlmaWVkIHdpdGggb3VyIGFsbGllcy4gIFxcblxcblRoZXNlIHN0ZXBzIHdpbGwgaGVscCBibHVudCBnYXMgcHJpY2VzIGhlcmUgYXQgaG9tZS4gQW5kIEkga25vdyB0aGUgbmV3cyBhYm91dCB3aGF04oCZcyBoYXBwZW5pbmcgY2FuIHNlZW0gYWxhcm1pbmcuIFxcblxcbkJ1dCBJIHdhbnQgeW91IHRvIGtub3cgdGhhdCB3ZSBhcmUgZ29pbmcgdG8gYmUgb2theS5cblxuQ29udGVudDogTW9yZSBzdXBwb3J0IGZvciBwYXRpZW50cyBhbmQgZmFtaWxpZXMuIFxcblxcblRvIGdldCB0aGVyZSwgSSBjYWxsIG9uIENvbmdyZXNzIHRvIGZ1bmQgQVJQQS1ILCB0aGUgQWR2YW5jZWQgUmVzZWFyY2ggUHJvamVjdHMgQWdlbmN5IGZvciBIZWFsdGguIFxcblxcbkl04oCZcyBiYXNlZCBvbiBEQVJQQeKAlHRoZSBEZWZlbnNlIERlcGFydG1lbnQgcHJvamVjdCB0aGF0IGxlZCB0byB0aGUgSW50ZXJuZXQsIEdQUywgYW5kIHNvIG11Y2ggbW9yZS4gIFxcblxcbkFSUEEtSCB3aWxsIGhhdmUgYSBzaW5ndWxhciBwdXJwb3Nl4oCUdG8gZHJpdmUgYnJlYWt0aHJvdWdocyBpbiBjYW5jZXIsIEFsemhlaW1lcuKAmXMsIGRpYWJldGVzLCBhbmQgbW9yZS4gXFxuXFxuQSB1bml0eSBhZ2VuZGEgZm9yIHRoZSBuYXRpb24uIFxcblxcbldlIGNhbiBkbyB0aGlzLiBcXG5cXG5NeSBmZWxsb3cgQW1lcmljYW5z4oCUdG9uaWdodCAsIHdlIGhhdmUgZ2F0aGVyZWQgaW4gYSBzYWNyZWQgc3BhY2XigJR0aGUgY2l0YWRlbCBvZiBvdXIgZGVtb2NyYWN5LiBcXG5cXG5JbiB0aGlzIENhcGl0b2wsIGdlbmVyYXRpb24gYWZ0ZXIgZ2VuZXJhdGlvbiwgQW1lcmljYW5zIGhhdmUgZGViYXRlZCBncmVhdCBxdWVzdGlvbnMgYW1pZCBncmVhdCBzdHJpZmUsIGFuZCBoYXZlIGRvbmUgZ3JlYXQgdGhpbmdzLiBcXG5cXG5XZSBoYXZlIGZvdWdodCBmb3IgZnJlZWRvbSwgZXhwYW5kZWQgbGliZXJ0eSwgZGVmZWF0ZWQgdG90YWxpdGFyaWFuaXNtIGFuZCB0ZXJyb3IuIFxcblxcbkFuZCBidWlsdCB0aGUgc3Ryb25nZXN0LCBmcmVlc3QsIGFuZCBtb3N0IHByb3NwZXJvdXMgbmF0aW9uIHRoZSB3b3JsZCBoYXMgZXZlciBrbm93bi4gXFxuXFxuTm93IGlzIHRoZSBob3VyLiBcXG5cXG5PdXIgbW9tZW50IG9mIHJlc3BvbnNpYmlsaXR5LiBcXG5cXG5PdXIgdGVzdCBvZiByZXNvbHZlIGFuZCBjb25zY2llbmNlLCBvZiBoaXN0b3J5IGl0c2VsZi4gXFxuXFxuSXQgaXMgaW4gdGhpcyBtb21lbnQgdGhhdCBvdXIgY2hhcmFjdGVyIGlzIGZvcm1lZC4gT3VyIHB1cnBvc2UgaXMgZm91bmQuIE91ciBmdXR1cmUgaXMgZm9yZ2VkLiBcXG5cXG5XZWxsIEkga25vdyB0aGlzIG5hdGlvbi5cbj09PT09PT09PVxuRklOQUwgQU5TV0VSOiBUaGUgcHJlc2lkZW50IGRpZCBub3QgbWVudGlvbiBNaWNoYWVsIEphY2tzb24uXG5cblFVRVNUSU9OOiB7cXVlc3Rpb259XG49PT09PT09PT1cbntzdW1tYXJpZXN9XG49PT09PT09PT1cbkZJTkFMIEFOU1dFUjpgO1xuZXhwb3J0IGNvbnN0IENPTUJJTkVfUFJPTVBUID0gXG4vKiNfX1BVUkVfXyovIFByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShjb21iaW5lX3Byb21wdCk7XG5jb25zdCBzeXN0ZW1fY29tYmluZV90ZW1wbGF0ZSA9IGBHaXZlbiB0aGUgZm9sbG93aW5nIGV4dHJhY3RlZCBwYXJ0cyBvZiBhIGxvbmcgZG9jdW1lbnQgYW5kIGEgcXVlc3Rpb24sIGNyZWF0ZSBhIGZpbmFsIGFuc3dlci4gXG5JZiB5b3UgZG9uJ3Qga25vdyB0aGUgYW5zd2VyLCBqdXN0IHNheSB0aGF0IHlvdSBkb24ndCBrbm93LiBEb24ndCB0cnkgdG8gbWFrZSB1cCBhbiBhbnN3ZXIuXG4tLS0tLS0tLS0tLS0tLS0tXG57c3VtbWFyaWVzfWA7XG5jb25zdCBjb21iaW5lX21lc3NhZ2VzID0gW1xuICAgIC8qI19fUFVSRV9fKi8gU3lzdGVtTWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShzeXN0ZW1fY29tYmluZV90ZW1wbGF0ZSksXG4gICAgLyojX19QVVJFX18qLyBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXCJ7cXVlc3Rpb259XCIpLFxuXTtcbmNvbnN0IENIQVRfQ09NQklORV9QUk9NUFQgPSBcbi8qI19fUFVSRV9fKi8gQ2hhdFByb21wdFRlbXBsYXRlLmZyb21NZXNzYWdlcyhjb21iaW5lX21lc3NhZ2VzKTtcbmV4cG9ydCBjb25zdCBDT01CSU5FX1BST01QVF9TRUxFQ1RPUiA9IFxuLyojX19QVVJFX18qLyBuZXcgQ29uZGl0aW9uYWxQcm9tcHRTZWxlY3RvcihDT01CSU5FX1BST01QVCwgW1xuICAgIFtpc0NoYXRNb2RlbCwgQ0hBVF9DT01CSU5FX1BST01QVF0sXG5dKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/question_answering/map_reduce_prompts.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/question_answering/refine_prompts.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/langchain/dist/chains/question_answering/refine_prompts.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CHAT_QUESTION_PROMPT: () => (/* binding */ CHAT_QUESTION_PROMPT),\n/* harmony export */   CHAT_REFINE_PROMPT: () => (/* binding */ CHAT_REFINE_PROMPT),\n/* harmony export */   DEFAULT_REFINE_PROMPT: () => (/* binding */ DEFAULT_REFINE_PROMPT),\n/* harmony export */   DEFAULT_REFINE_PROMPT_TMPL: () => (/* binding */ DEFAULT_REFINE_PROMPT_TMPL),\n/* harmony export */   DEFAULT_TEXT_QA_PROMPT: () => (/* binding */ DEFAULT_TEXT_QA_PROMPT),\n/* harmony export */   DEFAULT_TEXT_QA_PROMPT_TMPL: () => (/* binding */ DEFAULT_TEXT_QA_PROMPT_TMPL),\n/* harmony export */   QUESTION_PROMPT_SELECTOR: () => (/* binding */ QUESTION_PROMPT_SELECTOR),\n/* harmony export */   REFINE_PROMPT_SELECTOR: () => (/* binding */ REFINE_PROMPT_SELECTOR)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/prompts */ \"(rsc)/./node_modules/@langchain/core/prompts.js\");\n/* harmony import */ var _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/example_selectors */ \"(rsc)/./node_modules/@langchain/core/example_selectors.js\");\n/* eslint-disable spaced-comment */\n\n\nconst DEFAULT_REFINE_PROMPT_TMPL = `The original question is as follows: {question}\nWe have provided an existing answer: {existing_answer}\nWe have the opportunity to refine the existing answer\n(only if needed) with some more context below.\n------------\n{context}\n------------\nGiven the new context, refine the original answer to better answer the question. \nIf the context isn't useful, return the original answer.`;\nconst DEFAULT_REFINE_PROMPT = /*#__PURE__*/ new _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.PromptTemplate({\n    inputVariables: [\"question\", \"existing_answer\", \"context\"],\n    template: DEFAULT_REFINE_PROMPT_TMPL,\n});\nconst refineTemplate = `The original question is as follows: {question}\nWe have provided an existing answer: {existing_answer}\nWe have the opportunity to refine the existing answer\n(only if needed) with some more context below.\n------------\n{context}\n------------\nGiven the new context, refine the original answer to better answer the question. \nIf the context isn't useful, return the original answer.`;\nconst messages = [\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.HumanMessagePromptTemplate.fromTemplate(\"{question}\"),\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.AIMessagePromptTemplate.fromTemplate(\"{existing_answer}\"),\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.HumanMessagePromptTemplate.fromTemplate(refineTemplate),\n];\nconst CHAT_REFINE_PROMPT = \n/*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.ChatPromptTemplate.fromMessages(messages);\nconst REFINE_PROMPT_SELECTOR = \n/*#__PURE__*/ new _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.ConditionalPromptSelector(DEFAULT_REFINE_PROMPT, [\n    [_langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.isChatModel, CHAT_REFINE_PROMPT],\n]);\nconst DEFAULT_TEXT_QA_PROMPT_TMPL = `Context information is below. \n---------------------\n{context}\n---------------------\nGiven the context information and no prior knowledge, answer the question: {question}`;\nconst DEFAULT_TEXT_QA_PROMPT = /*#__PURE__*/ new _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.PromptTemplate({\n    inputVariables: [\"context\", \"question\"],\n    template: DEFAULT_TEXT_QA_PROMPT_TMPL,\n});\nconst chat_qa_prompt_template = `Context information is below. \n---------------------\n{context}\n---------------------\nGiven the context information and no prior knowledge, answer any questions`;\nconst chat_messages = [\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.SystemMessagePromptTemplate.fromTemplate(chat_qa_prompt_template),\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.HumanMessagePromptTemplate.fromTemplate(\"{question}\"),\n];\nconst CHAT_QUESTION_PROMPT = \n/*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.ChatPromptTemplate.fromMessages(chat_messages);\nconst QUESTION_PROMPT_SELECTOR = \n/*#__PURE__*/ new _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.ConditionalPromptSelector(DEFAULT_TEXT_QA_PROMPT, [\n    [_langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.isChatModel, CHAT_QUESTION_PROMPT],\n]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3F1ZXN0aW9uX2Fuc3dlcmluZy9yZWZpbmVfcHJvbXB0cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDZ0s7QUFDcEU7QUFDckYsMEVBQTBFO0FBQ2pGLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ08sZ0RBQWdELG1FQUFjO0FBQ3JFO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOERBQThEO0FBQzlELHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsK0VBQTBCLGdCQUFnQixTQUFTO0FBQ3JFLGtCQUFrQiw0RUFBdUIsZ0JBQWdCLGdCQUFnQjtBQUN6RSxrQkFBa0IsK0VBQTBCO0FBQzVDO0FBQ087QUFDUCxjQUFjLHVFQUFrQjtBQUN6QjtBQUNQLGtCQUFrQix3RkFBeUI7QUFDM0MsS0FBSywwRUFBVztBQUNoQjtBQUNPO0FBQ1A7QUFDQSxDQUFDO0FBQ0Q7QUFDQSw0RUFBNEUsU0FBUztBQUM5RSxpREFBaUQsbUVBQWM7QUFDdEU7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnRkFBMkI7QUFDN0Msa0JBQWtCLCtFQUEwQixnQkFBZ0IsU0FBUztBQUNyRTtBQUNPO0FBQ1AsY0FBYyx1RUFBa0I7QUFDekI7QUFDUCxrQkFBa0Isd0ZBQXlCO0FBQzNDLEtBQUssMEVBQVc7QUFDaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWFpLXByZXAvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3F1ZXN0aW9uX2Fuc3dlcmluZy9yZWZpbmVfcHJvbXB0cy5qcz85OGE1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIHNwYWNlZC1jb21tZW50ICovXG5pbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSwgQ2hhdFByb21wdFRlbXBsYXRlLCBTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGUsIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlLCBBSU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSwgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3Byb21wdHNcIjtcbmltcG9ydCB7IENvbmRpdGlvbmFsUHJvbXB0U2VsZWN0b3IsIGlzQ2hhdE1vZGVsLCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvZXhhbXBsZV9zZWxlY3RvcnNcIjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1JFRklORV9QUk9NUFRfVE1QTCA9IGBUaGUgb3JpZ2luYWwgcXVlc3Rpb24gaXMgYXMgZm9sbG93czoge3F1ZXN0aW9ufVxuV2UgaGF2ZSBwcm92aWRlZCBhbiBleGlzdGluZyBhbnN3ZXI6IHtleGlzdGluZ19hbnN3ZXJ9XG5XZSBoYXZlIHRoZSBvcHBvcnR1bml0eSB0byByZWZpbmUgdGhlIGV4aXN0aW5nIGFuc3dlclxuKG9ubHkgaWYgbmVlZGVkKSB3aXRoIHNvbWUgbW9yZSBjb250ZXh0IGJlbG93LlxuLS0tLS0tLS0tLS0tXG57Y29udGV4dH1cbi0tLS0tLS0tLS0tLVxuR2l2ZW4gdGhlIG5ldyBjb250ZXh0LCByZWZpbmUgdGhlIG9yaWdpbmFsIGFuc3dlciB0byBiZXR0ZXIgYW5zd2VyIHRoZSBxdWVzdGlvbi4gXG5JZiB0aGUgY29udGV4dCBpc24ndCB1c2VmdWwsIHJldHVybiB0aGUgb3JpZ2luYWwgYW5zd2VyLmA7XG5leHBvcnQgY29uc3QgREVGQVVMVF9SRUZJTkVfUFJPTVBUID0gLyojX19QVVJFX18qLyBuZXcgUHJvbXB0VGVtcGxhdGUoe1xuICAgIGlucHV0VmFyaWFibGVzOiBbXCJxdWVzdGlvblwiLCBcImV4aXN0aW5nX2Fuc3dlclwiLCBcImNvbnRleHRcIl0sXG4gICAgdGVtcGxhdGU6IERFRkFVTFRfUkVGSU5FX1BST01QVF9UTVBMLFxufSk7XG5jb25zdCByZWZpbmVUZW1wbGF0ZSA9IGBUaGUgb3JpZ2luYWwgcXVlc3Rpb24gaXMgYXMgZm9sbG93czoge3F1ZXN0aW9ufVxuV2UgaGF2ZSBwcm92aWRlZCBhbiBleGlzdGluZyBhbnN3ZXI6IHtleGlzdGluZ19hbnN3ZXJ9XG5XZSBoYXZlIHRoZSBvcHBvcnR1bml0eSB0byByZWZpbmUgdGhlIGV4aXN0aW5nIGFuc3dlclxuKG9ubHkgaWYgbmVlZGVkKSB3aXRoIHNvbWUgbW9yZSBjb250ZXh0IGJlbG93LlxuLS0tLS0tLS0tLS0tXG57Y29udGV4dH1cbi0tLS0tLS0tLS0tLVxuR2l2ZW4gdGhlIG5ldyBjb250ZXh0LCByZWZpbmUgdGhlIG9yaWdpbmFsIGFuc3dlciB0byBiZXR0ZXIgYW5zd2VyIHRoZSBxdWVzdGlvbi4gXG5JZiB0aGUgY29udGV4dCBpc24ndCB1c2VmdWwsIHJldHVybiB0aGUgb3JpZ2luYWwgYW5zd2VyLmA7XG5jb25zdCBtZXNzYWdlcyA9IFtcbiAgICAvKiNfX1BVUkVfXyovIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShcIntxdWVzdGlvbn1cIiksXG4gICAgLyojX19QVVJFX18qLyBBSU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXCJ7ZXhpc3RpbmdfYW5zd2VyfVwiKSxcbiAgICAvKiNfX1BVUkVfXyovIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShyZWZpbmVUZW1wbGF0ZSksXG5dO1xuZXhwb3J0IGNvbnN0IENIQVRfUkVGSU5FX1BST01QVCA9IFxuLyojX19QVVJFX18qLyBDaGF0UHJvbXB0VGVtcGxhdGUuZnJvbU1lc3NhZ2VzKG1lc3NhZ2VzKTtcbmV4cG9ydCBjb25zdCBSRUZJTkVfUFJPTVBUX1NFTEVDVE9SID0gXG4vKiNfX1BVUkVfXyovIG5ldyBDb25kaXRpb25hbFByb21wdFNlbGVjdG9yKERFRkFVTFRfUkVGSU5FX1BST01QVCwgW1xuICAgIFtpc0NoYXRNb2RlbCwgQ0hBVF9SRUZJTkVfUFJPTVBUXSxcbl0pO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfVEVYVF9RQV9QUk9NUFRfVE1QTCA9IGBDb250ZXh0IGluZm9ybWF0aW9uIGlzIGJlbG93LiBcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLVxue2NvbnRleHR9XG4tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkdpdmVuIHRoZSBjb250ZXh0IGluZm9ybWF0aW9uIGFuZCBubyBwcmlvciBrbm93bGVkZ2UsIGFuc3dlciB0aGUgcXVlc3Rpb246IHtxdWVzdGlvbn1gO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfVEVYVF9RQV9QUk9NUFQgPSAvKiNfX1BVUkVfXyovIG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gICAgaW5wdXRWYXJpYWJsZXM6IFtcImNvbnRleHRcIiwgXCJxdWVzdGlvblwiXSxcbiAgICB0ZW1wbGF0ZTogREVGQVVMVF9URVhUX1FBX1BST01QVF9UTVBMLFxufSk7XG5jb25zdCBjaGF0X3FhX3Byb21wdF90ZW1wbGF0ZSA9IGBDb250ZXh0IGluZm9ybWF0aW9uIGlzIGJlbG93LiBcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLVxue2NvbnRleHR9XG4tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkdpdmVuIHRoZSBjb250ZXh0IGluZm9ybWF0aW9uIGFuZCBubyBwcmlvciBrbm93bGVkZ2UsIGFuc3dlciBhbnkgcXVlc3Rpb25zYDtcbmNvbnN0IGNoYXRfbWVzc2FnZXMgPSBbXG4gICAgLyojX19QVVJFX18qLyBTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGUuZnJvbVRlbXBsYXRlKGNoYXRfcWFfcHJvbXB0X3RlbXBsYXRlKSxcbiAgICAvKiNfX1BVUkVfXyovIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShcIntxdWVzdGlvbn1cIiksXG5dO1xuZXhwb3J0IGNvbnN0IENIQVRfUVVFU1RJT05fUFJPTVBUID0gXG4vKiNfX1BVUkVfXyovIENoYXRQcm9tcHRUZW1wbGF0ZS5mcm9tTWVzc2FnZXMoY2hhdF9tZXNzYWdlcyk7XG5leHBvcnQgY29uc3QgUVVFU1RJT05fUFJPTVBUX1NFTEVDVE9SID0gXG4vKiNfX1BVUkVfXyovIG5ldyBDb25kaXRpb25hbFByb21wdFNlbGVjdG9yKERFRkFVTFRfVEVYVF9RQV9QUk9NUFQsIFtcbiAgICBbaXNDaGF0TW9kZWwsIENIQVRfUVVFU1RJT05fUFJPTVBUXSxcbl0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/question_answering/refine_prompts.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/question_answering/stuff_prompts.js":
/*!********************************************************************************!*\
  !*** ./node_modules/langchain/dist/chains/question_answering/stuff_prompts.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_QA_PROMPT: () => (/* binding */ DEFAULT_QA_PROMPT),\n/* harmony export */   QA_PROMPT_SELECTOR: () => (/* binding */ QA_PROMPT_SELECTOR)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/prompts */ \"(rsc)/./node_modules/@langchain/core/prompts.js\");\n/* harmony import */ var _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/example_selectors */ \"(rsc)/./node_modules/@langchain/core/example_selectors.js\");\n/* eslint-disable spaced-comment */\n\n\nconst DEFAULT_QA_PROMPT = /*#__PURE__*/ new _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.PromptTemplate({\n    template: \"Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer.\\n\\n{context}\\n\\nQuestion: {question}\\nHelpful Answer:\",\n    inputVariables: [\"context\", \"question\"],\n});\nconst system_template = `Use the following pieces of context to answer the users question. \nIf you don't know the answer, just say that you don't know, don't try to make up an answer.\n----------------\n{context}`;\nconst messages = [\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.SystemMessagePromptTemplate.fromTemplate(system_template),\n    /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.HumanMessagePromptTemplate.fromTemplate(\"{question}\"),\n];\nconst CHAT_PROMPT = /*#__PURE__*/ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.ChatPromptTemplate.fromMessages(messages);\nconst QA_PROMPT_SELECTOR = /*#__PURE__*/ new _langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.ConditionalPromptSelector(DEFAULT_QA_PROMPT, [[_langchain_core_example_selectors__WEBPACK_IMPORTED_MODULE_1__.isChatModel, CHAT_PROMPT]]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3F1ZXN0aW9uX2Fuc3dlcmluZy9zdHVmZl9wcm9tcHRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUN1STtBQUMzQztBQUNyRiw0Q0FBNEMsbUVBQWM7QUFDakUsc0xBQXNMLFFBQVEsZUFBZSxTQUFTO0FBQ3ROO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUMsUUFBUTtBQUNUO0FBQ0Esa0JBQWtCLGdGQUEyQjtBQUM3QyxrQkFBa0IsK0VBQTBCLGdCQUFnQixTQUFTO0FBQ3JFO0FBQ0Esa0NBQWtDLHVFQUFrQjtBQUM3Qyw2Q0FBNkMsd0ZBQXlCLHNCQUFzQiwwRUFBVyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtYWktcHJlcC8uL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9jaGFpbnMvcXVlc3Rpb25fYW5zd2VyaW5nL3N0dWZmX3Byb21wdHMuanM/NjVlMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBzcGFjZWQtY29tbWVudCAqL1xuaW1wb3J0IHsgQ2hhdFByb21wdFRlbXBsYXRlLCBTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGUsIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlLCBQcm9tcHRUZW1wbGF0ZSwgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3Byb21wdHNcIjtcbmltcG9ydCB7IENvbmRpdGlvbmFsUHJvbXB0U2VsZWN0b3IsIGlzQ2hhdE1vZGVsLCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvZXhhbXBsZV9zZWxlY3RvcnNcIjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1FBX1BST01QVCA9IC8qI19fUFVSRV9fKi8gbmV3IFByb21wdFRlbXBsYXRlKHtcbiAgICB0ZW1wbGF0ZTogXCJVc2UgdGhlIGZvbGxvd2luZyBwaWVjZXMgb2YgY29udGV4dCB0byBhbnN3ZXIgdGhlIHF1ZXN0aW9uIGF0IHRoZSBlbmQuIElmIHlvdSBkb24ndCBrbm93IHRoZSBhbnN3ZXIsIGp1c3Qgc2F5IHRoYXQgeW91IGRvbid0IGtub3csIGRvbid0IHRyeSB0byBtYWtlIHVwIGFuIGFuc3dlci5cXG5cXG57Y29udGV4dH1cXG5cXG5RdWVzdGlvbjoge3F1ZXN0aW9ufVxcbkhlbHBmdWwgQW5zd2VyOlwiLFxuICAgIGlucHV0VmFyaWFibGVzOiBbXCJjb250ZXh0XCIsIFwicXVlc3Rpb25cIl0sXG59KTtcbmNvbnN0IHN5c3RlbV90ZW1wbGF0ZSA9IGBVc2UgdGhlIGZvbGxvd2luZyBwaWVjZXMgb2YgY29udGV4dCB0byBhbnN3ZXIgdGhlIHVzZXJzIHF1ZXN0aW9uLiBcbklmIHlvdSBkb24ndCBrbm93IHRoZSBhbnN3ZXIsIGp1c3Qgc2F5IHRoYXQgeW91IGRvbid0IGtub3csIGRvbid0IHRyeSB0byBtYWtlIHVwIGFuIGFuc3dlci5cbi0tLS0tLS0tLS0tLS0tLS1cbntjb250ZXh0fWA7XG5jb25zdCBtZXNzYWdlcyA9IFtcbiAgICAvKiNfX1BVUkVfXyovIFN5c3RlbU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoc3lzdGVtX3RlbXBsYXRlKSxcbiAgICAvKiNfX1BVUkVfXyovIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlLmZyb21UZW1wbGF0ZShcIntxdWVzdGlvbn1cIiksXG5dO1xuY29uc3QgQ0hBVF9QUk9NUFQgPSAvKiNfX1BVUkVfXyovIENoYXRQcm9tcHRUZW1wbGF0ZS5mcm9tTWVzc2FnZXMobWVzc2FnZXMpO1xuZXhwb3J0IGNvbnN0IFFBX1BST01QVF9TRUxFQ1RPUiA9IC8qI19fUFVSRV9fKi8gbmV3IENvbmRpdGlvbmFsUHJvbXB0U2VsZWN0b3IoREVGQVVMVF9RQV9QUk9NUFQsIFtbaXNDaGF0TW9kZWwsIENIQVRfUFJPTVBUXV0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/question_answering/stuff_prompts.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/sequential_chain.js":
/*!****************************************************************!*\
  !*** ./node_modules/langchain/dist/chains/sequential_chain.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SequentialChain: () => (/* binding */ SequentialChain),\n/* harmony export */   SimpleSequentialChain: () => (/* binding */ SimpleSequentialChain)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/langchain/dist/chains/base.js\");\n/* harmony import */ var _util_set_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/set.js */ \"(rsc)/./node_modules/langchain/dist/util/set.js\");\n\n\nfunction formatSet(input) {\n    return Array.from(input)\n        .map((i) => `\"${i}\"`)\n        .join(\", \");\n}\n/**\n * Chain where the outputs of one chain feed directly into next.\n * @example\n * ```typescript\n * const promptTemplate = new PromptTemplate({\n *   template: `You are a playwright. Given the title of play and the era it is set in, it is your job to write a synopsis for that title.\n * Title: {title}\n * Era: {era}\n * Playwright: This is a synopsis for the above play:`,\n *   inputVariables: [\"title\", \"era\"],\n * });\n\n * const reviewPromptTemplate = new PromptTemplate({\n *   template: `You are a play critic from the New York Times. Given the synopsis of play, it is your job to write a review for that play.\n *\n *     Play Synopsis:\n *     {synopsis}\n *     Review from a New York Times play critic of the above play:`,\n *   inputVariables: [\"synopsis\"],\n * });\n\n * const overallChain = new SequentialChain({\n *   chains: [\n *     new LLMChain({\n *       llm: new ChatOpenAI({ temperature: 0 }),\n *       prompt: promptTemplate,\n *       outputKey: \"synopsis\",\n *     }),\n *     new LLMChain({\n *       llm: new OpenAI({ temperature: 0 }),\n *       prompt: reviewPromptTemplate,\n *       outputKey: \"review\",\n *     }),\n *   ],\n *   inputVariables: [\"era\", \"title\"],\n *   outputVariables: [\"synopsis\", \"review\"],\n *   verbose: true,\n * });\n\n * const chainExecutionResult = await overallChain.call({\n *   title: \"Tragedy at sunset on the beach\",\n *   era: \"Victorian England\",\n * });\n * console.log(chainExecutionResult);\n * ```\n *\n * @deprecated\n * Switch to {@link https://js.langchain.com/docs/expression_language/ | expression language}.\n * Will be removed in 0.2.0\n */\nclass SequentialChain extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseChain {\n    static lc_name() {\n        return \"SequentialChain\";\n    }\n    get inputKeys() {\n        return this.inputVariables;\n    }\n    get outputKeys() {\n        return this.outputVariables;\n    }\n    constructor(fields) {\n        super(fields);\n        Object.defineProperty(this, \"chains\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"inputVariables\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"outputVariables\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"returnAll\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.chains = fields.chains;\n        this.inputVariables = fields.inputVariables;\n        this.outputVariables = fields.outputVariables ?? [];\n        if (this.outputVariables.length > 0 && fields.returnAll) {\n            throw new Error(\"Either specify variables to return using `outputVariables` or use `returnAll` param. Cannot apply both conditions at the same time.\");\n        }\n        this.returnAll = fields.returnAll ?? false;\n        this._validateChains();\n    }\n    /** @ignore */\n    _validateChains() {\n        if (this.chains.length === 0) {\n            throw new Error(\"Sequential chain must have at least one chain.\");\n        }\n        const memoryKeys = this.memory?.memoryKeys ?? [];\n        const inputKeysSet = new Set(this.inputKeys);\n        const memoryKeysSet = new Set(memoryKeys);\n        const keysIntersection = (0,_util_set_js__WEBPACK_IMPORTED_MODULE_1__.intersection)(inputKeysSet, memoryKeysSet);\n        if (keysIntersection.size > 0) {\n            throw new Error(`The following keys: ${formatSet(keysIntersection)} are overlapping between memory and input keys of the chain variables. This can lead to unexpected behaviour. Please use input and memory keys that don't overlap.`);\n        }\n        const availableKeys = (0,_util_set_js__WEBPACK_IMPORTED_MODULE_1__.union)(inputKeysSet, memoryKeysSet);\n        for (const chain of this.chains) {\n            let missingKeys = (0,_util_set_js__WEBPACK_IMPORTED_MODULE_1__.difference)(new Set(chain.inputKeys), availableKeys);\n            if (chain.memory) {\n                missingKeys = (0,_util_set_js__WEBPACK_IMPORTED_MODULE_1__.difference)(missingKeys, new Set(chain.memory.memoryKeys));\n            }\n            if (missingKeys.size > 0) {\n                throw new Error(`Missing variables for chain \"${chain._chainType()}\": ${formatSet(missingKeys)}. Only got the following variables: ${formatSet(availableKeys)}.`);\n            }\n            const outputKeysSet = new Set(chain.outputKeys);\n            const overlappingOutputKeys = (0,_util_set_js__WEBPACK_IMPORTED_MODULE_1__.intersection)(availableKeys, outputKeysSet);\n            if (overlappingOutputKeys.size > 0) {\n                throw new Error(`The following output variables for chain \"${chain._chainType()}\" are overlapping: ${formatSet(overlappingOutputKeys)}. This can lead to unexpected behaviour.`);\n            }\n            for (const outputKey of outputKeysSet) {\n                availableKeys.add(outputKey);\n            }\n        }\n        if (this.outputVariables.length === 0) {\n            if (this.returnAll) {\n                const outputKeys = (0,_util_set_js__WEBPACK_IMPORTED_MODULE_1__.difference)(availableKeys, inputKeysSet);\n                this.outputVariables = Array.from(outputKeys);\n            }\n            else {\n                this.outputVariables = this.chains[this.chains.length - 1].outputKeys;\n            }\n        }\n        else {\n            const missingKeys = (0,_util_set_js__WEBPACK_IMPORTED_MODULE_1__.difference)(new Set(this.outputVariables), new Set(availableKeys));\n            if (missingKeys.size > 0) {\n                throw new Error(`The following output variables were expected to be in the final chain output but were not found: ${formatSet(missingKeys)}.`);\n            }\n        }\n    }\n    /** @ignore */\n    async _call(values, runManager) {\n        let input = {};\n        const allChainValues = values;\n        let i = 0;\n        for (const chain of this.chains) {\n            i += 1;\n            input = await chain.call(allChainValues, runManager?.getChild(`step_${i}`));\n            for (const key of Object.keys(input)) {\n                allChainValues[key] = input[key];\n            }\n        }\n        const output = {};\n        for (const key of this.outputVariables) {\n            output[key] = allChainValues[key];\n        }\n        return output;\n    }\n    _chainType() {\n        return \"sequential_chain\";\n    }\n    static async deserialize(data) {\n        const chains = [];\n        const inputVariables = data.input_variables;\n        const outputVariables = data.output_variables;\n        const serializedChains = data.chains;\n        for (const serializedChain of serializedChains) {\n            const deserializedChain = await _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseChain.deserialize(serializedChain);\n            chains.push(deserializedChain);\n        }\n        return new SequentialChain({ chains, inputVariables, outputVariables });\n    }\n    serialize() {\n        const chains = [];\n        for (const chain of this.chains) {\n            chains.push(chain.serialize());\n        }\n        return {\n            _type: this._chainType(),\n            input_variables: this.inputVariables,\n            output_variables: this.outputVariables,\n            chains,\n        };\n    }\n}\n/**\n * @deprecated Switch to expression language: https://js.langchain.com/docs/expression_language/\n * Simple chain where a single string output of one chain is fed directly into the next.\n * @augments BaseChain\n * @augments SimpleSequentialChainInput\n *\n * @example\n * ```ts\n * import { SimpleSequentialChain, LLMChain } from \"langchain/chains\";\n * import { OpenAI } from \"langchain/llms/openai\";\n * import { PromptTemplate } from \"langchain/prompts\";\n *\n * // This is an LLMChain to write a synopsis given a title of a play.\n * const llm = new OpenAI({ temperature: 0 });\n * const template = `You are a playwright. Given the title of play, it is your job to write a synopsis for that title.\n *\n * Title: {title}\n * Playwright: This is a synopsis for the above play:`\n * const promptTemplate = new PromptTemplate({ template, inputVariables: [\"title\"] });\n * const synopsisChain = new LLMChain({ llm, prompt: promptTemplate });\n *\n *\n * // This is an LLMChain to write a review of a play given a synopsis.\n * const reviewLLM = new OpenAI({ temperature: 0 })\n * const reviewTemplate = `You are a play critic from the New York Times. Given the synopsis of play, it is your job to write a review for that play.\n *\n * Play Synopsis:\n * {synopsis}\n * Review from a New York Times play critic of the above play:`\n * const reviewPromptTemplate = new PromptTemplate({ template: reviewTemplate, inputVariables: [\"synopsis\"] });\n * const reviewChain = new LLMChain({ llm: reviewLLM, prompt: reviewPromptTemplate });\n *\n * const overallChain = new SimpleSequentialChain({chains: [synopsisChain, reviewChain], verbose:true})\n * const review = await overallChain.run(\"Tragedy at sunset on the beach\")\n * // the variable review contains resulting play review.\n * ```\n */\nclass SimpleSequentialChain extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseChain {\n    static lc_name() {\n        return \"SimpleSequentialChain\";\n    }\n    get inputKeys() {\n        return [this.inputKey];\n    }\n    get outputKeys() {\n        return [this.outputKey];\n    }\n    constructor(fields) {\n        super(fields);\n        Object.defineProperty(this, \"chains\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"inputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"input\"\n        });\n        Object.defineProperty(this, \"outputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"output\"\n        });\n        Object.defineProperty(this, \"trimOutputs\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.chains = fields.chains;\n        this.trimOutputs = fields.trimOutputs ?? false;\n        this._validateChains();\n    }\n    /** @ignore */\n    _validateChains() {\n        for (const chain of this.chains) {\n            if (chain.inputKeys.filter((k) => !chain.memory?.memoryKeys.includes(k) ?? true).length !== 1) {\n                throw new Error(`Chains used in SimpleSequentialChain should all have one input, got ${chain.inputKeys.length} for ${chain._chainType()}.`);\n            }\n            if (chain.outputKeys.length !== 1) {\n                throw new Error(`Chains used in SimpleSequentialChain should all have one output, got ${chain.outputKeys.length} for ${chain._chainType()}.`);\n            }\n        }\n    }\n    /** @ignore */\n    async _call(values, runManager) {\n        let input = values[this.inputKey];\n        let i = 0;\n        for (const chain of this.chains) {\n            i += 1;\n            input = (await chain.call({ [chain.inputKeys[0]]: input, signal: values.signal }, runManager?.getChild(`step_${i}`)))[chain.outputKeys[0]];\n            if (this.trimOutputs) {\n                input = input.trim();\n            }\n            await runManager?.handleText(input);\n        }\n        return { [this.outputKey]: input };\n    }\n    _chainType() {\n        return \"simple_sequential_chain\";\n    }\n    static async deserialize(data) {\n        const chains = [];\n        const serializedChains = data.chains;\n        for (const serializedChain of serializedChains) {\n            const deserializedChain = await _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseChain.deserialize(serializedChain);\n            chains.push(deserializedChain);\n        }\n        return new SimpleSequentialChain({ chains });\n    }\n    serialize() {\n        const chains = [];\n        for (const chain of this.chains) {\n            chains.push(chain.serialize());\n        }\n        return {\n            _type: this._chainType(),\n            chains,\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3NlcXVlbnRpYWxfY2hhaW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFzQztBQUMyQjtBQUNqRTtBQUNBO0FBQ0Esd0JBQXdCLEVBQUU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdCQUFnQjtBQUMvQztBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsMkJBQTJCLGdCQUFnQjtBQUMzQztBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLCtFQUErRTtBQUM3RjtBQUNBO0FBQ08sOEJBQThCLCtDQUFTO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsMERBQVk7QUFDN0M7QUFDQSxtREFBbUQsNkJBQTZCO0FBQ2hGO0FBQ0EsOEJBQThCLG1EQUFLO0FBQ25DO0FBQ0EsOEJBQThCLHdEQUFVO0FBQ3hDO0FBQ0EsOEJBQThCLHdEQUFVO0FBQ3hDO0FBQ0E7QUFDQSxnRUFBZ0UsbUJBQW1CLEtBQUssdUJBQXVCLHNDQUFzQyx5QkFBeUI7QUFDOUs7QUFDQTtBQUNBLDBDQUEwQywwREFBWTtBQUN0RDtBQUNBLDZFQUE2RSxtQkFBbUIscUJBQXFCLGlDQUFpQztBQUN0SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyx3REFBVTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx3REFBVTtBQUMxQztBQUNBLG9JQUFvSSx1QkFBdUI7QUFDM0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0YsRUFBRTtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QywrQ0FBUztBQUNyRDtBQUNBO0FBQ0EscUNBQXFDLHlDQUF5QztBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0NBQWtDO0FBQzlDLFlBQVksU0FBUztBQUNyQixZQUFZLGlCQUFpQjtBQUM3QjtBQUNBO0FBQ0EsNEJBQTRCLGdCQUFnQjtBQUM1QztBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsK0NBQStDLHFDQUFxQztBQUNwRix3Q0FBd0MsNkJBQTZCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxnQkFBZ0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EscURBQXFELHdEQUF3RDtBQUM3RyxzQ0FBc0MsOENBQThDO0FBQ3BGO0FBQ0EsbURBQW1ELG1EQUFtRDtBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNPLG9DQUFvQywrQ0FBUztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUdBQXVHLHdCQUF3QixNQUFNLG1CQUFtQjtBQUN4SjtBQUNBO0FBQ0Esd0dBQXdHLHlCQUF5QixNQUFNLG1CQUFtQjtBQUMxSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0Msb0RBQW9ELCtCQUErQixFQUFFO0FBQzdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QywrQ0FBUztBQUNyRDtBQUNBO0FBQ0EsMkNBQTJDLFFBQVE7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1haS1wcmVwLy4vbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2NoYWlucy9zZXF1ZW50aWFsX2NoYWluLmpzPzY0NzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZUNoYWluIH0gZnJvbSBcIi4vYmFzZS5qc1wiO1xuaW1wb3J0IHsgaW50ZXJzZWN0aW9uLCB1bmlvbiwgZGlmZmVyZW5jZSB9IGZyb20gXCIuLi91dGlsL3NldC5qc1wiO1xuZnVuY3Rpb24gZm9ybWF0U2V0KGlucHV0KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oaW5wdXQpXG4gICAgICAgIC5tYXAoKGkpID0+IGBcIiR7aX1cImApXG4gICAgICAgIC5qb2luKFwiLCBcIik7XG59XG4vKipcbiAqIENoYWluIHdoZXJlIHRoZSBvdXRwdXRzIG9mIG9uZSBjaGFpbiBmZWVkIGRpcmVjdGx5IGludG8gbmV4dC5cbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjb25zdCBwcm9tcHRUZW1wbGF0ZSA9IG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gKiAgIHRlbXBsYXRlOiBgWW91IGFyZSBhIHBsYXl3cmlnaHQuIEdpdmVuIHRoZSB0aXRsZSBvZiBwbGF5IGFuZCB0aGUgZXJhIGl0IGlzIHNldCBpbiwgaXQgaXMgeW91ciBqb2IgdG8gd3JpdGUgYSBzeW5vcHNpcyBmb3IgdGhhdCB0aXRsZS5cbiAqIFRpdGxlOiB7dGl0bGV9XG4gKiBFcmE6IHtlcmF9XG4gKiBQbGF5d3JpZ2h0OiBUaGlzIGlzIGEgc3lub3BzaXMgZm9yIHRoZSBhYm92ZSBwbGF5OmAsXG4gKiAgIGlucHV0VmFyaWFibGVzOiBbXCJ0aXRsZVwiLCBcImVyYVwiXSxcbiAqIH0pO1xuXG4gKiBjb25zdCByZXZpZXdQcm9tcHRUZW1wbGF0ZSA9IG5ldyBQcm9tcHRUZW1wbGF0ZSh7XG4gKiAgIHRlbXBsYXRlOiBgWW91IGFyZSBhIHBsYXkgY3JpdGljIGZyb20gdGhlIE5ldyBZb3JrIFRpbWVzLiBHaXZlbiB0aGUgc3lub3BzaXMgb2YgcGxheSwgaXQgaXMgeW91ciBqb2IgdG8gd3JpdGUgYSByZXZpZXcgZm9yIHRoYXQgcGxheS5cbiAqXG4gKiAgICAgUGxheSBTeW5vcHNpczpcbiAqICAgICB7c3lub3BzaXN9XG4gKiAgICAgUmV2aWV3IGZyb20gYSBOZXcgWW9yayBUaW1lcyBwbGF5IGNyaXRpYyBvZiB0aGUgYWJvdmUgcGxheTpgLFxuICogICBpbnB1dFZhcmlhYmxlczogW1wic3lub3BzaXNcIl0sXG4gKiB9KTtcblxuICogY29uc3Qgb3ZlcmFsbENoYWluID0gbmV3IFNlcXVlbnRpYWxDaGFpbih7XG4gKiAgIGNoYWluczogW1xuICogICAgIG5ldyBMTE1DaGFpbih7XG4gKiAgICAgICBsbG06IG5ldyBDaGF0T3BlbkFJKHsgdGVtcGVyYXR1cmU6IDAgfSksXG4gKiAgICAgICBwcm9tcHQ6IHByb21wdFRlbXBsYXRlLFxuICogICAgICAgb3V0cHV0S2V5OiBcInN5bm9wc2lzXCIsXG4gKiAgICAgfSksXG4gKiAgICAgbmV3IExMTUNoYWluKHtcbiAqICAgICAgIGxsbTogbmV3IE9wZW5BSSh7IHRlbXBlcmF0dXJlOiAwIH0pLFxuICogICAgICAgcHJvbXB0OiByZXZpZXdQcm9tcHRUZW1wbGF0ZSxcbiAqICAgICAgIG91dHB1dEtleTogXCJyZXZpZXdcIixcbiAqICAgICB9KSxcbiAqICAgXSxcbiAqICAgaW5wdXRWYXJpYWJsZXM6IFtcImVyYVwiLCBcInRpdGxlXCJdLFxuICogICBvdXRwdXRWYXJpYWJsZXM6IFtcInN5bm9wc2lzXCIsIFwicmV2aWV3XCJdLFxuICogICB2ZXJib3NlOiB0cnVlLFxuICogfSk7XG5cbiAqIGNvbnN0IGNoYWluRXhlY3V0aW9uUmVzdWx0ID0gYXdhaXQgb3ZlcmFsbENoYWluLmNhbGwoe1xuICogICB0aXRsZTogXCJUcmFnZWR5IGF0IHN1bnNldCBvbiB0aGUgYmVhY2hcIixcbiAqICAgZXJhOiBcIlZpY3RvcmlhbiBFbmdsYW5kXCIsXG4gKiB9KTtcbiAqIGNvbnNvbGUubG9nKGNoYWluRXhlY3V0aW9uUmVzdWx0KTtcbiAqIGBgYFxuICpcbiAqIEBkZXByZWNhdGVkXG4gKiBTd2l0Y2ggdG8ge0BsaW5rIGh0dHBzOi8vanMubGFuZ2NoYWluLmNvbS9kb2NzL2V4cHJlc3Npb25fbGFuZ3VhZ2UvIHwgZXhwcmVzc2lvbiBsYW5ndWFnZX0uXG4gKiBXaWxsIGJlIHJlbW92ZWQgaW4gMC4yLjBcbiAqL1xuZXhwb3J0IGNsYXNzIFNlcXVlbnRpYWxDaGFpbiBleHRlbmRzIEJhc2VDaGFpbiB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIlNlcXVlbnRpYWxDaGFpblwiO1xuICAgIH1cbiAgICBnZXQgaW5wdXRLZXlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnB1dFZhcmlhYmxlcztcbiAgICB9XG4gICAgZ2V0IG91dHB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91dHB1dFZhcmlhYmxlcztcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNoYWluc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnB1dFZhcmlhYmxlc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvdXRwdXRWYXJpYWJsZXNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmV0dXJuQWxsXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2hhaW5zID0gZmllbGRzLmNoYWlucztcbiAgICAgICAgdGhpcy5pbnB1dFZhcmlhYmxlcyA9IGZpZWxkcy5pbnB1dFZhcmlhYmxlcztcbiAgICAgICAgdGhpcy5vdXRwdXRWYXJpYWJsZXMgPSBmaWVsZHMub3V0cHV0VmFyaWFibGVzID8/IFtdO1xuICAgICAgICBpZiAodGhpcy5vdXRwdXRWYXJpYWJsZXMubGVuZ3RoID4gMCAmJiBmaWVsZHMucmV0dXJuQWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFaXRoZXIgc3BlY2lmeSB2YXJpYWJsZXMgdG8gcmV0dXJuIHVzaW5nIGBvdXRwdXRWYXJpYWJsZXNgIG9yIHVzZSBgcmV0dXJuQWxsYCBwYXJhbS4gQ2Fubm90IGFwcGx5IGJvdGggY29uZGl0aW9ucyBhdCB0aGUgc2FtZSB0aW1lLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJldHVybkFsbCA9IGZpZWxkcy5yZXR1cm5BbGwgPz8gZmFsc2U7XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRlQ2hhaW5zKCk7XG4gICAgfVxuICAgIC8qKiBAaWdub3JlICovXG4gICAgX3ZhbGlkYXRlQ2hhaW5zKCkge1xuICAgICAgICBpZiAodGhpcy5jaGFpbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXF1ZW50aWFsIGNoYWluIG11c3QgaGF2ZSBhdCBsZWFzdCBvbmUgY2hhaW4uXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lbW9yeUtleXMgPSB0aGlzLm1lbW9yeT8ubWVtb3J5S2V5cyA/PyBbXTtcbiAgICAgICAgY29uc3QgaW5wdXRLZXlzU2V0ID0gbmV3IFNldCh0aGlzLmlucHV0S2V5cyk7XG4gICAgICAgIGNvbnN0IG1lbW9yeUtleXNTZXQgPSBuZXcgU2V0KG1lbW9yeUtleXMpO1xuICAgICAgICBjb25zdCBrZXlzSW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uKGlucHV0S2V5c1NldCwgbWVtb3J5S2V5c1NldCk7XG4gICAgICAgIGlmIChrZXlzSW50ZXJzZWN0aW9uLnNpemUgPiAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBmb2xsb3dpbmcga2V5czogJHtmb3JtYXRTZXQoa2V5c0ludGVyc2VjdGlvbil9IGFyZSBvdmVybGFwcGluZyBiZXR3ZWVuIG1lbW9yeSBhbmQgaW5wdXQga2V5cyBvZiB0aGUgY2hhaW4gdmFyaWFibGVzLiBUaGlzIGNhbiBsZWFkIHRvIHVuZXhwZWN0ZWQgYmVoYXZpb3VyLiBQbGVhc2UgdXNlIGlucHV0IGFuZCBtZW1vcnkga2V5cyB0aGF0IGRvbid0IG92ZXJsYXAuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXZhaWxhYmxlS2V5cyA9IHVuaW9uKGlucHV0S2V5c1NldCwgbWVtb3J5S2V5c1NldCk7XG4gICAgICAgIGZvciAoY29uc3QgY2hhaW4gb2YgdGhpcy5jaGFpbnMpIHtcbiAgICAgICAgICAgIGxldCBtaXNzaW5nS2V5cyA9IGRpZmZlcmVuY2UobmV3IFNldChjaGFpbi5pbnB1dEtleXMpLCBhdmFpbGFibGVLZXlzKTtcbiAgICAgICAgICAgIGlmIChjaGFpbi5tZW1vcnkpIHtcbiAgICAgICAgICAgICAgICBtaXNzaW5nS2V5cyA9IGRpZmZlcmVuY2UobWlzc2luZ0tleXMsIG5ldyBTZXQoY2hhaW4ubWVtb3J5Lm1lbW9yeUtleXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtaXNzaW5nS2V5cy5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyB2YXJpYWJsZXMgZm9yIGNoYWluIFwiJHtjaGFpbi5fY2hhaW5UeXBlKCl9XCI6ICR7Zm9ybWF0U2V0KG1pc3NpbmdLZXlzKX0uIE9ubHkgZ290IHRoZSBmb2xsb3dpbmcgdmFyaWFibGVzOiAke2Zvcm1hdFNldChhdmFpbGFibGVLZXlzKX0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvdXRwdXRLZXlzU2V0ID0gbmV3IFNldChjaGFpbi5vdXRwdXRLZXlzKTtcbiAgICAgICAgICAgIGNvbnN0IG92ZXJsYXBwaW5nT3V0cHV0S2V5cyA9IGludGVyc2VjdGlvbihhdmFpbGFibGVLZXlzLCBvdXRwdXRLZXlzU2V0KTtcbiAgICAgICAgICAgIGlmIChvdmVybGFwcGluZ091dHB1dEtleXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBmb2xsb3dpbmcgb3V0cHV0IHZhcmlhYmxlcyBmb3IgY2hhaW4gXCIke2NoYWluLl9jaGFpblR5cGUoKX1cIiBhcmUgb3ZlcmxhcHBpbmc6ICR7Zm9ybWF0U2V0KG92ZXJsYXBwaW5nT3V0cHV0S2V5cyl9LiBUaGlzIGNhbiBsZWFkIHRvIHVuZXhwZWN0ZWQgYmVoYXZpb3VyLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBvdXRwdXRLZXkgb2Ygb3V0cHV0S2V5c1NldCkge1xuICAgICAgICAgICAgICAgIGF2YWlsYWJsZUtleXMuYWRkKG91dHB1dEtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3V0cHV0VmFyaWFibGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmV0dXJuQWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0S2V5cyA9IGRpZmZlcmVuY2UoYXZhaWxhYmxlS2V5cywgaW5wdXRLZXlzU2V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFZhcmlhYmxlcyA9IEFycmF5LmZyb20ob3V0cHV0S2V5cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFZhcmlhYmxlcyA9IHRoaXMuY2hhaW5zW3RoaXMuY2hhaW5zLmxlbmd0aCAtIDFdLm91dHB1dEtleXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBtaXNzaW5nS2V5cyA9IGRpZmZlcmVuY2UobmV3IFNldCh0aGlzLm91dHB1dFZhcmlhYmxlcyksIG5ldyBTZXQoYXZhaWxhYmxlS2V5cykpO1xuICAgICAgICAgICAgaWYgKG1pc3NpbmdLZXlzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgZm9sbG93aW5nIG91dHB1dCB2YXJpYWJsZXMgd2VyZSBleHBlY3RlZCB0byBiZSBpbiB0aGUgZmluYWwgY2hhaW4gb3V0cHV0IGJ1dCB3ZXJlIG5vdCBmb3VuZDogJHtmb3JtYXRTZXQobWlzc2luZ0tleXMpfS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9jYWxsKHZhbHVlcywgcnVuTWFuYWdlcikge1xuICAgICAgICBsZXQgaW5wdXQgPSB7fTtcbiAgICAgICAgY29uc3QgYWxsQ2hhaW5WYWx1ZXMgPSB2YWx1ZXM7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBjaGFpbiBvZiB0aGlzLmNoYWlucykge1xuICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgaW5wdXQgPSBhd2FpdCBjaGFpbi5jYWxsKGFsbENoYWluVmFsdWVzLCBydW5NYW5hZ2VyPy5nZXRDaGlsZChgc3RlcF8ke2l9YCkpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgYWxsQ2hhaW5WYWx1ZXNba2V5XSA9IGlucHV0W2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3V0cHV0ID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHRoaXMub3V0cHV0VmFyaWFibGVzKSB7XG4gICAgICAgICAgICBvdXRwdXRba2V5XSA9IGFsbENoYWluVmFsdWVzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG4gICAgX2NoYWluVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwic2VxdWVudGlhbF9jaGFpblwiO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgZGVzZXJpYWxpemUoZGF0YSkge1xuICAgICAgICBjb25zdCBjaGFpbnMgPSBbXTtcbiAgICAgICAgY29uc3QgaW5wdXRWYXJpYWJsZXMgPSBkYXRhLmlucHV0X3ZhcmlhYmxlcztcbiAgICAgICAgY29uc3Qgb3V0cHV0VmFyaWFibGVzID0gZGF0YS5vdXRwdXRfdmFyaWFibGVzO1xuICAgICAgICBjb25zdCBzZXJpYWxpemVkQ2hhaW5zID0gZGF0YS5jaGFpbnM7XG4gICAgICAgIGZvciAoY29uc3Qgc2VyaWFsaXplZENoYWluIG9mIHNlcmlhbGl6ZWRDaGFpbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2VyaWFsaXplZENoYWluID0gYXdhaXQgQmFzZUNoYWluLmRlc2VyaWFsaXplKHNlcmlhbGl6ZWRDaGFpbik7XG4gICAgICAgICAgICBjaGFpbnMucHVzaChkZXNlcmlhbGl6ZWRDaGFpbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTZXF1ZW50aWFsQ2hhaW4oeyBjaGFpbnMsIGlucHV0VmFyaWFibGVzLCBvdXRwdXRWYXJpYWJsZXMgfSk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgY29uc3QgY2hhaW5zID0gW107XG4gICAgICAgIGZvciAoY29uc3QgY2hhaW4gb2YgdGhpcy5jaGFpbnMpIHtcbiAgICAgICAgICAgIGNoYWlucy5wdXNoKGNoYWluLnNlcmlhbGl6ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX3R5cGU6IHRoaXMuX2NoYWluVHlwZSgpLFxuICAgICAgICAgICAgaW5wdXRfdmFyaWFibGVzOiB0aGlzLmlucHV0VmFyaWFibGVzLFxuICAgICAgICAgICAgb3V0cHV0X3ZhcmlhYmxlczogdGhpcy5vdXRwdXRWYXJpYWJsZXMsXG4gICAgICAgICAgICBjaGFpbnMsXG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG4gKiBAZGVwcmVjYXRlZCBTd2l0Y2ggdG8gZXhwcmVzc2lvbiBsYW5ndWFnZTogaHR0cHM6Ly9qcy5sYW5nY2hhaW4uY29tL2RvY3MvZXhwcmVzc2lvbl9sYW5ndWFnZS9cbiAqIFNpbXBsZSBjaGFpbiB3aGVyZSBhIHNpbmdsZSBzdHJpbmcgb3V0cHV0IG9mIG9uZSBjaGFpbiBpcyBmZWQgZGlyZWN0bHkgaW50byB0aGUgbmV4dC5cbiAqIEBhdWdtZW50cyBCYXNlQ2hhaW5cbiAqIEBhdWdtZW50cyBTaW1wbGVTZXF1ZW50aWFsQ2hhaW5JbnB1dFxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgU2ltcGxlU2VxdWVudGlhbENoYWluLCBMTE1DaGFpbiB9IGZyb20gXCJsYW5nY2hhaW4vY2hhaW5zXCI7XG4gKiBpbXBvcnQgeyBPcGVuQUkgfSBmcm9tIFwibGFuZ2NoYWluL2xsbXMvb3BlbmFpXCI7XG4gKiBpbXBvcnQgeyBQcm9tcHRUZW1wbGF0ZSB9IGZyb20gXCJsYW5nY2hhaW4vcHJvbXB0c1wiO1xuICpcbiAqIC8vIFRoaXMgaXMgYW4gTExNQ2hhaW4gdG8gd3JpdGUgYSBzeW5vcHNpcyBnaXZlbiBhIHRpdGxlIG9mIGEgcGxheS5cbiAqIGNvbnN0IGxsbSA9IG5ldyBPcGVuQUkoeyB0ZW1wZXJhdHVyZTogMCB9KTtcbiAqIGNvbnN0IHRlbXBsYXRlID0gYFlvdSBhcmUgYSBwbGF5d3JpZ2h0LiBHaXZlbiB0aGUgdGl0bGUgb2YgcGxheSwgaXQgaXMgeW91ciBqb2IgdG8gd3JpdGUgYSBzeW5vcHNpcyBmb3IgdGhhdCB0aXRsZS5cbiAqXG4gKiBUaXRsZToge3RpdGxlfVxuICogUGxheXdyaWdodDogVGhpcyBpcyBhIHN5bm9wc2lzIGZvciB0aGUgYWJvdmUgcGxheTpgXG4gKiBjb25zdCBwcm9tcHRUZW1wbGF0ZSA9IG5ldyBQcm9tcHRUZW1wbGF0ZSh7IHRlbXBsYXRlLCBpbnB1dFZhcmlhYmxlczogW1widGl0bGVcIl0gfSk7XG4gKiBjb25zdCBzeW5vcHNpc0NoYWluID0gbmV3IExMTUNoYWluKHsgbGxtLCBwcm9tcHQ6IHByb21wdFRlbXBsYXRlIH0pO1xuICpcbiAqXG4gKiAvLyBUaGlzIGlzIGFuIExMTUNoYWluIHRvIHdyaXRlIGEgcmV2aWV3IG9mIGEgcGxheSBnaXZlbiBhIHN5bm9wc2lzLlxuICogY29uc3QgcmV2aWV3TExNID0gbmV3IE9wZW5BSSh7IHRlbXBlcmF0dXJlOiAwIH0pXG4gKiBjb25zdCByZXZpZXdUZW1wbGF0ZSA9IGBZb3UgYXJlIGEgcGxheSBjcml0aWMgZnJvbSB0aGUgTmV3IFlvcmsgVGltZXMuIEdpdmVuIHRoZSBzeW5vcHNpcyBvZiBwbGF5LCBpdCBpcyB5b3VyIGpvYiB0byB3cml0ZSBhIHJldmlldyBmb3IgdGhhdCBwbGF5LlxuICpcbiAqIFBsYXkgU3lub3BzaXM6XG4gKiB7c3lub3BzaXN9XG4gKiBSZXZpZXcgZnJvbSBhIE5ldyBZb3JrIFRpbWVzIHBsYXkgY3JpdGljIG9mIHRoZSBhYm92ZSBwbGF5OmBcbiAqIGNvbnN0IHJldmlld1Byb21wdFRlbXBsYXRlID0gbmV3IFByb21wdFRlbXBsYXRlKHsgdGVtcGxhdGU6IHJldmlld1RlbXBsYXRlLCBpbnB1dFZhcmlhYmxlczogW1wic3lub3BzaXNcIl0gfSk7XG4gKiBjb25zdCByZXZpZXdDaGFpbiA9IG5ldyBMTE1DaGFpbih7IGxsbTogcmV2aWV3TExNLCBwcm9tcHQ6IHJldmlld1Byb21wdFRlbXBsYXRlIH0pO1xuICpcbiAqIGNvbnN0IG92ZXJhbGxDaGFpbiA9IG5ldyBTaW1wbGVTZXF1ZW50aWFsQ2hhaW4oe2NoYWluczogW3N5bm9wc2lzQ2hhaW4sIHJldmlld0NoYWluXSwgdmVyYm9zZTp0cnVlfSlcbiAqIGNvbnN0IHJldmlldyA9IGF3YWl0IG92ZXJhbGxDaGFpbi5ydW4oXCJUcmFnZWR5IGF0IHN1bnNldCBvbiB0aGUgYmVhY2hcIilcbiAqIC8vIHRoZSB2YXJpYWJsZSByZXZpZXcgY29udGFpbnMgcmVzdWx0aW5nIHBsYXkgcmV2aWV3LlxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBTaW1wbGVTZXF1ZW50aWFsQ2hhaW4gZXh0ZW5kcyBCYXNlQ2hhaW4ge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJTaW1wbGVTZXF1ZW50aWFsQ2hhaW5cIjtcbiAgICB9XG4gICAgZ2V0IGlucHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmlucHV0S2V5XTtcbiAgICB9XG4gICAgZ2V0IG91dHB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5vdXRwdXRLZXldO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2hhaW5zXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlucHV0S2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcImlucHV0XCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm91dHB1dEtleVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJvdXRwdXRcIlxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidHJpbU91dHB1dHNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jaGFpbnMgPSBmaWVsZHMuY2hhaW5zO1xuICAgICAgICB0aGlzLnRyaW1PdXRwdXRzID0gZmllbGRzLnRyaW1PdXRwdXRzID8/IGZhbHNlO1xuICAgICAgICB0aGlzLl92YWxpZGF0ZUNoYWlucygpO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIF92YWxpZGF0ZUNoYWlucygpIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGFpbiBvZiB0aGlzLmNoYWlucykge1xuICAgICAgICAgICAgaWYgKGNoYWluLmlucHV0S2V5cy5maWx0ZXIoKGspID0+ICFjaGFpbi5tZW1vcnk/Lm1lbW9yeUtleXMuaW5jbHVkZXMoaykgPz8gdHJ1ZSkubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFpbnMgdXNlZCBpbiBTaW1wbGVTZXF1ZW50aWFsQ2hhaW4gc2hvdWxkIGFsbCBoYXZlIG9uZSBpbnB1dCwgZ290ICR7Y2hhaW4uaW5wdXRLZXlzLmxlbmd0aH0gZm9yICR7Y2hhaW4uX2NoYWluVHlwZSgpfS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGFpbi5vdXRwdXRLZXlzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhaW5zIHVzZWQgaW4gU2ltcGxlU2VxdWVudGlhbENoYWluIHNob3VsZCBhbGwgaGF2ZSBvbmUgb3V0cHV0LCBnb3QgJHtjaGFpbi5vdXRwdXRLZXlzLmxlbmd0aH0gZm9yICR7Y2hhaW4uX2NoYWluVHlwZSgpfS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9jYWxsKHZhbHVlcywgcnVuTWFuYWdlcikge1xuICAgICAgICBsZXQgaW5wdXQgPSB2YWx1ZXNbdGhpcy5pbnB1dEtleV07XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBjaGFpbiBvZiB0aGlzLmNoYWlucykge1xuICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgaW5wdXQgPSAoYXdhaXQgY2hhaW4uY2FsbCh7IFtjaGFpbi5pbnB1dEtleXNbMF1dOiBpbnB1dCwgc2lnbmFsOiB2YWx1ZXMuc2lnbmFsIH0sIHJ1bk1hbmFnZXI/LmdldENoaWxkKGBzdGVwXyR7aX1gKSkpW2NoYWluLm91dHB1dEtleXNbMF1dO1xuICAgICAgICAgICAgaWYgKHRoaXMudHJpbU91dHB1dHMpIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IGlucHV0LnRyaW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHJ1bk1hbmFnZXI/LmhhbmRsZVRleHQoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IFt0aGlzLm91dHB1dEtleV06IGlucHV0IH07XG4gICAgfVxuICAgIF9jaGFpblR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcInNpbXBsZV9zZXF1ZW50aWFsX2NoYWluXCI7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IGNoYWlucyA9IFtdO1xuICAgICAgICBjb25zdCBzZXJpYWxpemVkQ2hhaW5zID0gZGF0YS5jaGFpbnM7XG4gICAgICAgIGZvciAoY29uc3Qgc2VyaWFsaXplZENoYWluIG9mIHNlcmlhbGl6ZWRDaGFpbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2VyaWFsaXplZENoYWluID0gYXdhaXQgQmFzZUNoYWluLmRlc2VyaWFsaXplKHNlcmlhbGl6ZWRDaGFpbik7XG4gICAgICAgICAgICBjaGFpbnMucHVzaChkZXNlcmlhbGl6ZWRDaGFpbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTZXF1ZW50aWFsQ2hhaW4oeyBjaGFpbnMgfSk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgY29uc3QgY2hhaW5zID0gW107XG4gICAgICAgIGZvciAoY29uc3QgY2hhaW4gb2YgdGhpcy5jaGFpbnMpIHtcbiAgICAgICAgICAgIGNoYWlucy5wdXNoKGNoYWluLnNlcmlhbGl6ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX3R5cGU6IHRoaXMuX2NoYWluVHlwZSgpLFxuICAgICAgICAgICAgY2hhaW5zLFxuICAgICAgICB9O1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/sequential_chain.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/chains/vector_db_qa.js":
/*!************************************************************!*\
  !*** ./node_modules/langchain/dist/chains/vector_db_qa.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VectorDBQAChain: () => (/* binding */ VectorDBQAChain)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"(rsc)/./node_modules/langchain/dist/chains/base.js\");\n/* harmony import */ var _question_answering_load_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./question_answering/load.js */ \"(rsc)/./node_modules/langchain/dist/chains/question_answering/load.js\");\n\n\n/**\n * Class that represents a VectorDBQAChain. It extends the `BaseChain`\n * class and implements the `VectorDBQAChainInput` interface. It performs\n * a similarity search using a vector store and combines the search\n * results using a specified combine documents chain.\n *\n * @deprecated\n * Switch to {@link https://js.langchain.com/docs/modules/chains/ | createRetrievalChain}\n * Will be removed in 0.2.0\n */\nclass VectorDBQAChain extends _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseChain {\n    static lc_name() {\n        return \"VectorDBQAChain\";\n    }\n    get inputKeys() {\n        return [this.inputKey];\n    }\n    get outputKeys() {\n        return this.combineDocumentsChain.outputKeys.concat(this.returnSourceDocuments ? [\"sourceDocuments\"] : []);\n    }\n    constructor(fields) {\n        super(fields);\n        Object.defineProperty(this, \"k\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 4\n        });\n        Object.defineProperty(this, \"inputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"query\"\n        });\n        Object.defineProperty(this, \"vectorstore\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"combineDocumentsChain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"returnSourceDocuments\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: false\n        });\n        this.vectorstore = fields.vectorstore;\n        this.combineDocumentsChain = fields.combineDocumentsChain;\n        this.inputKey = fields.inputKey ?? this.inputKey;\n        this.k = fields.k ?? this.k;\n        this.returnSourceDocuments =\n            fields.returnSourceDocuments ?? this.returnSourceDocuments;\n    }\n    /** @ignore */\n    async _call(values, runManager) {\n        if (!(this.inputKey in values)) {\n            throw new Error(`Question key ${this.inputKey} not found.`);\n        }\n        const question = values[this.inputKey];\n        const docs = await this.vectorstore.similaritySearch(question, this.k, values.filter, runManager?.getChild(\"vectorstore\"));\n        const inputs = { question, input_documents: docs };\n        const result = await this.combineDocumentsChain.call(inputs, runManager?.getChild(\"combine_documents\"));\n        if (this.returnSourceDocuments) {\n            return {\n                ...result,\n                sourceDocuments: docs,\n            };\n        }\n        return result;\n    }\n    _chainType() {\n        return \"vector_db_qa\";\n    }\n    static async deserialize(data, values) {\n        if (!(\"vectorstore\" in values)) {\n            throw new Error(`Need to pass in a vectorstore to deserialize VectorDBQAChain`);\n        }\n        const { vectorstore } = values;\n        if (!data.combine_documents_chain) {\n            throw new Error(`VectorDBQAChain must have combine_documents_chain in serialized data`);\n        }\n        return new VectorDBQAChain({\n            combineDocumentsChain: await _base_js__WEBPACK_IMPORTED_MODULE_0__.BaseChain.deserialize(data.combine_documents_chain),\n            k: data.k,\n            vectorstore,\n        });\n    }\n    serialize() {\n        return {\n            _type: this._chainType(),\n            combine_documents_chain: this.combineDocumentsChain.serialize(),\n            k: this.k,\n        };\n    }\n    /**\n     * Static method that creates a VectorDBQAChain instance from a\n     * BaseLanguageModel and a vector store. It also accepts optional options\n     * to customize the chain.\n     * @param llm The BaseLanguageModel instance.\n     * @param vectorstore The vector store used for similarity search.\n     * @param options Optional options to customize the chain.\n     * @returns A new instance of VectorDBQAChain.\n     */\n    static fromLLM(llm, vectorstore, options) {\n        const qaChain = (0,_question_answering_load_js__WEBPACK_IMPORTED_MODULE_1__.loadQAStuffChain)(llm);\n        return new this({\n            vectorstore,\n            combineDocumentsChain: qaChain,\n            ...options,\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3ZlY3Rvcl9kYl9xYS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0M7QUFDMEI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNPLDhCQUE4QiwrQ0FBUztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLGVBQWU7QUFDM0Q7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsK0NBQVM7QUFDbEQ7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNkVBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWFpLXByZXAvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvY2hhaW5zL3ZlY3Rvcl9kYl9xYS5qcz83ODc3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VDaGFpbiB9IGZyb20gXCIuL2Jhc2UuanNcIjtcbmltcG9ydCB7IGxvYWRRQVN0dWZmQ2hhaW4gfSBmcm9tIFwiLi9xdWVzdGlvbl9hbnN3ZXJpbmcvbG9hZC5qc1wiO1xuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBWZWN0b3JEQlFBQ2hhaW4uIEl0IGV4dGVuZHMgdGhlIGBCYXNlQ2hhaW5gXG4gKiBjbGFzcyBhbmQgaW1wbGVtZW50cyB0aGUgYFZlY3RvckRCUUFDaGFpbklucHV0YCBpbnRlcmZhY2UuIEl0IHBlcmZvcm1zXG4gKiBhIHNpbWlsYXJpdHkgc2VhcmNoIHVzaW5nIGEgdmVjdG9yIHN0b3JlIGFuZCBjb21iaW5lcyB0aGUgc2VhcmNoXG4gKiByZXN1bHRzIHVzaW5nIGEgc3BlY2lmaWVkIGNvbWJpbmUgZG9jdW1lbnRzIGNoYWluLlxuICpcbiAqIEBkZXByZWNhdGVkXG4gKiBTd2l0Y2ggdG8ge0BsaW5rIGh0dHBzOi8vanMubGFuZ2NoYWluLmNvbS9kb2NzL21vZHVsZXMvY2hhaW5zLyB8IGNyZWF0ZVJldHJpZXZhbENoYWlufVxuICogV2lsbCBiZSByZW1vdmVkIGluIDAuMi4wXG4gKi9cbmV4cG9ydCBjbGFzcyBWZWN0b3JEQlFBQ2hhaW4gZXh0ZW5kcyBCYXNlQ2hhaW4ge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJWZWN0b3JEQlFBQ2hhaW5cIjtcbiAgICB9XG4gICAgZ2V0IGlucHV0S2V5cygpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmlucHV0S2V5XTtcbiAgICB9XG4gICAgZ2V0IG91dHB1dEtleXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbWJpbmVEb2N1bWVudHNDaGFpbi5vdXRwdXRLZXlzLmNvbmNhdCh0aGlzLnJldHVyblNvdXJjZURvY3VtZW50cyA/IFtcInNvdXJjZURvY3VtZW50c1wiXSA6IFtdKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkcyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImtcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IDRcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlucHV0S2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcInF1ZXJ5XCJcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZlY3RvcnN0b3JlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbWJpbmVEb2N1bWVudHNDaGFpblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXR1cm5Tb3VyY2VEb2N1bWVudHNcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZlY3RvcnN0b3JlID0gZmllbGRzLnZlY3RvcnN0b3JlO1xuICAgICAgICB0aGlzLmNvbWJpbmVEb2N1bWVudHNDaGFpbiA9IGZpZWxkcy5jb21iaW5lRG9jdW1lbnRzQ2hhaW47XG4gICAgICAgIHRoaXMuaW5wdXRLZXkgPSBmaWVsZHMuaW5wdXRLZXkgPz8gdGhpcy5pbnB1dEtleTtcbiAgICAgICAgdGhpcy5rID0gZmllbGRzLmsgPz8gdGhpcy5rO1xuICAgICAgICB0aGlzLnJldHVyblNvdXJjZURvY3VtZW50cyA9XG4gICAgICAgICAgICBmaWVsZHMucmV0dXJuU291cmNlRG9jdW1lbnRzID8/IHRoaXMucmV0dXJuU291cmNlRG9jdW1lbnRzO1xuICAgIH1cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIGFzeW5jIF9jYWxsKHZhbHVlcywgcnVuTWFuYWdlcikge1xuICAgICAgICBpZiAoISh0aGlzLmlucHV0S2V5IGluIHZhbHVlcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUXVlc3Rpb24ga2V5ICR7dGhpcy5pbnB1dEtleX0gbm90IGZvdW5kLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHF1ZXN0aW9uID0gdmFsdWVzW3RoaXMuaW5wdXRLZXldO1xuICAgICAgICBjb25zdCBkb2NzID0gYXdhaXQgdGhpcy52ZWN0b3JzdG9yZS5zaW1pbGFyaXR5U2VhcmNoKHF1ZXN0aW9uLCB0aGlzLmssIHZhbHVlcy5maWx0ZXIsIHJ1bk1hbmFnZXI/LmdldENoaWxkKFwidmVjdG9yc3RvcmVcIikpO1xuICAgICAgICBjb25zdCBpbnB1dHMgPSB7IHF1ZXN0aW9uLCBpbnB1dF9kb2N1bWVudHM6IGRvY3MgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jb21iaW5lRG9jdW1lbnRzQ2hhaW4uY2FsbChpbnB1dHMsIHJ1bk1hbmFnZXI/LmdldENoaWxkKFwiY29tYmluZV9kb2N1bWVudHNcIikpO1xuICAgICAgICBpZiAodGhpcy5yZXR1cm5Tb3VyY2VEb2N1bWVudHMpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICAgICAgICAgIHNvdXJjZURvY3VtZW50czogZG9jcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgX2NoYWluVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwidmVjdG9yX2RiX3FhXCI7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBkZXNlcmlhbGl6ZShkYXRhLCB2YWx1ZXMpIHtcbiAgICAgICAgaWYgKCEoXCJ2ZWN0b3JzdG9yZVwiIGluIHZhbHVlcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTmVlZCB0byBwYXNzIGluIGEgdmVjdG9yc3RvcmUgdG8gZGVzZXJpYWxpemUgVmVjdG9yREJRQUNoYWluYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyB2ZWN0b3JzdG9yZSB9ID0gdmFsdWVzO1xuICAgICAgICBpZiAoIWRhdGEuY29tYmluZV9kb2N1bWVudHNfY2hhaW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVmVjdG9yREJRQUNoYWluIG11c3QgaGF2ZSBjb21iaW5lX2RvY3VtZW50c19jaGFpbiBpbiBzZXJpYWxpemVkIGRhdGFgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvckRCUUFDaGFpbih7XG4gICAgICAgICAgICBjb21iaW5lRG9jdW1lbnRzQ2hhaW46IGF3YWl0IEJhc2VDaGFpbi5kZXNlcmlhbGl6ZShkYXRhLmNvbWJpbmVfZG9jdW1lbnRzX2NoYWluKSxcbiAgICAgICAgICAgIGs6IGRhdGEuayxcbiAgICAgICAgICAgIHZlY3RvcnN0b3JlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgX3R5cGU6IHRoaXMuX2NoYWluVHlwZSgpLFxuICAgICAgICAgICAgY29tYmluZV9kb2N1bWVudHNfY2hhaW46IHRoaXMuY29tYmluZURvY3VtZW50c0NoYWluLnNlcmlhbGl6ZSgpLFxuICAgICAgICAgICAgazogdGhpcy5rLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGF0aWMgbWV0aG9kIHRoYXQgY3JlYXRlcyBhIFZlY3RvckRCUUFDaGFpbiBpbnN0YW5jZSBmcm9tIGFcbiAgICAgKiBCYXNlTGFuZ3VhZ2VNb2RlbCBhbmQgYSB2ZWN0b3Igc3RvcmUuIEl0IGFsc28gYWNjZXB0cyBvcHRpb25hbCBvcHRpb25zXG4gICAgICogdG8gY3VzdG9taXplIHRoZSBjaGFpbi5cbiAgICAgKiBAcGFyYW0gbGxtIFRoZSBCYXNlTGFuZ3VhZ2VNb2RlbCBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0gdmVjdG9yc3RvcmUgVGhlIHZlY3RvciBzdG9yZSB1c2VkIGZvciBzaW1pbGFyaXR5IHNlYXJjaC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbCBvcHRpb25zIHRvIGN1c3RvbWl6ZSB0aGUgY2hhaW4uXG4gICAgICogQHJldHVybnMgQSBuZXcgaW5zdGFuY2Ugb2YgVmVjdG9yREJRQUNoYWluLlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tTExNKGxsbSwgdmVjdG9yc3RvcmUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcWFDaGFpbiA9IGxvYWRRQVN0dWZmQ2hhaW4obGxtKTtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHtcbiAgICAgICAgICAgIHZlY3RvcnN0b3JlLFxuICAgICAgICAgICAgY29tYmluZURvY3VtZW50c0NoYWluOiBxYUNoYWluLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/chains/vector_db_qa.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/document_loaders/base.js":
/*!**************************************************************!*\
  !*** ./node_modules/langchain/dist/document_loaders/base.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseDocumentLoader: () => (/* binding */ BaseDocumentLoader)\n/* harmony export */ });\n/* harmony import */ var _text_splitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../text_splitter.js */ \"(rsc)/./node_modules/langchain/dist/text_splitter.js\");\n\n/**\n * Abstract class that provides a default implementation for the\n * loadAndSplit() method from the DocumentLoader interface. The load()\n * method is left abstract and needs to be implemented by subclasses.\n */\nclass BaseDocumentLoader {\n    /**\n     * Loads the documents and splits them using a specified text splitter.\n     * @param textSplitter The TextSplitter instance to use for splitting the loaded documents. Defaults to a RecursiveCharacterTextSplitter instance.\n     * @returns A Promise that resolves with an array of Document instances, each split according to the provided TextSplitter.\n     */\n    async loadAndSplit(splitter = new _text_splitter_js__WEBPACK_IMPORTED_MODULE_0__.RecursiveCharacterTextSplitter()) {\n        const docs = await this.load();\n        return splitter.splitDocuments(docs);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvZG9jdW1lbnRfbG9hZGVycy9iYXNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXNFO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsNkVBQThCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1haS1wcmVwLy4vbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L2RvY3VtZW50X2xvYWRlcnMvYmFzZS5qcz8yYjU5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlY3Vyc2l2ZUNoYXJhY3RlclRleHRTcGxpdHRlciwgfSBmcm9tIFwiLi4vdGV4dF9zcGxpdHRlci5qc1wiO1xuLyoqXG4gKiBBYnN0cmFjdCBjbGFzcyB0aGF0IHByb3ZpZGVzIGEgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlXG4gKiBsb2FkQW5kU3BsaXQoKSBtZXRob2QgZnJvbSB0aGUgRG9jdW1lbnRMb2FkZXIgaW50ZXJmYWNlLiBUaGUgbG9hZCgpXG4gKiBtZXRob2QgaXMgbGVmdCBhYnN0cmFjdCBhbmQgbmVlZHMgdG8gYmUgaW1wbGVtZW50ZWQgYnkgc3ViY2xhc3Nlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VEb2N1bWVudExvYWRlciB7XG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhlIGRvY3VtZW50cyBhbmQgc3BsaXRzIHRoZW0gdXNpbmcgYSBzcGVjaWZpZWQgdGV4dCBzcGxpdHRlci5cbiAgICAgKiBAcGFyYW0gdGV4dFNwbGl0dGVyIFRoZSBUZXh0U3BsaXR0ZXIgaW5zdGFuY2UgdG8gdXNlIGZvciBzcGxpdHRpbmcgdGhlIGxvYWRlZCBkb2N1bWVudHMuIERlZmF1bHRzIHRvIGEgUmVjdXJzaXZlQ2hhcmFjdGVyVGV4dFNwbGl0dGVyIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYW4gYXJyYXkgb2YgRG9jdW1lbnQgaW5zdGFuY2VzLCBlYWNoIHNwbGl0IGFjY29yZGluZyB0byB0aGUgcHJvdmlkZWQgVGV4dFNwbGl0dGVyLlxuICAgICAqL1xuICAgIGFzeW5jIGxvYWRBbmRTcGxpdChzcGxpdHRlciA9IG5ldyBSZWN1cnNpdmVDaGFyYWN0ZXJUZXh0U3BsaXR0ZXIoKSkge1xuICAgICAgICBjb25zdCBkb2NzID0gYXdhaXQgdGhpcy5sb2FkKCk7XG4gICAgICAgIHJldHVybiBzcGxpdHRlci5zcGxpdERvY3VtZW50cyhkb2NzKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/document_loaders/base.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/document_loaders/fs/json.js":
/*!*****************************************************************!*\
  !*** ./node_modules/langchain/dist/document_loaders/fs/json.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JSONLinesLoader: () => (/* binding */ JSONLinesLoader),\n/* harmony export */   JSONLoader: () => (/* binding */ JSONLoader)\n/* harmony export */ });\n/* harmony import */ var jsonpointer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonpointer */ \"(rsc)/./node_modules/jsonpointer/jsonpointer.js\");\n/* harmony import */ var _text_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./text.js */ \"(rsc)/./node_modules/langchain/dist/document_loaders/fs/text.js\");\n\n\n/**\n * Class that extends the `TextLoader` class. It represents a document\n * loader that loads documents from JSON files. It has a constructor that\n * takes a `filePathOrBlob` parameter representing the path to the JSON\n * file or a `Blob` object, and an optional `pointers` parameter that\n * specifies the JSON pointers to extract.\n */\nclass JSONLoader extends _text_js__WEBPACK_IMPORTED_MODULE_1__.TextLoader {\n    constructor(filePathOrBlob, pointers = []) {\n        super(filePathOrBlob);\n        Object.defineProperty(this, \"pointers\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.pointers = Array.isArray(pointers) ? pointers : [pointers];\n    }\n    /**\n     * Method that takes a `raw` string as a parameter and returns a promise\n     * that resolves to an array of strings. It parses the raw JSON string and\n     * extracts the values based on the specified JSON pointers. If no JSON\n     * pointers are specified, it extracts all the strings from the JSON\n     * object.\n     * @param raw The raw JSON string to parse.\n     * @returns A promise that resolves to an array of strings.\n     */\n    async parse(raw) {\n        const json = JSON.parse(raw.trim());\n        // If there is no pointers specified we extract all strings we found\n        const extractAllStrings = !(this.pointers.length > 0);\n        const compiledPointers = this.pointers.map((pointer) => jsonpointer__WEBPACK_IMPORTED_MODULE_0__.compile(pointer));\n        return this.extractArrayStringsFromObject(json, compiledPointers, extractAllStrings);\n    }\n    /**\n     * If JSON pointers are specified, return all strings below any of them\n     * and exclude all other nodes expect if they match a JSON pointer (to allow to extract strings from different levels)\n     *\n     * If no JSON pointer is specified then return all string in the object\n     */\n    extractArrayStringsFromObject(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    json, pointers, extractAllStrings = false, keyHasBeenFound = false) {\n        if (!json) {\n            return [];\n        }\n        if (typeof json === \"string\" && extractAllStrings) {\n            return [json];\n        }\n        if (Array.isArray(json) && extractAllStrings) {\n            let extractedString = [];\n            for (const element of json) {\n                extractedString = extractedString.concat(this.extractArrayStringsFromObject(element, pointers, true));\n            }\n            return extractedString;\n        }\n        if (typeof json === \"object\") {\n            if (extractAllStrings) {\n                return this.extractArrayStringsFromObject(Object.values(json), pointers, true);\n            }\n            const targetedEntries = this.getTargetedEntries(json, pointers);\n            const thisLevelEntries = Object.values(json);\n            const notTargetedEntries = thisLevelEntries.filter((entry) => !targetedEntries.includes(entry));\n            let extractedStrings = [];\n            // If we found a targeted entry, we extract all strings from it\n            if (targetedEntries.length > 0) {\n                for (const oneEntry of targetedEntries) {\n                    extractedStrings = extractedStrings.concat(this.extractArrayStringsFromObject(oneEntry, pointers, true, true));\n                }\n                for (const oneEntry of notTargetedEntries) {\n                    extractedStrings = extractedStrings.concat(this.extractArrayStringsFromObject(oneEntry, pointers, false, true));\n                }\n            }\n            else if (extractAllStrings || !keyHasBeenFound) {\n                for (const oneEntry of notTargetedEntries) {\n                    extractedStrings = extractedStrings.concat(this.extractArrayStringsFromObject(oneEntry, pointers, extractAllStrings));\n                }\n            }\n            return extractedStrings;\n        }\n        return [];\n    }\n    /**\n     * Method that takes a `json` object and an array of `pointers` as\n     * parameters and returns an array of targeted entries. It iterates over\n     * the JSON pointers and uses the `jsonpointer.get()` function to get the\n     * targeted entries from the JSON object.\n     * @param json The JSON object to get targeted entries from.\n     * @param pointers The JSON pointers to get targeted entries.\n     * @returns An array of targeted entries.\n     */\n    getTargetedEntries(json, pointers) {\n        const targetEntries = [];\n        for (const pointer of pointers) {\n            const targetedEntry = pointer.get(json);\n            if (targetedEntry) {\n                targetEntries.push(targetedEntry);\n            }\n        }\n        return targetEntries;\n    }\n}\n/**\n * Class that extends the `TextLoader` class. It represents a document\n * loader that loads documents from JSON Lines files. It has a constructor\n * that takes a `filePathOrBlob` parameter representing the path to the\n * JSON Lines file or a `Blob` object, and a `pointer` parameter that\n * specifies the JSON pointer to extract.\n */\nclass JSONLinesLoader extends _text_js__WEBPACK_IMPORTED_MODULE_1__.TextLoader {\n    constructor(filePathOrBlob, pointer) {\n        super(filePathOrBlob);\n        Object.defineProperty(this, \"pointer\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: pointer\n        });\n    }\n    /**\n     * Method that takes a `raw` string as a parameter and returns a promise\n     * that resolves to an array of strings. It parses the raw JSON Lines\n     * string, splits it into lines, parses each line as JSON, and extracts\n     * the values based on the specified JSON pointer.\n     * @param raw The raw JSON Lines string to parse.\n     * @returns A promise that resolves to an array of strings.\n     */\n    async parse(raw) {\n        const lines = raw.split(\"\\n\");\n        const jsons = lines\n            .map((line) => line.trim())\n            .filter(Boolean)\n            .map((line) => JSON.parse(line));\n        const pointer = jsonpointer__WEBPACK_IMPORTED_MODULE_0__.compile(this.pointer);\n        return jsons.map((json) => pointer.get(json));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvZG9jdW1lbnRfbG9hZGVycy9mcy9qc29uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBc0M7QUFDQztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHlCQUF5QixnREFBVTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsZ0RBQW1CO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyw4QkFBOEIsZ0RBQVU7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdEQUFtQjtBQUMzQztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWFpLXByZXAvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvZG9jdW1lbnRfbG9hZGVycy9mcy9qc29uLmpzPzJjZDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGpzb25wb2ludGVyIGZyb20gXCJqc29ucG9pbnRlclwiO1xuaW1wb3J0IHsgVGV4dExvYWRlciB9IGZyb20gXCIuL3RleHQuanNcIjtcbi8qKlxuICogQ2xhc3MgdGhhdCBleHRlbmRzIHRoZSBgVGV4dExvYWRlcmAgY2xhc3MuIEl0IHJlcHJlc2VudHMgYSBkb2N1bWVudFxuICogbG9hZGVyIHRoYXQgbG9hZHMgZG9jdW1lbnRzIGZyb20gSlNPTiBmaWxlcy4gSXQgaGFzIGEgY29uc3RydWN0b3IgdGhhdFxuICogdGFrZXMgYSBgZmlsZVBhdGhPckJsb2JgIHBhcmFtZXRlciByZXByZXNlbnRpbmcgdGhlIHBhdGggdG8gdGhlIEpTT05cbiAqIGZpbGUgb3IgYSBgQmxvYmAgb2JqZWN0LCBhbmQgYW4gb3B0aW9uYWwgYHBvaW50ZXJzYCBwYXJhbWV0ZXIgdGhhdFxuICogc3BlY2lmaWVzIHRoZSBKU09OIHBvaW50ZXJzIHRvIGV4dHJhY3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBKU09OTG9hZGVyIGV4dGVuZHMgVGV4dExvYWRlciB7XG4gICAgY29uc3RydWN0b3IoZmlsZVBhdGhPckJsb2IsIHBvaW50ZXJzID0gW10pIHtcbiAgICAgICAgc3VwZXIoZmlsZVBhdGhPckJsb2IpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwb2ludGVyc1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBvaW50ZXJzID0gQXJyYXkuaXNBcnJheShwb2ludGVycykgPyBwb2ludGVycyA6IFtwb2ludGVyc107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0aGF0IHRha2VzIGEgYHJhd2Agc3RyaW5nIGFzIGEgcGFyYW1ldGVyIGFuZCByZXR1cm5zIGEgcHJvbWlzZVxuICAgICAqIHRoYXQgcmVzb2x2ZXMgdG8gYW4gYXJyYXkgb2Ygc3RyaW5ncy4gSXQgcGFyc2VzIHRoZSByYXcgSlNPTiBzdHJpbmcgYW5kXG4gICAgICogZXh0cmFjdHMgdGhlIHZhbHVlcyBiYXNlZCBvbiB0aGUgc3BlY2lmaWVkIEpTT04gcG9pbnRlcnMuIElmIG5vIEpTT05cbiAgICAgKiBwb2ludGVycyBhcmUgc3BlY2lmaWVkLCBpdCBleHRyYWN0cyBhbGwgdGhlIHN0cmluZ3MgZnJvbSB0aGUgSlNPTlxuICAgICAqIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gcmF3IFRoZSByYXcgSlNPTiBzdHJpbmcgdG8gcGFyc2UuXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAgICAgKi9cbiAgICBhc3luYyBwYXJzZShyYXcpIHtcbiAgICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UocmF3LnRyaW0oKSk7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHBvaW50ZXJzIHNwZWNpZmllZCB3ZSBleHRyYWN0IGFsbCBzdHJpbmdzIHdlIGZvdW5kXG4gICAgICAgIGNvbnN0IGV4dHJhY3RBbGxTdHJpbmdzID0gISh0aGlzLnBvaW50ZXJzLmxlbmd0aCA+IDApO1xuICAgICAgICBjb25zdCBjb21waWxlZFBvaW50ZXJzID0gdGhpcy5wb2ludGVycy5tYXAoKHBvaW50ZXIpID0+IGpzb25wb2ludGVyLmNvbXBpbGUocG9pbnRlcikpO1xuICAgICAgICByZXR1cm4gdGhpcy5leHRyYWN0QXJyYXlTdHJpbmdzRnJvbU9iamVjdChqc29uLCBjb21waWxlZFBvaW50ZXJzLCBleHRyYWN0QWxsU3RyaW5ncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIEpTT04gcG9pbnRlcnMgYXJlIHNwZWNpZmllZCwgcmV0dXJuIGFsbCBzdHJpbmdzIGJlbG93IGFueSBvZiB0aGVtXG4gICAgICogYW5kIGV4Y2x1ZGUgYWxsIG90aGVyIG5vZGVzIGV4cGVjdCBpZiB0aGV5IG1hdGNoIGEgSlNPTiBwb2ludGVyICh0byBhbGxvdyB0byBleHRyYWN0IHN0cmluZ3MgZnJvbSBkaWZmZXJlbnQgbGV2ZWxzKVxuICAgICAqXG4gICAgICogSWYgbm8gSlNPTiBwb2ludGVyIGlzIHNwZWNpZmllZCB0aGVuIHJldHVybiBhbGwgc3RyaW5nIGluIHRoZSBvYmplY3RcbiAgICAgKi9cbiAgICBleHRyYWN0QXJyYXlTdHJpbmdzRnJvbU9iamVjdChcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGpzb24sIHBvaW50ZXJzLCBleHRyYWN0QWxsU3RyaW5ncyA9IGZhbHNlLCBrZXlIYXNCZWVuRm91bmQgPSBmYWxzZSkge1xuICAgICAgICBpZiAoIWpzb24pIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGpzb24gPT09IFwic3RyaW5nXCIgJiYgZXh0cmFjdEFsbFN0cmluZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBbanNvbl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoanNvbikgJiYgZXh0cmFjdEFsbFN0cmluZ3MpIHtcbiAgICAgICAgICAgIGxldCBleHRyYWN0ZWRTdHJpbmcgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBqc29uKSB7XG4gICAgICAgICAgICAgICAgZXh0cmFjdGVkU3RyaW5nID0gZXh0cmFjdGVkU3RyaW5nLmNvbmNhdCh0aGlzLmV4dHJhY3RBcnJheVN0cmluZ3NGcm9tT2JqZWN0KGVsZW1lbnQsIHBvaW50ZXJzLCB0cnVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZXh0cmFjdGVkU3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YganNvbiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgaWYgKGV4dHJhY3RBbGxTdHJpbmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXh0cmFjdEFycmF5U3RyaW5nc0Zyb21PYmplY3QoT2JqZWN0LnZhbHVlcyhqc29uKSwgcG9pbnRlcnMsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ZWRFbnRyaWVzID0gdGhpcy5nZXRUYXJnZXRlZEVudHJpZXMoanNvbiwgcG9pbnRlcnMpO1xuICAgICAgICAgICAgY29uc3QgdGhpc0xldmVsRW50cmllcyA9IE9iamVjdC52YWx1ZXMoanNvbik7XG4gICAgICAgICAgICBjb25zdCBub3RUYXJnZXRlZEVudHJpZXMgPSB0aGlzTGV2ZWxFbnRyaWVzLmZpbHRlcigoZW50cnkpID0+ICF0YXJnZXRlZEVudHJpZXMuaW5jbHVkZXMoZW50cnkpKTtcbiAgICAgICAgICAgIGxldCBleHRyYWN0ZWRTdHJpbmdzID0gW107XG4gICAgICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhIHRhcmdldGVkIGVudHJ5LCB3ZSBleHRyYWN0IGFsbCBzdHJpbmdzIGZyb20gaXRcbiAgICAgICAgICAgIGlmICh0YXJnZXRlZEVudHJpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb25lRW50cnkgb2YgdGFyZ2V0ZWRFbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhY3RlZFN0cmluZ3MgPSBleHRyYWN0ZWRTdHJpbmdzLmNvbmNhdCh0aGlzLmV4dHJhY3RBcnJheVN0cmluZ3NGcm9tT2JqZWN0KG9uZUVudHJ5LCBwb2ludGVycywgdHJ1ZSwgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9uZUVudHJ5IG9mIG5vdFRhcmdldGVkRW50cmllcykge1xuICAgICAgICAgICAgICAgICAgICBleHRyYWN0ZWRTdHJpbmdzID0gZXh0cmFjdGVkU3RyaW5ncy5jb25jYXQodGhpcy5leHRyYWN0QXJyYXlTdHJpbmdzRnJvbU9iamVjdChvbmVFbnRyeSwgcG9pbnRlcnMsIGZhbHNlLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXh0cmFjdEFsbFN0cmluZ3MgfHwgIWtleUhhc0JlZW5Gb3VuZCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb25lRW50cnkgb2Ygbm90VGFyZ2V0ZWRFbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhY3RlZFN0cmluZ3MgPSBleHRyYWN0ZWRTdHJpbmdzLmNvbmNhdCh0aGlzLmV4dHJhY3RBcnJheVN0cmluZ3NGcm9tT2JqZWN0KG9uZUVudHJ5LCBwb2ludGVycywgZXh0cmFjdEFsbFN0cmluZ3MpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZXh0cmFjdGVkU3RyaW5ncztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0aGF0IHRha2VzIGEgYGpzb25gIG9iamVjdCBhbmQgYW4gYXJyYXkgb2YgYHBvaW50ZXJzYCBhc1xuICAgICAqIHBhcmFtZXRlcnMgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGFyZ2V0ZWQgZW50cmllcy4gSXQgaXRlcmF0ZXMgb3ZlclxuICAgICAqIHRoZSBKU09OIHBvaW50ZXJzIGFuZCB1c2VzIHRoZSBganNvbnBvaW50ZXIuZ2V0KClgIGZ1bmN0aW9uIHRvIGdldCB0aGVcbiAgICAgKiB0YXJnZXRlZCBlbnRyaWVzIGZyb20gdGhlIEpTT04gb2JqZWN0LlxuICAgICAqIEBwYXJhbSBqc29uIFRoZSBKU09OIG9iamVjdCB0byBnZXQgdGFyZ2V0ZWQgZW50cmllcyBmcm9tLlxuICAgICAqIEBwYXJhbSBwb2ludGVycyBUaGUgSlNPTiBwb2ludGVycyB0byBnZXQgdGFyZ2V0ZWQgZW50cmllcy5cbiAgICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiB0YXJnZXRlZCBlbnRyaWVzLlxuICAgICAqL1xuICAgIGdldFRhcmdldGVkRW50cmllcyhqc29uLCBwb2ludGVycykge1xuICAgICAgICBjb25zdCB0YXJnZXRFbnRyaWVzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcG9pbnRlciBvZiBwb2ludGVycykge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ZWRFbnRyeSA9IHBvaW50ZXIuZ2V0KGpzb24pO1xuICAgICAgICAgICAgaWYgKHRhcmdldGVkRW50cnkpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRFbnRyaWVzLnB1c2godGFyZ2V0ZWRFbnRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhcmdldEVudHJpZXM7XG4gICAgfVxufVxuLyoqXG4gKiBDbGFzcyB0aGF0IGV4dGVuZHMgdGhlIGBUZXh0TG9hZGVyYCBjbGFzcy4gSXQgcmVwcmVzZW50cyBhIGRvY3VtZW50XG4gKiBsb2FkZXIgdGhhdCBsb2FkcyBkb2N1bWVudHMgZnJvbSBKU09OIExpbmVzIGZpbGVzLiBJdCBoYXMgYSBjb25zdHJ1Y3RvclxuICogdGhhdCB0YWtlcyBhIGBmaWxlUGF0aE9yQmxvYmAgcGFyYW1ldGVyIHJlcHJlc2VudGluZyB0aGUgcGF0aCB0byB0aGVcbiAqIEpTT04gTGluZXMgZmlsZSBvciBhIGBCbG9iYCBvYmplY3QsIGFuZCBhIGBwb2ludGVyYCBwYXJhbWV0ZXIgdGhhdFxuICogc3BlY2lmaWVzIHRoZSBKU09OIHBvaW50ZXIgdG8gZXh0cmFjdC5cbiAqL1xuZXhwb3J0IGNsYXNzIEpTT05MaW5lc0xvYWRlciBleHRlbmRzIFRleHRMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKGZpbGVQYXRoT3JCbG9iLCBwb2ludGVyKSB7XG4gICAgICAgIHN1cGVyKGZpbGVQYXRoT3JCbG9iKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicG9pbnRlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogcG9pbnRlclxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRoYXQgdGFrZXMgYSBgcmF3YCBzdHJpbmcgYXMgYSBwYXJhbWV0ZXIgYW5kIHJldHVybnMgYSBwcm9taXNlXG4gICAgICogdGhhdCByZXNvbHZlcyB0byBhbiBhcnJheSBvZiBzdHJpbmdzLiBJdCBwYXJzZXMgdGhlIHJhdyBKU09OIExpbmVzXG4gICAgICogc3RyaW5nLCBzcGxpdHMgaXQgaW50byBsaW5lcywgcGFyc2VzIGVhY2ggbGluZSBhcyBKU09OLCBhbmQgZXh0cmFjdHNcbiAgICAgKiB0aGUgdmFsdWVzIGJhc2VkIG9uIHRoZSBzcGVjaWZpZWQgSlNPTiBwb2ludGVyLlxuICAgICAqIEBwYXJhbSByYXcgVGhlIHJhdyBKU09OIExpbmVzIHN0cmluZyB0byBwYXJzZS5cbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICAgICAqL1xuICAgIGFzeW5jIHBhcnNlKHJhdykge1xuICAgICAgICBjb25zdCBsaW5lcyA9IHJhdy5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgY29uc3QganNvbnMgPSBsaW5lc1xuICAgICAgICAgICAgLm1hcCgobGluZSkgPT4gbGluZS50cmltKCkpXG4gICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgICAgICAubWFwKChsaW5lKSA9PiBKU09OLnBhcnNlKGxpbmUpKTtcbiAgICAgICAgY29uc3QgcG9pbnRlciA9IGpzb25wb2ludGVyLmNvbXBpbGUodGhpcy5wb2ludGVyKTtcbiAgICAgICAgcmV0dXJuIGpzb25zLm1hcCgoanNvbikgPT4gcG9pbnRlci5nZXQoanNvbikpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/document_loaders/fs/json.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/document_loaders/fs/text.js":
/*!*****************************************************************!*\
  !*** ./node_modules/langchain/dist/document_loaders/fs/text.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TextLoader: () => (/* binding */ TextLoader)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_documents__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/documents */ \"(rsc)/./node_modules/@langchain/core/documents.js\");\n/* harmony import */ var _langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/utils/env */ \"(rsc)/./node_modules/@langchain/core/utils/env.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../base.js */ \"(rsc)/./node_modules/langchain/dist/document_loaders/base.js\");\n\n\n\n/**\n * A class that extends the `BaseDocumentLoader` class. It represents a\n * document loader that loads documents from a text file. The `load()`\n * method is implemented to read the text from the file or blob, parse it\n * using the `parse()` method, and create a `Document` instance for each\n * parsed page. The metadata includes the source of the text (file path or\n * blob) and, if there are multiple pages, the line number of each page.\n * @example\n * ```typescript\n * const loader = new TextLoader(\"src/document_loaders/example_data/example.txt\");\n * const docs = await loader.load();\n * ```\n */\nclass TextLoader extends _base_js__WEBPACK_IMPORTED_MODULE_2__.BaseDocumentLoader {\n    constructor(filePathOrBlob) {\n        super();\n        Object.defineProperty(this, \"filePathOrBlob\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: filePathOrBlob\n        });\n    }\n    /**\n     * A protected method that takes a `raw` string as a parameter and returns\n     * a promise that resolves to an array containing the raw text as a single\n     * element.\n     * @param raw The raw text to be parsed.\n     * @returns A promise that resolves to an array containing the raw text as a single element.\n     */\n    async parse(raw) {\n        return [raw];\n    }\n    /**\n     * A method that loads the text file or blob and returns a promise that\n     * resolves to an array of `Document` instances. It reads the text from\n     * the file or blob using the `readFile` function from the\n     * `node:fs/promises` module or the `text()` method of the blob. It then\n     * parses the text using the `parse()` method and creates a `Document`\n     * instance for each parsed page. The metadata includes the source of the\n     * text (file path or blob) and, if there are multiple pages, the line\n     * number of each page.\n     * @returns A promise that resolves to an array of `Document` instances.\n     */\n    async load() {\n        let text;\n        let metadata;\n        if (typeof this.filePathOrBlob === \"string\") {\n            const { readFile } = await TextLoader.imports();\n            text = await readFile(this.filePathOrBlob, \"utf8\");\n            metadata = { source: this.filePathOrBlob };\n        }\n        else {\n            text = await this.filePathOrBlob.text();\n            metadata = { source: \"blob\", blobType: this.filePathOrBlob.type };\n        }\n        const parsed = await this.parse(text);\n        parsed.forEach((pageContent, i) => {\n            if (typeof pageContent !== \"string\") {\n                throw new Error(`Expected string, at position ${i} got ${typeof pageContent}`);\n            }\n        });\n        return parsed.map((pageContent, i) => new _langchain_core_documents__WEBPACK_IMPORTED_MODULE_0__.Document({\n            pageContent,\n            metadata: parsed.length === 1\n                ? metadata\n                : {\n                    ...metadata,\n                    line: i + 1,\n                },\n        }));\n    }\n    /**\n     * A static method that imports the `readFile` function from the\n     * `node:fs/promises` module. It is used to dynamically import the\n     * function when needed. If the import fails, it throws an error\n     * indicating that the `fs/promises` module is not available in the\n     * current environment.\n     * @returns A promise that resolves to an object containing the `readFile` function from the `node:fs/promises` module.\n     */\n    static async imports() {\n        try {\n            const { readFile } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! node:fs/promises */ \"node:fs/promises\", 19));\n            return { readFile };\n        }\n        catch (e) {\n            console.error(e);\n            throw new Error(`Failed to load fs/promises. TextLoader available only on environment 'node'. It appears you are running environment '${(0,_langchain_core_utils_env__WEBPACK_IMPORTED_MODULE_1__.getEnv)()}'. See https://<link to docs> for alternatives.`);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvZG9jdW1lbnRfbG9hZGVycy9mcy90ZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBcUQ7QUFDRjtBQUNIO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08seUJBQXlCLHdEQUFrQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFdBQVc7QUFDL0I7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLEdBQUcsTUFBTSxtQkFBbUI7QUFDNUY7QUFDQSxTQUFTO0FBQ1Qsa0RBQWtELCtEQUFRO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixXQUFXLFFBQVEsc0lBQTBCO0FBQ2pFLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxvSkFBb0osaUVBQU0sR0FBRztBQUM3SjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWFpLXByZXAvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvZG9jdW1lbnRfbG9hZGVycy9mcy90ZXh0LmpzP2QzNWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRG9jdW1lbnQgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL2RvY3VtZW50c1wiO1xuaW1wb3J0IHsgZ2V0RW52IH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS91dGlscy9lbnZcIjtcbmltcG9ydCB7IEJhc2VEb2N1bWVudExvYWRlciB9IGZyb20gXCIuLi9iYXNlLmpzXCI7XG4vKipcbiAqIEEgY2xhc3MgdGhhdCBleHRlbmRzIHRoZSBgQmFzZURvY3VtZW50TG9hZGVyYCBjbGFzcy4gSXQgcmVwcmVzZW50cyBhXG4gKiBkb2N1bWVudCBsb2FkZXIgdGhhdCBsb2FkcyBkb2N1bWVudHMgZnJvbSBhIHRleHQgZmlsZS4gVGhlIGBsb2FkKClgXG4gKiBtZXRob2QgaXMgaW1wbGVtZW50ZWQgdG8gcmVhZCB0aGUgdGV4dCBmcm9tIHRoZSBmaWxlIG9yIGJsb2IsIHBhcnNlIGl0XG4gKiB1c2luZyB0aGUgYHBhcnNlKClgIG1ldGhvZCwgYW5kIGNyZWF0ZSBhIGBEb2N1bWVudGAgaW5zdGFuY2UgZm9yIGVhY2hcbiAqIHBhcnNlZCBwYWdlLiBUaGUgbWV0YWRhdGEgaW5jbHVkZXMgdGhlIHNvdXJjZSBvZiB0aGUgdGV4dCAoZmlsZSBwYXRoIG9yXG4gKiBibG9iKSBhbmQsIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBwYWdlcywgdGhlIGxpbmUgbnVtYmVyIG9mIGVhY2ggcGFnZS5cbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgVGV4dExvYWRlcihcInNyYy9kb2N1bWVudF9sb2FkZXJzL2V4YW1wbGVfZGF0YS9leGFtcGxlLnR4dFwiKTtcbiAqIGNvbnN0IGRvY3MgPSBhd2FpdCBsb2FkZXIubG9hZCgpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXh0TG9hZGVyIGV4dGVuZHMgQmFzZURvY3VtZW50TG9hZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihmaWxlUGF0aE9yQmxvYikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmaWxlUGF0aE9yQmxvYlwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogZmlsZVBhdGhPckJsb2JcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvdGVjdGVkIG1ldGhvZCB0aGF0IHRha2VzIGEgYHJhd2Agc3RyaW5nIGFzIGEgcGFyYW1ldGVyIGFuZCByZXR1cm5zXG4gICAgICogYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gYXJyYXkgY29udGFpbmluZyB0aGUgcmF3IHRleHQgYXMgYSBzaW5nbGVcbiAgICAgKiBlbGVtZW50LlxuICAgICAqIEBwYXJhbSByYXcgVGhlIHJhdyB0ZXh0IHRvIGJlIHBhcnNlZC5cbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBhcnJheSBjb250YWluaW5nIHRoZSByYXcgdGV4dCBhcyBhIHNpbmdsZSBlbGVtZW50LlxuICAgICAqL1xuICAgIGFzeW5jIHBhcnNlKHJhdykge1xuICAgICAgICByZXR1cm4gW3Jhd107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgbWV0aG9kIHRoYXQgbG9hZHMgdGhlIHRleHQgZmlsZSBvciBibG9iIGFuZCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0XG4gICAgICogcmVzb2x2ZXMgdG8gYW4gYXJyYXkgb2YgYERvY3VtZW50YCBpbnN0YW5jZXMuIEl0IHJlYWRzIHRoZSB0ZXh0IGZyb21cbiAgICAgKiB0aGUgZmlsZSBvciBibG9iIHVzaW5nIHRoZSBgcmVhZEZpbGVgIGZ1bmN0aW9uIGZyb20gdGhlXG4gICAgICogYG5vZGU6ZnMvcHJvbWlzZXNgIG1vZHVsZSBvciB0aGUgYHRleHQoKWAgbWV0aG9kIG9mIHRoZSBibG9iLiBJdCB0aGVuXG4gICAgICogcGFyc2VzIHRoZSB0ZXh0IHVzaW5nIHRoZSBgcGFyc2UoKWAgbWV0aG9kIGFuZCBjcmVhdGVzIGEgYERvY3VtZW50YFxuICAgICAqIGluc3RhbmNlIGZvciBlYWNoIHBhcnNlZCBwYWdlLiBUaGUgbWV0YWRhdGEgaW5jbHVkZXMgdGhlIHNvdXJjZSBvZiB0aGVcbiAgICAgKiB0ZXh0IChmaWxlIHBhdGggb3IgYmxvYikgYW5kLCBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgcGFnZXMsIHRoZSBsaW5lXG4gICAgICogbnVtYmVyIG9mIGVhY2ggcGFnZS5cbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBhcnJheSBvZiBgRG9jdW1lbnRgIGluc3RhbmNlcy5cbiAgICAgKi9cbiAgICBhc3luYyBsb2FkKCkge1xuICAgICAgICBsZXQgdGV4dDtcbiAgICAgICAgbGV0IG1ldGFkYXRhO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuZmlsZVBhdGhPckJsb2IgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcmVhZEZpbGUgfSA9IGF3YWl0IFRleHRMb2FkZXIuaW1wb3J0cygpO1xuICAgICAgICAgICAgdGV4dCA9IGF3YWl0IHJlYWRGaWxlKHRoaXMuZmlsZVBhdGhPckJsb2IsIFwidXRmOFwiKTtcbiAgICAgICAgICAgIG1ldGFkYXRhID0geyBzb3VyY2U6IHRoaXMuZmlsZVBhdGhPckJsb2IgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRleHQgPSBhd2FpdCB0aGlzLmZpbGVQYXRoT3JCbG9iLnRleHQoKTtcbiAgICAgICAgICAgIG1ldGFkYXRhID0geyBzb3VyY2U6IFwiYmxvYlwiLCBibG9iVHlwZTogdGhpcy5maWxlUGF0aE9yQmxvYi50eXBlIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkID0gYXdhaXQgdGhpcy5wYXJzZSh0ZXh0KTtcbiAgICAgICAgcGFyc2VkLmZvckVhY2goKHBhZ2VDb250ZW50LCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhZ2VDb250ZW50ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBzdHJpbmcsIGF0IHBvc2l0aW9uICR7aX0gZ290ICR7dHlwZW9mIHBhZ2VDb250ZW50fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBhcnNlZC5tYXAoKHBhZ2VDb250ZW50LCBpKSA9PiBuZXcgRG9jdW1lbnQoe1xuICAgICAgICAgICAgcGFnZUNvbnRlbnQsXG4gICAgICAgICAgICBtZXRhZGF0YTogcGFyc2VkLmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgICAgID8gbWV0YWRhdGFcbiAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ubWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGxpbmU6IGkgKyAxLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzdGF0aWMgbWV0aG9kIHRoYXQgaW1wb3J0cyB0aGUgYHJlYWRGaWxlYCBmdW5jdGlvbiBmcm9tIHRoZVxuICAgICAqIGBub2RlOmZzL3Byb21pc2VzYCBtb2R1bGUuIEl0IGlzIHVzZWQgdG8gZHluYW1pY2FsbHkgaW1wb3J0IHRoZVxuICAgICAqIGZ1bmN0aW9uIHdoZW4gbmVlZGVkLiBJZiB0aGUgaW1wb3J0IGZhaWxzLCBpdCB0aHJvd3MgYW4gZXJyb3JcbiAgICAgKiBpbmRpY2F0aW5nIHRoYXQgdGhlIGBmcy9wcm9taXNlc2AgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhlXG4gICAgICogY3VycmVudCBlbnZpcm9ubWVudC5cbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgYHJlYWRGaWxlYCBmdW5jdGlvbiBmcm9tIHRoZSBgbm9kZTpmcy9wcm9taXNlc2AgbW9kdWxlLlxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBpbXBvcnRzKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyByZWFkRmlsZSB9ID0gYXdhaXQgaW1wb3J0KFwibm9kZTpmcy9wcm9taXNlc1wiKTtcbiAgICAgICAgICAgIHJldHVybiB7IHJlYWRGaWxlIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2FkIGZzL3Byb21pc2VzLiBUZXh0TG9hZGVyIGF2YWlsYWJsZSBvbmx5IG9uIGVudmlyb25tZW50ICdub2RlJy4gSXQgYXBwZWFycyB5b3UgYXJlIHJ1bm5pbmcgZW52aXJvbm1lbnQgJyR7Z2V0RW52KCl9Jy4gU2VlIGh0dHBzOi8vPGxpbmsgdG8gZG9jcz4gZm9yIGFsdGVybmF0aXZlcy5gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/document_loaders/fs/text.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/output_parsers/combining.js":
/*!*****************************************************************!*\
  !*** ./node_modules/langchain/dist/output_parsers/combining.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CombiningOutputParser: () => (/* binding */ CombiningOutputParser)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/output_parsers */ \"(rsc)/./node_modules/@langchain/core/output_parsers.js\");\n\n/**\n * Class to combine multiple output parsers\n * @augments BaseOutputParser\n */\nclass CombiningOutputParser extends _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__.BaseOutputParser {\n    static lc_name() {\n        return \"CombiningOutputParser\";\n    }\n    constructor(fields, ...parsers) {\n        if (parsers.length > 0 || !(\"parsers\" in fields)) {\n            // eslint-disable-next-line no-param-reassign\n            fields = {\n                parsers: [fields, ...parsers],\n            };\n        }\n        super(fields);\n        Object.defineProperty(this, \"lc_namespace\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: [\"langchain\", \"output_parsers\", \"combining\"]\n        });\n        Object.defineProperty(this, \"lc_serializable\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: true\n        });\n        Object.defineProperty(this, \"parsers\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"outputDelimiter\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"-----\"\n        });\n        this.parsers = fields.parsers;\n    }\n    /**\n     * Method to parse an input string using the parsers in the parsers array.\n     * The parsed outputs are combined into a single object and returned.\n     * @param input The input string to parse.\n     * @param callbacks Optional Callbacks object.\n     * @returns A Promise that resolves to a CombinedOutput object.\n     */\n    async parse(input, callbacks) {\n        const inputs = input\n            .trim()\n            .split(new RegExp(`${this.outputDelimiter}Output \\\\d+${this.outputDelimiter}`))\n            .slice(1);\n        const ret = {};\n        for (const [i, p] of this.parsers.entries()) {\n            let parsed;\n            try {\n                let extracted = inputs[i].includes(\"```\")\n                    ? inputs[i].trim().split(/```/)[1]\n                    : inputs[i].trim();\n                if (extracted.endsWith(this.outputDelimiter)) {\n                    extracted = extracted.slice(0, -this.outputDelimiter.length);\n                }\n                parsed = await p.parse(extracted, callbacks);\n            }\n            catch (e) {\n                parsed = await p.parse(input.trim(), callbacks);\n            }\n            Object.assign(ret, parsed);\n        }\n        return ret;\n    }\n    /**\n     * Method to get instructions on how to format the LLM output. The\n     * instructions are based on the parsers array and the outputDelimiter.\n     * @returns A string with format instructions.\n     */\n    getFormatInstructions() {\n        return `${[\n            `Return the following ${this.parsers.length} outputs, each formatted as described below. Include the delimiter characters \"${this.outputDelimiter}\" in your response:`,\n            ...this.parsers.map((p, i) => `${this.outputDelimiter}Output ${i + 1}${this.outputDelimiter}\\n${p\n                .getFormatInstructions()\n                .trim()}\\n${this.outputDelimiter}`),\n        ].join(\"\\n\\n\")}\\n`;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvY29tYmluaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWtFO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ08sb0NBQW9DLDRFQUFnQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMscUJBQXFCLGFBQWEscUJBQXFCO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsb0NBQW9DLHFCQUFxQixnRkFBZ0YscUJBQXFCO0FBQzlKLDZDQUE2QyxxQkFBcUIsU0FBUyxNQUFNLEVBQUUscUJBQXFCLElBQUk7QUFDNUc7QUFDQSx3QkFBd0IsSUFBSSxxQkFBcUI7QUFDakQsdUJBQXVCO0FBQ3ZCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWFpLXByZXAvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvY29tYmluaW5nLmpzPzA3NWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZU91dHB1dFBhcnNlciB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvb3V0cHV0X3BhcnNlcnNcIjtcbi8qKlxuICogQ2xhc3MgdG8gY29tYmluZSBtdWx0aXBsZSBvdXRwdXQgcGFyc2Vyc1xuICogQGF1Z21lbnRzIEJhc2VPdXRwdXRQYXJzZXJcbiAqL1xuZXhwb3J0IGNsYXNzIENvbWJpbmluZ091dHB1dFBhcnNlciBleHRlbmRzIEJhc2VPdXRwdXRQYXJzZXIge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJDb21iaW5pbmdPdXRwdXRQYXJzZXJcIjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzLCAuLi5wYXJzZXJzKSB7XG4gICAgICAgIGlmIChwYXJzZXJzLmxlbmd0aCA+IDAgfHwgIShcInBhcnNlcnNcIiBpbiBmaWVsZHMpKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICAgIGZpZWxkcyA9IHtcbiAgICAgICAgICAgICAgICBwYXJzZXJzOiBbZmllbGRzLCAuLi5wYXJzZXJzXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJvdXRwdXRfcGFyc2Vyc1wiLCBcImNvbWJpbmluZ1wiXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwYXJzZXJzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm91dHB1dERlbGltaXRlclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCItLS0tLVwiXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBhcnNlcnMgPSBmaWVsZHMucGFyc2VycztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIHBhcnNlIGFuIGlucHV0IHN0cmluZyB1c2luZyB0aGUgcGFyc2VycyBpbiB0aGUgcGFyc2VycyBhcnJheS5cbiAgICAgKiBUaGUgcGFyc2VkIG91dHB1dHMgYXJlIGNvbWJpbmVkIGludG8gYSBzaW5nbGUgb2JqZWN0IGFuZCByZXR1cm5lZC5cbiAgICAgKiBAcGFyYW0gaW5wdXQgVGhlIGlucHV0IHN0cmluZyB0byBwYXJzZS5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tzIE9wdGlvbmFsIENhbGxiYWNrcyBvYmplY3QuXG4gICAgICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBDb21iaW5lZE91dHB1dCBvYmplY3QuXG4gICAgICovXG4gICAgYXN5bmMgcGFyc2UoaW5wdXQsIGNhbGxiYWNrcykge1xuICAgICAgICBjb25zdCBpbnB1dHMgPSBpbnB1dFxuICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgICAgLnNwbGl0KG5ldyBSZWdFeHAoYCR7dGhpcy5vdXRwdXREZWxpbWl0ZXJ9T3V0cHV0IFxcXFxkKyR7dGhpcy5vdXRwdXREZWxpbWl0ZXJ9YCkpXG4gICAgICAgICAgICAuc2xpY2UoMSk7XG4gICAgICAgIGNvbnN0IHJldCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IFtpLCBwXSBvZiB0aGlzLnBhcnNlcnMuZW50cmllcygpKSB7XG4gICAgICAgICAgICBsZXQgcGFyc2VkO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsZXQgZXh0cmFjdGVkID0gaW5wdXRzW2ldLmluY2x1ZGVzKFwiYGBgXCIpXG4gICAgICAgICAgICAgICAgICAgID8gaW5wdXRzW2ldLnRyaW0oKS5zcGxpdCgvYGBgLylbMV1cbiAgICAgICAgICAgICAgICAgICAgOiBpbnB1dHNbaV0udHJpbSgpO1xuICAgICAgICAgICAgICAgIGlmIChleHRyYWN0ZWQuZW5kc1dpdGgodGhpcy5vdXRwdXREZWxpbWl0ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhY3RlZCA9IGV4dHJhY3RlZC5zbGljZSgwLCAtdGhpcy5vdXRwdXREZWxpbWl0ZXIubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gYXdhaXQgcC5wYXJzZShleHRyYWN0ZWQsIGNhbGxiYWNrcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHBhcnNlZCA9IGF3YWl0IHAucGFyc2UoaW5wdXQudHJpbSgpLCBjYWxsYmFja3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihyZXQsIHBhcnNlZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGdldCBpbnN0cnVjdGlvbnMgb24gaG93IHRvIGZvcm1hdCB0aGUgTExNIG91dHB1dC4gVGhlXG4gICAgICogaW5zdHJ1Y3Rpb25zIGFyZSBiYXNlZCBvbiB0aGUgcGFyc2VycyBhcnJheSBhbmQgdGhlIG91dHB1dERlbGltaXRlci5cbiAgICAgKiBAcmV0dXJucyBBIHN0cmluZyB3aXRoIGZvcm1hdCBpbnN0cnVjdGlvbnMuXG4gICAgICovXG4gICAgZ2V0Rm9ybWF0SW5zdHJ1Y3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gYCR7W1xuICAgICAgICAgICAgYFJldHVybiB0aGUgZm9sbG93aW5nICR7dGhpcy5wYXJzZXJzLmxlbmd0aH0gb3V0cHV0cywgZWFjaCBmb3JtYXR0ZWQgYXMgZGVzY3JpYmVkIGJlbG93LiBJbmNsdWRlIHRoZSBkZWxpbWl0ZXIgY2hhcmFjdGVycyBcIiR7dGhpcy5vdXRwdXREZWxpbWl0ZXJ9XCIgaW4geW91ciByZXNwb25zZTpgLFxuICAgICAgICAgICAgLi4udGhpcy5wYXJzZXJzLm1hcCgocCwgaSkgPT4gYCR7dGhpcy5vdXRwdXREZWxpbWl0ZXJ9T3V0cHV0ICR7aSArIDF9JHt0aGlzLm91dHB1dERlbGltaXRlcn1cXG4ke3BcbiAgICAgICAgICAgICAgICAuZ2V0Rm9ybWF0SW5zdHJ1Y3Rpb25zKClcbiAgICAgICAgICAgICAgICAudHJpbSgpfVxcbiR7dGhpcy5vdXRwdXREZWxpbWl0ZXJ9YCksXG4gICAgICAgIF0uam9pbihcIlxcblxcblwiKX1cXG5gO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/output_parsers/combining.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/output_parsers/datetime.js":
/*!****************************************************************!*\
  !*** ./node_modules/langchain/dist/output_parsers/datetime.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DatetimeOutputParser: () => (/* binding */ DatetimeOutputParser)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/output_parsers */ \"(rsc)/./node_modules/@langchain/core/output_parsers.js\");\n\n/**\n * Class to parse the output of an LLM call to a date.\n * @augments BaseOutputParser\n */\nclass DatetimeOutputParser extends _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__.BaseOutputParser {\n    constructor() {\n        super(...arguments);\n        Object.defineProperty(this, \"lc_namespace\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: [\"langchain\", \"output_parsers\"]\n        });\n        Object.defineProperty(this, \"lc_serializable\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: true\n        });\n        /**\n         * ISO 8601 date time standard.\n         */\n        Object.defineProperty(this, \"format\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"YYYY-MM-DDTHH:mm:ssZ\"\n        });\n    }\n    static lc_name() {\n        return \"DatetimeOutputParser\";\n    }\n    /**\n     * Parses the given text into a Date.\n     * If the parsing fails, throws an OutputParserException.\n     * @param text The text to parse.\n     * @returns A date object.\n     */\n    async parse(text) {\n        const parsedDate = new Date(text.trim());\n        if (Number.isNaN(parsedDate.getTime())) {\n            throw new _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__.OutputParserException(`Could not parse output: ${text}`, text);\n        }\n        return parsedDate;\n    }\n    /**\n     * Provides instructions on the expected format of the response for the\n     * CommaSeparatedListOutputParser.\n     * @returns A string containing instructions on the expected format of the response.\n     */\n    getFormatInstructions() {\n        return [\n            `Your response should be a datetime string that matches the following pattern: \"${this.format}\".`,\n            `Examples: 2011-10-05T14:48:00Z, 2019-01-01T00:00:00Z, 1932-04-21T04:42:23Z`,\n            `Return ONLY this string, no other words!`,\n        ].join(\"\\n\\n\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvZGF0ZXRpbWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEY7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDTyxtQ0FBbUMsNEVBQWdCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixpRkFBcUIsNEJBQTRCLEtBQUs7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RkFBOEYsWUFBWTtBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1haS1wcmVwLy4vbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L291dHB1dF9wYXJzZXJzL2RhdGV0aW1lLmpzPzBkZTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZU91dHB1dFBhcnNlciwgT3V0cHV0UGFyc2VyRXhjZXB0aW9uLCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvb3V0cHV0X3BhcnNlcnNcIjtcbi8qKlxuICogQ2xhc3MgdG8gcGFyc2UgdGhlIG91dHB1dCBvZiBhbiBMTE0gY2FsbCB0byBhIGRhdGUuXG4gKiBAYXVnbWVudHMgQmFzZU91dHB1dFBhcnNlclxuICovXG5leHBvcnQgY2xhc3MgRGF0ZXRpbWVPdXRwdXRQYXJzZXIgZXh0ZW5kcyBCYXNlT3V0cHV0UGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJvdXRwdXRfcGFyc2Vyc1wiXVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfc2VyaWFsaXphYmxlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogSVNPIDg2MDEgZGF0ZSB0aW1lIHN0YW5kYXJkLlxuICAgICAgICAgKi9cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZm9ybWF0XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcIllZWVktTU0tRERUSEg6bW06c3NaXCJcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJEYXRldGltZU91dHB1dFBhcnNlclwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgdGhlIGdpdmVuIHRleHQgaW50byBhIERhdGUuXG4gICAgICogSWYgdGhlIHBhcnNpbmcgZmFpbHMsIHRocm93cyBhbiBPdXRwdXRQYXJzZXJFeGNlcHRpb24uXG4gICAgICogQHBhcmFtIHRleHQgVGhlIHRleHQgdG8gcGFyc2UuXG4gICAgICogQHJldHVybnMgQSBkYXRlIG9iamVjdC5cbiAgICAgKi9cbiAgICBhc3luYyBwYXJzZSh0ZXh0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZERhdGUgPSBuZXcgRGF0ZSh0ZXh0LnRyaW0oKSk7XG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4ocGFyc2VkRGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3V0cHV0UGFyc2VyRXhjZXB0aW9uKGBDb3VsZCBub3QgcGFyc2Ugb3V0cHV0OiAke3RleHR9YCwgdGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlZERhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb3ZpZGVzIGluc3RydWN0aW9ucyBvbiB0aGUgZXhwZWN0ZWQgZm9ybWF0IG9mIHRoZSByZXNwb25zZSBmb3IgdGhlXG4gICAgICogQ29tbWFTZXBhcmF0ZWRMaXN0T3V0cHV0UGFyc2VyLlxuICAgICAqIEByZXR1cm5zIEEgc3RyaW5nIGNvbnRhaW5pbmcgaW5zdHJ1Y3Rpb25zIG9uIHRoZSBleHBlY3RlZCBmb3JtYXQgb2YgdGhlIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIGdldEZvcm1hdEluc3RydWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGBZb3VyIHJlc3BvbnNlIHNob3VsZCBiZSBhIGRhdGV0aW1lIHN0cmluZyB0aGF0IG1hdGNoZXMgdGhlIGZvbGxvd2luZyBwYXR0ZXJuOiBcIiR7dGhpcy5mb3JtYXR9XCIuYCxcbiAgICAgICAgICAgIGBFeGFtcGxlczogMjAxMS0xMC0wNVQxNDo0ODowMFosIDIwMTktMDEtMDFUMDA6MDA6MDBaLCAxOTMyLTA0LTIxVDA0OjQyOjIzWmAsXG4gICAgICAgICAgICBgUmV0dXJuIE9OTFkgdGhpcyBzdHJpbmcsIG5vIG90aGVyIHdvcmRzIWAsXG4gICAgICAgIF0uam9pbihcIlxcblxcblwiKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/output_parsers/datetime.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/output_parsers/fix.js":
/*!***********************************************************!*\
  !*** ./node_modules/langchain/dist/output_parsers/fix.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OutputFixingParser: () => (/* binding */ OutputFixingParser)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/output_parsers */ \"(rsc)/./node_modules/@langchain/core/output_parsers.js\");\n/* harmony import */ var _chains_llm_chain_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../chains/llm_chain.js */ \"(rsc)/./node_modules/langchain/dist/chains/llm_chain.js\");\n/* harmony import */ var _prompts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./prompts.js */ \"(rsc)/./node_modules/langchain/dist/output_parsers/prompts.js\");\n\n\n\nfunction isLLMChain(x) {\n    return (x.prompt !== undefined && x.llm !== undefined);\n}\n/**\n * Class that extends the BaseOutputParser to handle situations where the\n * initial parsing attempt fails. It contains a retryChain for retrying\n * the parsing process in case of a failure.\n */\nclass OutputFixingParser extends _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__.BaseOutputParser {\n    static lc_name() {\n        return \"OutputFixingParser\";\n    }\n    /**\n     * Static method to create a new instance of OutputFixingParser using a\n     * given language model, parser, and optional fields.\n     * @param llm The language model to be used.\n     * @param parser The parser to be used.\n     * @param fields Optional fields which may contain a prompt.\n     * @returns A new instance of OutputFixingParser.\n     */\n    static fromLLM(llm, parser, fields) {\n        const prompt = fields?.prompt ?? _prompts_js__WEBPACK_IMPORTED_MODULE_2__.NAIVE_FIX_PROMPT;\n        const chain = new _chains_llm_chain_js__WEBPACK_IMPORTED_MODULE_1__.LLMChain({ llm, prompt });\n        return new OutputFixingParser({ parser, retryChain: chain });\n    }\n    constructor({ parser, retryChain, }) {\n        super(...arguments);\n        Object.defineProperty(this, \"lc_namespace\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: [\"langchain\", \"output_parsers\", \"fix\"]\n        });\n        Object.defineProperty(this, \"lc_serializable\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: true\n        });\n        Object.defineProperty(this, \"parser\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"retryChain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.parser = parser;\n        this.retryChain = retryChain;\n    }\n    /**\n     * Method to parse the completion using the parser. If the initial parsing\n     * fails, it uses the retryChain to attempt to fix the output and retry\n     * the parsing process.\n     * @param completion The completion to be parsed.\n     * @param callbacks Optional callbacks to be used during parsing.\n     * @returns The parsed output.\n     */\n    async parse(completion, callbacks) {\n        try {\n            return await this.parser.parse(completion, callbacks);\n        }\n        catch (e) {\n            // eslint-disable-next-line no-instanceof/no-instanceof\n            if (e instanceof _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__.OutputParserException) {\n                const retryInput = {\n                    instructions: this.parser.getFormatInstructions(),\n                    completion,\n                    error: e,\n                };\n                if (isLLMChain(this.retryChain)) {\n                    const result = await this.retryChain.call(retryInput, callbacks);\n                    const newCompletion = result[this.retryChain.outputKey];\n                    return this.parser.parse(newCompletion, callbacks);\n                }\n                else {\n                    const result = await this.retryChain.invoke(retryInput, {\n                        callbacks,\n                    });\n                    return result;\n                }\n            }\n            throw e;\n        }\n    }\n    /**\n     * Method to get the format instructions for the parser.\n     * @returns The format instructions for the parser.\n     */\n    getFormatInstructions() {\n        return this.parser.getFormatInstructions();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvZml4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMEY7QUFDeEM7QUFDRjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08saUNBQWlDLDRFQUFnQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMseURBQWdCO0FBQ3pELDBCQUEwQiwwREFBUSxHQUFHLGFBQWE7QUFDbEQsd0NBQXdDLDJCQUEyQjtBQUNuRTtBQUNBLGtCQUFrQixxQkFBcUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsaUZBQXFCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWFpLXByZXAvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvZml4LmpzPzkyMmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZU91dHB1dFBhcnNlciwgT3V0cHV0UGFyc2VyRXhjZXB0aW9uLCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvb3V0cHV0X3BhcnNlcnNcIjtcbmltcG9ydCB7IExMTUNoYWluIH0gZnJvbSBcIi4uL2NoYWlucy9sbG1fY2hhaW4uanNcIjtcbmltcG9ydCB7IE5BSVZFX0ZJWF9QUk9NUFQgfSBmcm9tIFwiLi9wcm9tcHRzLmpzXCI7XG5mdW5jdGlvbiBpc0xMTUNoYWluKHgpIHtcbiAgICByZXR1cm4gKHgucHJvbXB0ICE9PSB1bmRlZmluZWQgJiYgeC5sbG0gIT09IHVuZGVmaW5lZCk7XG59XG4vKipcbiAqIENsYXNzIHRoYXQgZXh0ZW5kcyB0aGUgQmFzZU91dHB1dFBhcnNlciB0byBoYW5kbGUgc2l0dWF0aW9ucyB3aGVyZSB0aGVcbiAqIGluaXRpYWwgcGFyc2luZyBhdHRlbXB0IGZhaWxzLiBJdCBjb250YWlucyBhIHJldHJ5Q2hhaW4gZm9yIHJldHJ5aW5nXG4gKiB0aGUgcGFyc2luZyBwcm9jZXNzIGluIGNhc2Ugb2YgYSBmYWlsdXJlLlxuICovXG5leHBvcnQgY2xhc3MgT3V0cHV0Rml4aW5nUGFyc2VyIGV4dGVuZHMgQmFzZU91dHB1dFBhcnNlciB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIk91dHB1dEZpeGluZ1BhcnNlclwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGF0aWMgbWV0aG9kIHRvIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBPdXRwdXRGaXhpbmdQYXJzZXIgdXNpbmcgYVxuICAgICAqIGdpdmVuIGxhbmd1YWdlIG1vZGVsLCBwYXJzZXIsIGFuZCBvcHRpb25hbCBmaWVsZHMuXG4gICAgICogQHBhcmFtIGxsbSBUaGUgbGFuZ3VhZ2UgbW9kZWwgdG8gYmUgdXNlZC5cbiAgICAgKiBAcGFyYW0gcGFyc2VyIFRoZSBwYXJzZXIgdG8gYmUgdXNlZC5cbiAgICAgKiBAcGFyYW0gZmllbGRzIE9wdGlvbmFsIGZpZWxkcyB3aGljaCBtYXkgY29udGFpbiBhIHByb21wdC5cbiAgICAgKiBAcmV0dXJucyBBIG5ldyBpbnN0YW5jZSBvZiBPdXRwdXRGaXhpbmdQYXJzZXIuXG4gICAgICovXG4gICAgc3RhdGljIGZyb21MTE0obGxtLCBwYXJzZXIsIGZpZWxkcykge1xuICAgICAgICBjb25zdCBwcm9tcHQgPSBmaWVsZHM/LnByb21wdCA/PyBOQUlWRV9GSVhfUFJPTVBUO1xuICAgICAgICBjb25zdCBjaGFpbiA9IG5ldyBMTE1DaGFpbih7IGxsbSwgcHJvbXB0IH0pO1xuICAgICAgICByZXR1cm4gbmV3IE91dHB1dEZpeGluZ1BhcnNlcih7IHBhcnNlciwgcmV0cnlDaGFpbjogY2hhaW4gfSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHsgcGFyc2VyLCByZXRyeUNoYWluLCB9KSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX25hbWVzcGFjZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW1wibGFuZ2NoYWluXCIsIFwib3V0cHV0X3BhcnNlcnNcIiwgXCJmaXhcIl1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGFyc2VyXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJldHJ5Q2hhaW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBwYXJzZXI7XG4gICAgICAgIHRoaXMucmV0cnlDaGFpbiA9IHJldHJ5Q2hhaW47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBwYXJzZSB0aGUgY29tcGxldGlvbiB1c2luZyB0aGUgcGFyc2VyLiBJZiB0aGUgaW5pdGlhbCBwYXJzaW5nXG4gICAgICogZmFpbHMsIGl0IHVzZXMgdGhlIHJldHJ5Q2hhaW4gdG8gYXR0ZW1wdCB0byBmaXggdGhlIG91dHB1dCBhbmQgcmV0cnlcbiAgICAgKiB0aGUgcGFyc2luZyBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSBjb21wbGV0aW9uIFRoZSBjb21wbGV0aW9uIHRvIGJlIHBhcnNlZC5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tzIE9wdGlvbmFsIGNhbGxiYWNrcyB0byBiZSB1c2VkIGR1cmluZyBwYXJzaW5nLlxuICAgICAqIEByZXR1cm5zIFRoZSBwYXJzZWQgb3V0cHV0LlxuICAgICAqL1xuICAgIGFzeW5jIHBhcnNlKGNvbXBsZXRpb24sIGNhbGxiYWNrcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucGFyc2VyLnBhcnNlKGNvbXBsZXRpb24sIGNhbGxiYWNrcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgT3V0cHV0UGFyc2VyRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmV0cnlJbnB1dCA9IHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiB0aGlzLnBhcnNlci5nZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGlvbixcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoaXNMTE1DaGFpbih0aGlzLnJldHJ5Q2hhaW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucmV0cnlDaGFpbi5jYWxsKHJldHJ5SW5wdXQsIGNhbGxiYWNrcyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NvbXBsZXRpb24gPSByZXN1bHRbdGhpcy5yZXRyeUNoYWluLm91dHB1dEtleV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlci5wYXJzZShuZXdDb21wbGV0aW9uLCBjYWxsYmFja3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5yZXRyeUNoYWluLmludm9rZShyZXRyeUlucHV0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3MsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGdldCB0aGUgZm9ybWF0IGluc3RydWN0aW9ucyBmb3IgdGhlIHBhcnNlci5cbiAgICAgKiBAcmV0dXJucyBUaGUgZm9ybWF0IGluc3RydWN0aW9ucyBmb3IgdGhlIHBhcnNlci5cbiAgICAgKi9cbiAgICBnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlci5nZXRGb3JtYXRJbnN0cnVjdGlvbnMoKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/output_parsers/fix.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/output_parsers/http_response.js":
/*!*********************************************************************!*\
  !*** ./node_modules/langchain/dist/output_parsers/http_response.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpResponseOutputParser: () => (/* binding */ HttpResponseOutputParser)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/output_parsers */ \"(rsc)/./node_modules/@langchain/core/output_parsers.js\");\n\n/**\n * OutputParser that formats chunks emitted from an LLM for different HTTP content types.\n */\nclass HttpResponseOutputParser extends _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__.BaseTransformOutputParser {\n    static lc_name() {\n        return \"HttpResponseOutputParser\";\n    }\n    constructor(fields) {\n        super(fields);\n        Object.defineProperty(this, \"lc_namespace\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: [\"langchain\", \"output_parser\"]\n        });\n        Object.defineProperty(this, \"lc_serializable\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: true\n        });\n        Object.defineProperty(this, \"outputParser\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: new _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__.StringOutputParser()\n        });\n        Object.defineProperty(this, \"contentType\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"text/plain\"\n        });\n        this.outputParser = fields?.outputParser ?? this.outputParser;\n        this.contentType = fields?.contentType ?? this.contentType;\n    }\n    async *_transform(inputGenerator) {\n        for await (const chunk of this.outputParser._transform(inputGenerator)) {\n            if (typeof chunk === \"string\") {\n                yield this.parse(chunk);\n            }\n            else {\n                yield this.parse(JSON.stringify(chunk));\n            }\n        }\n        if (this.contentType === \"text/event-stream\") {\n            const encoder = new TextEncoder();\n            yield encoder.encode(`event: end\\n\\n`);\n        }\n    }\n    /**\n     * Parses a string output from an LLM call. This method is meant to be\n     * implemented by subclasses to define how a string output from an LLM\n     * should be parsed.\n     * @param text The string output from an LLM call.\n     * @param callbacks Optional callbacks.\n     * @returns A promise of the parsed output.\n     */\n    async parse(text) {\n        const chunk = await this.outputParser.parse(text);\n        const encoder = new TextEncoder();\n        if (this.contentType === \"text/event-stream\") {\n            return encoder.encode(`event: data\\ndata: ${JSON.stringify(chunk)}\\n\\n`);\n        }\n        let parsedChunk;\n        if (typeof chunk === \"string\") {\n            parsedChunk = chunk;\n        }\n        else {\n            parsedChunk = JSON.stringify(chunk);\n        }\n        return encoder.encode(parsedChunk);\n    }\n    getFormatInstructions() {\n        return \"\";\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvaHR0cF9yZXNwb25zZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFnRztBQUNoRztBQUNBO0FBQ0E7QUFDTyx1Q0FBdUMscUZBQXlCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsOEVBQWtCO0FBQ3pDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Qsc0JBQXNCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWFpLXByZXAvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvaHR0cF9yZXNwb25zZS5qcz83MjBhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VUcmFuc2Zvcm1PdXRwdXRQYXJzZXIsIFN0cmluZ091dHB1dFBhcnNlciwgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL291dHB1dF9wYXJzZXJzXCI7XG4vKipcbiAqIE91dHB1dFBhcnNlciB0aGF0IGZvcm1hdHMgY2h1bmtzIGVtaXR0ZWQgZnJvbSBhbiBMTE0gZm9yIGRpZmZlcmVudCBIVFRQIGNvbnRlbnQgdHlwZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBIdHRwUmVzcG9uc2VPdXRwdXRQYXJzZXIgZXh0ZW5kcyBCYXNlVHJhbnNmb3JtT3V0cHV0UGFyc2VyIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiSHR0cFJlc3BvbnNlT3V0cHV0UGFyc2VyXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcIm91dHB1dF9wYXJzZXJcIl1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3V0cHV0UGFyc2VyXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgU3RyaW5nT3V0cHV0UGFyc2VyKClcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbnRlbnRUeXBlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBcInRleHQvcGxhaW5cIlxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vdXRwdXRQYXJzZXIgPSBmaWVsZHM/Lm91dHB1dFBhcnNlciA/PyB0aGlzLm91dHB1dFBhcnNlcjtcbiAgICAgICAgdGhpcy5jb250ZW50VHlwZSA9IGZpZWxkcz8uY29udGVudFR5cGUgPz8gdGhpcy5jb250ZW50VHlwZTtcbiAgICB9XG4gICAgYXN5bmMgKl90cmFuc2Zvcm0oaW5wdXRHZW5lcmF0b3IpIHtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiB0aGlzLm91dHB1dFBhcnNlci5fdHJhbnNmb3JtKGlucHV0R2VuZXJhdG9yKSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjaHVuayA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHlpZWxkIHRoaXMucGFyc2UoY2h1bmspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgeWllbGQgdGhpcy5wYXJzZShKU09OLnN0cmluZ2lmeShjaHVuaykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnRUeXBlID09PSBcInRleHQvZXZlbnQtc3RyZWFtXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgICAgICAgICAgIHlpZWxkIGVuY29kZXIuZW5jb2RlKGBldmVudDogZW5kXFxuXFxuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgc3RyaW5nIG91dHB1dCBmcm9tIGFuIExMTSBjYWxsLiBUaGlzIG1ldGhvZCBpcyBtZWFudCB0byBiZVxuICAgICAqIGltcGxlbWVudGVkIGJ5IHN1YmNsYXNzZXMgdG8gZGVmaW5lIGhvdyBhIHN0cmluZyBvdXRwdXQgZnJvbSBhbiBMTE1cbiAgICAgKiBzaG91bGQgYmUgcGFyc2VkLlxuICAgICAqIEBwYXJhbSB0ZXh0IFRoZSBzdHJpbmcgb3V0cHV0IGZyb20gYW4gTExNIGNhbGwuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrcyBPcHRpb25hbCBjYWxsYmFja3MuXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIG9mIHRoZSBwYXJzZWQgb3V0cHV0LlxuICAgICAqL1xuICAgIGFzeW5jIHBhcnNlKHRleHQpIHtcbiAgICAgICAgY29uc3QgY2h1bmsgPSBhd2FpdCB0aGlzLm91dHB1dFBhcnNlci5wYXJzZSh0ZXh0KTtcbiAgICAgICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgICAgICBpZiAodGhpcy5jb250ZW50VHlwZSA9PT0gXCJ0ZXh0L2V2ZW50LXN0cmVhbVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5jb2Rlci5lbmNvZGUoYGV2ZW50OiBkYXRhXFxuZGF0YTogJHtKU09OLnN0cmluZ2lmeShjaHVuayl9XFxuXFxuYCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhcnNlZENodW5rO1xuICAgICAgICBpZiAodHlwZW9mIGNodW5rID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBwYXJzZWRDaHVuayA9IGNodW5rO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VkQ2h1bmsgPSBKU09OLnN0cmluZ2lmeShjaHVuayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVuY29kZXIuZW5jb2RlKHBhcnNlZENodW5rKTtcbiAgICB9XG4gICAgZ2V0Rm9ybWF0SW5zdHJ1Y3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/output_parsers/http_response.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/output_parsers/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/langchain/dist/output_parsers/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsymmetricStructuredOutputParser: () => (/* reexport safe */ _structured_js__WEBPACK_IMPORTED_MODULE_2__.AsymmetricStructuredOutputParser),\n/* harmony export */   CombiningOutputParser: () => (/* reexport safe */ _combining_js__WEBPACK_IMPORTED_MODULE_4__.CombiningOutputParser),\n/* harmony export */   CommaSeparatedListOutputParser: () => (/* reexport safe */ _list_js__WEBPACK_IMPORTED_MODULE_0__.CommaSeparatedListOutputParser),\n/* harmony export */   CustomListOutputParser: () => (/* reexport safe */ _list_js__WEBPACK_IMPORTED_MODULE_0__.CustomListOutputParser),\n/* harmony export */   DatetimeOutputParser: () => (/* reexport safe */ _datetime_js__WEBPACK_IMPORTED_MODULE_9__.DatetimeOutputParser),\n/* harmony export */   HttpResponseOutputParser: () => (/* reexport safe */ _http_response_js__WEBPACK_IMPORTED_MODULE_8__.HttpResponseOutputParser),\n/* harmony export */   JsonKeyOutputFunctionsParser: () => (/* reexport safe */ _output_parsers_openai_functions_js__WEBPACK_IMPORTED_MODULE_6__.JsonKeyOutputFunctionsParser),\n/* harmony export */   JsonMarkdownStructuredOutputParser: () => (/* reexport safe */ _structured_js__WEBPACK_IMPORTED_MODULE_2__.JsonMarkdownStructuredOutputParser),\n/* harmony export */   JsonOutputFunctionsParser: () => (/* reexport safe */ _output_parsers_openai_functions_js__WEBPACK_IMPORTED_MODULE_6__.JsonOutputFunctionsParser),\n/* harmony export */   JsonOutputKeyToolsParser: () => (/* reexport safe */ _output_parsers_openai_tools_js__WEBPACK_IMPORTED_MODULE_7__.JsonOutputKeyToolsParser),\n/* harmony export */   JsonOutputToolsParser: () => (/* reexport safe */ _output_parsers_openai_tools_js__WEBPACK_IMPORTED_MODULE_7__.JsonOutputToolsParser),\n/* harmony export */   ListOutputParser: () => (/* reexport safe */ _list_js__WEBPACK_IMPORTED_MODULE_0__.ListOutputParser),\n/* harmony export */   OutputFixingParser: () => (/* reexport safe */ _fix_js__WEBPACK_IMPORTED_MODULE_3__.OutputFixingParser),\n/* harmony export */   OutputFunctionsParser: () => (/* reexport safe */ _output_parsers_openai_functions_js__WEBPACK_IMPORTED_MODULE_6__.OutputFunctionsParser),\n/* harmony export */   RegexParser: () => (/* reexport safe */ _regex_js__WEBPACK_IMPORTED_MODULE_1__.RegexParser),\n/* harmony export */   RouterOutputParser: () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_5__.RouterOutputParser),\n/* harmony export */   StructuredOutputParser: () => (/* reexport safe */ _structured_js__WEBPACK_IMPORTED_MODULE_2__.StructuredOutputParser)\n/* harmony export */ });\n/* harmony import */ var _list_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./list.js */ \"(rsc)/./node_modules/langchain/dist/output_parsers/list.js\");\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./regex.js */ \"(rsc)/./node_modules/langchain/dist/output_parsers/regex.js\");\n/* harmony import */ var _structured_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./structured.js */ \"(rsc)/./node_modules/langchain/dist/output_parsers/structured.js\");\n/* harmony import */ var _fix_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fix.js */ \"(rsc)/./node_modules/langchain/dist/output_parsers/fix.js\");\n/* harmony import */ var _combining_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./combining.js */ \"(rsc)/./node_modules/langchain/dist/output_parsers/combining.js\");\n/* harmony import */ var _router_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./router.js */ \"(rsc)/./node_modules/langchain/dist/output_parsers/router.js\");\n/* harmony import */ var _output_parsers_openai_functions_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../output_parsers/openai_functions.js */ \"(rsc)/./node_modules/langchain/dist/output_parsers/openai_functions.js\");\n/* harmony import */ var _output_parsers_openai_tools_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../output_parsers/openai_tools.js */ \"(rsc)/./node_modules/langchain/dist/output_parsers/openai_tools.js\");\n/* harmony import */ var _http_response_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./http_response.js */ \"(rsc)/./node_modules/langchain/dist/output_parsers/http_response.js\");\n/* harmony import */ var _datetime_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./datetime.js */ \"(rsc)/./node_modules/langchain/dist/output_parsers/datetime.js\");\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTZFO0FBQ3BDO0FBQ3VGO0FBQ2xGO0FBQ1M7QUFDTjtBQUNFO0FBQ3FGO0FBQ25DO0FBQ3RDO0FBQ1YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWFpLXByZXAvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvaW5kZXguanM/OTAwMyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBMaXN0T3V0cHV0UGFyc2VyLCBDb21tYVNlcGFyYXRlZExpc3RPdXRwdXRQYXJzZXIgfSBmcm9tIFwiLi9saXN0LmpzXCI7XG5leHBvcnQgeyBSZWdleFBhcnNlciB9IGZyb20gXCIuL3JlZ2V4LmpzXCI7XG5leHBvcnQgeyBTdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyLCBBc3ltbWV0cmljU3RydWN0dXJlZE91dHB1dFBhcnNlciwgSnNvbk1hcmtkb3duU3RydWN0dXJlZE91dHB1dFBhcnNlciwgfSBmcm9tIFwiLi9zdHJ1Y3R1cmVkLmpzXCI7XG5leHBvcnQgeyBPdXRwdXRGaXhpbmdQYXJzZXIgfSBmcm9tIFwiLi9maXguanNcIjtcbmV4cG9ydCB7IENvbWJpbmluZ091dHB1dFBhcnNlciB9IGZyb20gXCIuL2NvbWJpbmluZy5qc1wiO1xuZXhwb3J0IHsgUm91dGVyT3V0cHV0UGFyc2VyIH0gZnJvbSBcIi4vcm91dGVyLmpzXCI7XG5leHBvcnQgeyBDdXN0b21MaXN0T3V0cHV0UGFyc2VyIH0gZnJvbSBcIi4vbGlzdC5qc1wiO1xuZXhwb3J0IHsgT3V0cHV0RnVuY3Rpb25zUGFyc2VyLCBKc29uT3V0cHV0RnVuY3Rpb25zUGFyc2VyLCBKc29uS2V5T3V0cHV0RnVuY3Rpb25zUGFyc2VyLCB9IGZyb20gXCIuLi9vdXRwdXRfcGFyc2Vycy9vcGVuYWlfZnVuY3Rpb25zLmpzXCI7XG5leHBvcnQgeyBKc29uT3V0cHV0VG9vbHNQYXJzZXIsIEpzb25PdXRwdXRLZXlUb29sc1BhcnNlciwgfSBmcm9tIFwiLi4vb3V0cHV0X3BhcnNlcnMvb3BlbmFpX3Rvb2xzLmpzXCI7XG5leHBvcnQgeyBIdHRwUmVzcG9uc2VPdXRwdXRQYXJzZXIsIH0gZnJvbSBcIi4vaHR0cF9yZXNwb25zZS5qc1wiO1xuZXhwb3J0IHsgRGF0ZXRpbWVPdXRwdXRQYXJzZXIgfSBmcm9tIFwiLi9kYXRldGltZS5qc1wiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/output_parsers/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/output_parsers/list.js":
/*!************************************************************!*\
  !*** ./node_modules/langchain/dist/output_parsers/list.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CommaSeparatedListOutputParser: () => (/* reexport safe */ _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__.CommaSeparatedListOutputParser),\n/* harmony export */   CustomListOutputParser: () => (/* reexport safe */ _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__.CustomListOutputParser),\n/* harmony export */   ListOutputParser: () => (/* reexport safe */ _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__.ListOutputParser)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/output_parsers */ \"(rsc)/./node_modules/@langchain/core/output_parsers.js\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvbGlzdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1haS1wcmVwLy4vbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L291dHB1dF9wYXJzZXJzL2xpc3QuanM/NTUyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBMaXN0T3V0cHV0UGFyc2VyLCBDb21tYVNlcGFyYXRlZExpc3RPdXRwdXRQYXJzZXIsIEN1c3RvbUxpc3RPdXRwdXRQYXJzZXIsIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9vdXRwdXRfcGFyc2Vyc1wiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/output_parsers/list.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/output_parsers/noop.js":
/*!************************************************************!*\
  !*** ./node_modules/langchain/dist/output_parsers/noop.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NoOpOutputParser: () => (/* binding */ NoOpOutputParser)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/output_parsers */ \"(rsc)/./node_modules/@langchain/core/output_parsers.js\");\n\n/**\n * The NoOpOutputParser class is a type of output parser that does not\n * perform any operations on the output. It extends the BaseOutputParser\n * class and is part of the LangChain's output parsers module. This class\n * is useful in scenarios where the raw output of the Large Language\n * Models (LLMs) is required.\n */\nclass NoOpOutputParser extends _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__.BaseOutputParser {\n    constructor() {\n        super(...arguments);\n        Object.defineProperty(this, \"lc_namespace\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: [\"langchain\", \"output_parsers\", \"default\"]\n        });\n        Object.defineProperty(this, \"lc_serializable\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: true\n        });\n    }\n    static lc_name() {\n        return \"NoOpOutputParser\";\n    }\n    /**\n     * This method takes a string as input and returns the same string as\n     * output. It does not perform any operations on the input string.\n     * @param text The input string to be parsed.\n     * @returns The same input string without any operations performed on it.\n     */\n    parse(text) {\n        return Promise.resolve(text);\n    }\n    /**\n     * This method returns an empty string. It does not provide any formatting\n     * instructions.\n     * @returns An empty string, indicating no formatting instructions.\n     */\n    getFormatInstructions() {\n        return \"\";\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvbm9vcC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFrRTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLCtCQUErQiw0RUFBZ0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtYWktcHJlcC8uL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9vdXRwdXRfcGFyc2Vycy9ub29wLmpzPzY4Y2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZU91dHB1dFBhcnNlciB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvb3V0cHV0X3BhcnNlcnNcIjtcbi8qKlxuICogVGhlIE5vT3BPdXRwdXRQYXJzZXIgY2xhc3MgaXMgYSB0eXBlIG9mIG91dHB1dCBwYXJzZXIgdGhhdCBkb2VzIG5vdFxuICogcGVyZm9ybSBhbnkgb3BlcmF0aW9ucyBvbiB0aGUgb3V0cHV0LiBJdCBleHRlbmRzIHRoZSBCYXNlT3V0cHV0UGFyc2VyXG4gKiBjbGFzcyBhbmQgaXMgcGFydCBvZiB0aGUgTGFuZ0NoYWluJ3Mgb3V0cHV0IHBhcnNlcnMgbW9kdWxlLiBUaGlzIGNsYXNzXG4gKiBpcyB1c2VmdWwgaW4gc2NlbmFyaW9zIHdoZXJlIHRoZSByYXcgb3V0cHV0IG9mIHRoZSBMYXJnZSBMYW5ndWFnZVxuICogTW9kZWxzIChMTE1zKSBpcyByZXF1aXJlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vT3BPdXRwdXRQYXJzZXIgZXh0ZW5kcyBCYXNlT3V0cHV0UGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJvdXRwdXRfcGFyc2Vyc1wiLCBcImRlZmF1bHRcIl1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIk5vT3BPdXRwdXRQYXJzZXJcIjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgdGFrZXMgYSBzdHJpbmcgYXMgaW5wdXQgYW5kIHJldHVybnMgdGhlIHNhbWUgc3RyaW5nIGFzXG4gICAgICogb3V0cHV0LiBJdCBkb2VzIG5vdCBwZXJmb3JtIGFueSBvcGVyYXRpb25zIG9uIHRoZSBpbnB1dCBzdHJpbmcuXG4gICAgICogQHBhcmFtIHRleHQgVGhlIGlucHV0IHN0cmluZyB0byBiZSBwYXJzZWQuXG4gICAgICogQHJldHVybnMgVGhlIHNhbWUgaW5wdXQgc3RyaW5nIHdpdGhvdXQgYW55IG9wZXJhdGlvbnMgcGVyZm9ybWVkIG9uIGl0LlxuICAgICAqL1xuICAgIHBhcnNlKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0ZXh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuIEl0IGRvZXMgbm90IHByb3ZpZGUgYW55IGZvcm1hdHRpbmdcbiAgICAgKiBpbnN0cnVjdGlvbnMuXG4gICAgICogQHJldHVybnMgQW4gZW1wdHkgc3RyaW5nLCBpbmRpY2F0aW5nIG5vIGZvcm1hdHRpbmcgaW5zdHJ1Y3Rpb25zLlxuICAgICAqL1xuICAgIGdldEZvcm1hdEluc3RydWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/output_parsers/noop.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/output_parsers/openai_functions.js":
/*!************************************************************************!*\
  !*** ./node_modules/langchain/dist/output_parsers/openai_functions.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonKeyOutputFunctionsParser: () => (/* binding */ JsonKeyOutputFunctionsParser),\n/* harmony export */   JsonOutputFunctionsParser: () => (/* binding */ JsonOutputFunctionsParser),\n/* harmony export */   OutputFunctionsParser: () => (/* binding */ OutputFunctionsParser)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_utils_json_patch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/utils/json_patch */ \"(rsc)/./node_modules/@langchain/core/utils/json_patch.js\");\n/* harmony import */ var _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/output_parsers */ \"(rsc)/./node_modules/@langchain/core/output_parsers.js\");\n\n\n\n/**\n * Class for parsing the output of an LLM. Can be configured to return\n * only the arguments of the function call in the output.\n */\nclass OutputFunctionsParser extends _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_1__.BaseLLMOutputParser {\n    static lc_name() {\n        return \"OutputFunctionsParser\";\n    }\n    constructor(config) {\n        super();\n        Object.defineProperty(this, \"lc_namespace\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: [\"langchain\", \"output_parsers\", \"openai_functions\"]\n        });\n        Object.defineProperty(this, \"lc_serializable\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: true\n        });\n        Object.defineProperty(this, \"argsOnly\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: true\n        });\n        this.argsOnly = config?.argsOnly ?? this.argsOnly;\n    }\n    /**\n     * Parses the output and returns a string representation of the function\n     * call or its arguments.\n     * @param generations The output of the LLM to parse.\n     * @returns A string representation of the function call or its arguments.\n     */\n    async parseResult(generations) {\n        if (\"message\" in generations[0]) {\n            const gen = generations[0];\n            const functionCall = gen.message.additional_kwargs.function_call;\n            if (!functionCall) {\n                throw new Error(`No function_call in message ${JSON.stringify(generations)}`);\n            }\n            if (!functionCall.arguments) {\n                throw new Error(`No arguments in function_call ${JSON.stringify(generations)}`);\n            }\n            if (this.argsOnly) {\n                return functionCall.arguments;\n            }\n            return JSON.stringify(functionCall);\n        }\n        else {\n            throw new Error(`No message in generations ${JSON.stringify(generations)}`);\n        }\n    }\n}\n/**\n * Class for parsing the output of an LLM into a JSON object. Uses an\n * instance of `OutputFunctionsParser` to parse the output.\n */\nclass JsonOutputFunctionsParser extends _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_1__.BaseCumulativeTransformOutputParser {\n    static lc_name() {\n        return \"JsonOutputFunctionsParser\";\n    }\n    constructor(config) {\n        super(config);\n        Object.defineProperty(this, \"lc_namespace\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: [\"langchain\", \"output_parsers\", \"openai_functions\"]\n        });\n        Object.defineProperty(this, \"lc_serializable\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: true\n        });\n        Object.defineProperty(this, \"outputParser\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"argsOnly\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: true\n        });\n        this.argsOnly = config?.argsOnly ?? this.argsOnly;\n        this.outputParser = new OutputFunctionsParser(config);\n    }\n    _diff(prev, next) {\n        if (!next) {\n            return undefined;\n        }\n        const ops = (0,_langchain_core_utils_json_patch__WEBPACK_IMPORTED_MODULE_0__.compare)(prev ?? {}, next);\n        return ops;\n    }\n    async parsePartialResult(generations) {\n        const generation = generations[0];\n        if (!generation.message) {\n            return undefined;\n        }\n        const { message } = generation;\n        const functionCall = message.additional_kwargs.function_call;\n        if (!functionCall) {\n            return undefined;\n        }\n        if (this.argsOnly) {\n            return (0,_langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_1__.parsePartialJson)(functionCall.arguments);\n        }\n        return {\n            ...functionCall,\n            arguments: (0,_langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_1__.parsePartialJson)(functionCall.arguments),\n        };\n    }\n    /**\n     * Parses the output and returns a JSON object. If `argsOnly` is true,\n     * only the arguments of the function call are returned.\n     * @param generations The output of the LLM to parse.\n     * @returns A JSON object representation of the function call or its arguments.\n     */\n    async parseResult(generations) {\n        const result = await this.outputParser.parseResult(generations);\n        if (!result) {\n            throw new Error(`No result from \"OutputFunctionsParser\" ${JSON.stringify(generations)}`);\n        }\n        return this.parse(result);\n    }\n    async parse(text) {\n        const parsedResult = JSON.parse(text);\n        if (this.argsOnly) {\n            return parsedResult;\n        }\n        parsedResult.arguments = JSON.parse(parsedResult.arguments);\n        return parsedResult;\n    }\n    getFormatInstructions() {\n        return \"\";\n    }\n}\n/**\n * Class for parsing the output of an LLM into a JSON object and returning\n * a specific attribute. Uses an instance of `JsonOutputFunctionsParser`\n * to parse the output.\n */\nclass JsonKeyOutputFunctionsParser extends _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_1__.BaseLLMOutputParser {\n    static lc_name() {\n        return \"JsonKeyOutputFunctionsParser\";\n    }\n    get lc_aliases() {\n        return {\n            attrName: \"key_name\",\n        };\n    }\n    constructor(fields) {\n        super(fields);\n        Object.defineProperty(this, \"lc_namespace\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: [\"langchain\", \"output_parsers\", \"openai_functions\"]\n        });\n        Object.defineProperty(this, \"lc_serializable\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: true\n        });\n        Object.defineProperty(this, \"outputParser\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: new JsonOutputFunctionsParser()\n        });\n        Object.defineProperty(this, \"attrName\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.attrName = fields.attrName;\n    }\n    /**\n     * Parses the output and returns a specific attribute of the parsed JSON\n     * object.\n     * @param generations The output of the LLM to parse.\n     * @returns The value of a specific attribute of the parsed JSON object.\n     */\n    async parseResult(generations) {\n        const result = await this.outputParser.parseResult(generations);\n        return result[this.attrName];\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvb3BlbmFpX2Z1bmN0aW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE0RDtBQUMrQztBQUN6QztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNPLG9DQUFvQywrRUFBbUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELDRCQUE0QjtBQUMzRjtBQUNBO0FBQ0EsaUVBQWlFLDRCQUE0QjtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCw0QkFBNEI7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyx3Q0FBd0MsK0ZBQW1DO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHlFQUFPLFdBQVc7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsVUFBVTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdGQUFnQjtBQUNuQztBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZ0ZBQWdCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsNEJBQTRCO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTywyQ0FBMkMsK0VBQW1CO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtYWktcHJlcC8uL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9vdXRwdXRfcGFyc2Vycy9vcGVuYWlfZnVuY3Rpb25zLmpzP2I0MjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29tcGFyZSwgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3V0aWxzL2pzb25fcGF0Y2hcIjtcbmltcG9ydCB7IEJhc2VDdW11bGF0aXZlVHJhbnNmb3JtT3V0cHV0UGFyc2VyLCBCYXNlTExNT3V0cHV0UGFyc2VyLCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvb3V0cHV0X3BhcnNlcnNcIjtcbmltcG9ydCB7IHBhcnNlUGFydGlhbEpzb24gfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL291dHB1dF9wYXJzZXJzXCI7XG4vKipcbiAqIENsYXNzIGZvciBwYXJzaW5nIHRoZSBvdXRwdXQgb2YgYW4gTExNLiBDYW4gYmUgY29uZmlndXJlZCB0byByZXR1cm5cbiAqIG9ubHkgdGhlIGFyZ3VtZW50cyBvZiB0aGUgZnVuY3Rpb24gY2FsbCBpbiB0aGUgb3V0cHV0LlxuICovXG5leHBvcnQgY2xhc3MgT3V0cHV0RnVuY3Rpb25zUGFyc2VyIGV4dGVuZHMgQmFzZUxMTU91dHB1dFBhcnNlciB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIk91dHB1dEZ1bmN0aW9uc1BhcnNlclwiO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJvdXRwdXRfcGFyc2Vyc1wiLCBcIm9wZW5haV9mdW5jdGlvbnNcIl1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiYXJnc09ubHlcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYXJnc09ubHkgPSBjb25maWc/LmFyZ3NPbmx5ID8/IHRoaXMuYXJnc09ubHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlcyB0aGUgb3V0cHV0IGFuZCByZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBmdW5jdGlvblxuICAgICAqIGNhbGwgb3IgaXRzIGFyZ3VtZW50cy5cbiAgICAgKiBAcGFyYW0gZ2VuZXJhdGlvbnMgVGhlIG91dHB1dCBvZiB0aGUgTExNIHRvIHBhcnNlLlxuICAgICAqIEByZXR1cm5zIEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBmdW5jdGlvbiBjYWxsIG9yIGl0cyBhcmd1bWVudHMuXG4gICAgICovXG4gICAgYXN5bmMgcGFyc2VSZXN1bHQoZ2VuZXJhdGlvbnMpIHtcbiAgICAgICAgaWYgKFwibWVzc2FnZVwiIGluIGdlbmVyYXRpb25zWzBdKSB7XG4gICAgICAgICAgICBjb25zdCBnZW4gPSBnZW5lcmF0aW9uc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGZ1bmN0aW9uQ2FsbCA9IGdlbi5tZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLmZ1bmN0aW9uX2NhbGw7XG4gICAgICAgICAgICBpZiAoIWZ1bmN0aW9uQ2FsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gZnVuY3Rpb25fY2FsbCBpbiBtZXNzYWdlICR7SlNPTi5zdHJpbmdpZnkoZ2VuZXJhdGlvbnMpfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFmdW5jdGlvbkNhbGwuYXJndW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBhcmd1bWVudHMgaW4gZnVuY3Rpb25fY2FsbCAke0pTT04uc3RyaW5naWZ5KGdlbmVyYXRpb25zKX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmFyZ3NPbmx5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uQ2FsbC5hcmd1bWVudHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZnVuY3Rpb25DYWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gbWVzc2FnZSBpbiBnZW5lcmF0aW9ucyAke0pTT04uc3RyaW5naWZ5KGdlbmVyYXRpb25zKX1gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQ2xhc3MgZm9yIHBhcnNpbmcgdGhlIG91dHB1dCBvZiBhbiBMTE0gaW50byBhIEpTT04gb2JqZWN0LiBVc2VzIGFuXG4gKiBpbnN0YW5jZSBvZiBgT3V0cHV0RnVuY3Rpb25zUGFyc2VyYCB0byBwYXJzZSB0aGUgb3V0cHV0LlxuICovXG5leHBvcnQgY2xhc3MgSnNvbk91dHB1dEZ1bmN0aW9uc1BhcnNlciBleHRlbmRzIEJhc2VDdW11bGF0aXZlVHJhbnNmb3JtT3V0cHV0UGFyc2VyIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiSnNvbk91dHB1dEZ1bmN0aW9uc1BhcnNlclwiO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgc3VwZXIoY29uZmlnKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJvdXRwdXRfcGFyc2Vyc1wiLCBcIm9wZW5haV9mdW5jdGlvbnNcIl1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3V0cHV0UGFyc2VyXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFyZ3NPbmx5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFyZ3NPbmx5ID0gY29uZmlnPy5hcmdzT25seSA/PyB0aGlzLmFyZ3NPbmx5O1xuICAgICAgICB0aGlzLm91dHB1dFBhcnNlciA9IG5ldyBPdXRwdXRGdW5jdGlvbnNQYXJzZXIoY29uZmlnKTtcbiAgICB9XG4gICAgX2RpZmYocHJldiwgbmV4dCkge1xuICAgICAgICBpZiAoIW5leHQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3BzID0gY29tcGFyZShwcmV2ID8/IHt9LCBuZXh0KTtcbiAgICAgICAgcmV0dXJuIG9wcztcbiAgICB9XG4gICAgYXN5bmMgcGFyc2VQYXJ0aWFsUmVzdWx0KGdlbmVyYXRpb25zKSB7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRpb24gPSBnZW5lcmF0aW9uc1swXTtcbiAgICAgICAgaWYgKCFnZW5lcmF0aW9uLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBtZXNzYWdlIH0gPSBnZW5lcmF0aW9uO1xuICAgICAgICBjb25zdCBmdW5jdGlvbkNhbGwgPSBtZXNzYWdlLmFkZGl0aW9uYWxfa3dhcmdzLmZ1bmN0aW9uX2NhbGw7XG4gICAgICAgIGlmICghZnVuY3Rpb25DYWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFyZ3NPbmx5KSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VQYXJ0aWFsSnNvbihmdW5jdGlvbkNhbGwuYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZnVuY3Rpb25DYWxsLFxuICAgICAgICAgICAgYXJndW1lbnRzOiBwYXJzZVBhcnRpYWxKc29uKGZ1bmN0aW9uQ2FsbC5hcmd1bWVudHMpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgdGhlIG91dHB1dCBhbmQgcmV0dXJucyBhIEpTT04gb2JqZWN0LiBJZiBgYXJnc09ubHlgIGlzIHRydWUsXG4gICAgICogb25seSB0aGUgYXJndW1lbnRzIG9mIHRoZSBmdW5jdGlvbiBjYWxsIGFyZSByZXR1cm5lZC5cbiAgICAgKiBAcGFyYW0gZ2VuZXJhdGlvbnMgVGhlIG91dHB1dCBvZiB0aGUgTExNIHRvIHBhcnNlLlxuICAgICAqIEByZXR1cm5zIEEgSlNPTiBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgdGhlIGZ1bmN0aW9uIGNhbGwgb3IgaXRzIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBhc3luYyBwYXJzZVJlc3VsdChnZW5lcmF0aW9ucykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm91dHB1dFBhcnNlci5wYXJzZVJlc3VsdChnZW5lcmF0aW9ucyk7XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHJlc3VsdCBmcm9tIFwiT3V0cHV0RnVuY3Rpb25zUGFyc2VyXCIgJHtKU09OLnN0cmluZ2lmeShnZW5lcmF0aW9ucyl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2UocmVzdWx0KTtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2UodGV4dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRSZXN1bHQgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICBpZiAodGhpcy5hcmdzT25seSkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZFJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBwYXJzZWRSZXN1bHQuYXJndW1lbnRzID0gSlNPTi5wYXJzZShwYXJzZWRSZXN1bHQuYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlZFJlc3VsdDtcbiAgICB9XG4gICAgZ2V0Rm9ybWF0SW5zdHJ1Y3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG59XG4vKipcbiAqIENsYXNzIGZvciBwYXJzaW5nIHRoZSBvdXRwdXQgb2YgYW4gTExNIGludG8gYSBKU09OIG9iamVjdCBhbmQgcmV0dXJuaW5nXG4gKiBhIHNwZWNpZmljIGF0dHJpYnV0ZS4gVXNlcyBhbiBpbnN0YW5jZSBvZiBgSnNvbk91dHB1dEZ1bmN0aW9uc1BhcnNlcmBcbiAqIHRvIHBhcnNlIHRoZSBvdXRwdXQuXG4gKi9cbmV4cG9ydCBjbGFzcyBKc29uS2V5T3V0cHV0RnVuY3Rpb25zUGFyc2VyIGV4dGVuZHMgQmFzZUxMTU91dHB1dFBhcnNlciB7XG4gICAgc3RhdGljIGxjX25hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIkpzb25LZXlPdXRwdXRGdW5jdGlvbnNQYXJzZXJcIjtcbiAgICB9XG4gICAgZ2V0IGxjX2FsaWFzZXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhdHRyTmFtZTogXCJrZXlfbmFtZVwiLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihmaWVsZHMpIHtcbiAgICAgICAgc3VwZXIoZmllbGRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJvdXRwdXRfcGFyc2Vyc1wiLCBcIm9wZW5haV9mdW5jdGlvbnNcIl1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3V0cHV0UGFyc2VyXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgSnNvbk91dHB1dEZ1bmN0aW9uc1BhcnNlcigpXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhdHRyTmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmF0dHJOYW1lID0gZmllbGRzLmF0dHJOYW1lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgdGhlIG91dHB1dCBhbmQgcmV0dXJucyBhIHNwZWNpZmljIGF0dHJpYnV0ZSBvZiB0aGUgcGFyc2VkIEpTT05cbiAgICAgKiBvYmplY3QuXG4gICAgICogQHBhcmFtIGdlbmVyYXRpb25zIFRoZSBvdXRwdXQgb2YgdGhlIExMTSB0byBwYXJzZS5cbiAgICAgKiBAcmV0dXJucyBUaGUgdmFsdWUgb2YgYSBzcGVjaWZpYyBhdHRyaWJ1dGUgb2YgdGhlIHBhcnNlZCBKU09OIG9iamVjdC5cbiAgICAgKi9cbiAgICBhc3luYyBwYXJzZVJlc3VsdChnZW5lcmF0aW9ucykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm91dHB1dFBhcnNlci5wYXJzZVJlc3VsdChnZW5lcmF0aW9ucyk7XG4gICAgICAgIHJldHVybiByZXN1bHRbdGhpcy5hdHRyTmFtZV07XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/output_parsers/openai_functions.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/output_parsers/openai_tools.js":
/*!********************************************************************!*\
  !*** ./node_modules/langchain/dist/output_parsers/openai_tools.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonOutputKeyToolsParser: () => (/* binding */ JsonOutputKeyToolsParser),\n/* harmony export */   JsonOutputToolsParser: () => (/* binding */ JsonOutputToolsParser)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/output_parsers */ \"(rsc)/./node_modules/@langchain/core/output_parsers.js\");\n\n/**\n * Class for parsing the output of a tool-calling LLM into a JSON object.\n */\nclass JsonOutputToolsParser extends _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__.BaseLLMOutputParser {\n    static lc_name() {\n        return \"JsonOutputToolsParser\";\n    }\n    constructor(fields) {\n        super(fields);\n        Object.defineProperty(this, \"returnId\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: false\n        });\n        Object.defineProperty(this, \"lc_namespace\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: [\"langchain\", \"output_parsers\", \"openai_tools\"]\n        });\n        Object.defineProperty(this, \"lc_serializable\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: true\n        });\n        this.returnId = fields?.returnId ?? this.returnId;\n    }\n    /**\n     * Parses the output and returns a JSON object. If `argsOnly` is true,\n     * only the arguments of the function call are returned.\n     * @param generations The output of the LLM to parse.\n     * @returns A JSON object representation of the function call or its arguments.\n     */\n    async parseResult(generations) {\n        const toolCalls = generations[0].message.additional_kwargs.tool_calls;\n        if (!toolCalls) {\n            throw new Error(`No tools_call in message ${JSON.stringify(generations)}`);\n        }\n        const clonedToolCalls = JSON.parse(JSON.stringify(toolCalls));\n        const parsedToolCalls = [];\n        for (const toolCall of clonedToolCalls) {\n            if (toolCall.function !== undefined) {\n                // @ts-expect-error name and arguemnts are defined by Object.defineProperty\n                const parsedToolCall = {\n                    type: toolCall.function.name,\n                    args: JSON.parse(toolCall.function.arguments),\n                };\n                if (this.returnId) {\n                    parsedToolCall.id = toolCall.id;\n                }\n                // backward-compatibility with previous\n                // versions of Langchain JS, which uses `name` and `arguments`\n                Object.defineProperty(parsedToolCall, \"name\", {\n                    get() {\n                        return this.type;\n                    },\n                });\n                Object.defineProperty(parsedToolCall, \"arguments\", {\n                    get() {\n                        return this.args;\n                    },\n                });\n                parsedToolCalls.push(parsedToolCall);\n            }\n        }\n        return parsedToolCalls;\n    }\n}\n/**\n * Class for parsing the output of a tool-calling LLM into a JSON object if you are\n * expecting only a single tool to be called.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nclass JsonOutputKeyToolsParser extends _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__.BaseLLMOutputParser {\n    static lc_name() {\n        return \"JsonOutputKeyToolsParser\";\n    }\n    constructor(params) {\n        super(params);\n        Object.defineProperty(this, \"lc_namespace\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: [\"langchain\", \"output_parsers\", \"openai_tools\"]\n        });\n        Object.defineProperty(this, \"lc_serializable\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: true\n        });\n        Object.defineProperty(this, \"returnId\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: false\n        });\n        /** The type of tool calls to return. */\n        Object.defineProperty(this, \"keyName\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        /** Whether to return only the first tool call. */\n        Object.defineProperty(this, \"returnSingle\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: false\n        });\n        Object.defineProperty(this, \"initialParser\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.keyName = params.keyName;\n        this.returnSingle = params.returnSingle ?? this.returnSingle;\n        this.initialParser = new JsonOutputToolsParser(params);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async parseResult(generations) {\n        const results = await this.initialParser.parseResult(generations);\n        const matchingResults = results.filter((result) => result.type === this.keyName);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        let returnedValues = matchingResults;\n        if (!this.returnId) {\n            returnedValues = matchingResults.map((result) => result.args);\n        }\n        if (this.returnSingle) {\n            return returnedValues[0];\n        }\n        return returnedValues;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvb3BlbmFpX3Rvb2xzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRTtBQUNyRTtBQUNBO0FBQ0E7QUFDTyxvQ0FBb0MsK0VBQW1CO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELDRCQUE0QjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHVDQUF1QywrRUFBbUI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtYWktcHJlcC8uL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9vdXRwdXRfcGFyc2Vycy9vcGVuYWlfdG9vbHMuanM/MTg1YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlTExNT3V0cHV0UGFyc2VyIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9vdXRwdXRfcGFyc2Vyc1wiO1xuLyoqXG4gKiBDbGFzcyBmb3IgcGFyc2luZyB0aGUgb3V0cHV0IG9mIGEgdG9vbC1jYWxsaW5nIExMTSBpbnRvIGEgSlNPTiBvYmplY3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBKc29uT3V0cHV0VG9vbHNQYXJzZXIgZXh0ZW5kcyBCYXNlTExNT3V0cHV0UGFyc2VyIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiSnNvbk91dHB1dFRvb2xzUGFyc2VyXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZpZWxkcykge1xuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXR1cm5JZFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX25hbWVzcGFjZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogW1wibGFuZ2NoYWluXCIsIFwib3V0cHV0X3BhcnNlcnNcIiwgXCJvcGVuYWlfdG9vbHNcIl1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZXR1cm5JZCA9IGZpZWxkcz8ucmV0dXJuSWQgPz8gdGhpcy5yZXR1cm5JZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2VzIHRoZSBvdXRwdXQgYW5kIHJldHVybnMgYSBKU09OIG9iamVjdC4gSWYgYGFyZ3NPbmx5YCBpcyB0cnVlLFxuICAgICAqIG9ubHkgdGhlIGFyZ3VtZW50cyBvZiB0aGUgZnVuY3Rpb24gY2FsbCBhcmUgcmV0dXJuZWQuXG4gICAgICogQHBhcmFtIGdlbmVyYXRpb25zIFRoZSBvdXRwdXQgb2YgdGhlIExMTSB0byBwYXJzZS5cbiAgICAgKiBAcmV0dXJucyBBIEpTT04gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBmdW5jdGlvbiBjYWxsIG9yIGl0cyBhcmd1bWVudHMuXG4gICAgICovXG4gICAgYXN5bmMgcGFyc2VSZXN1bHQoZ2VuZXJhdGlvbnMpIHtcbiAgICAgICAgY29uc3QgdG9vbENhbGxzID0gZ2VuZXJhdGlvbnNbMF0ubWVzc2FnZS5hZGRpdGlvbmFsX2t3YXJncy50b29sX2NhbGxzO1xuICAgICAgICBpZiAoIXRvb2xDYWxscykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyB0b29sc19jYWxsIGluIG1lc3NhZ2UgJHtKU09OLnN0cmluZ2lmeShnZW5lcmF0aW9ucyl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2xvbmVkVG9vbENhbGxzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0b29sQ2FsbHMpKTtcbiAgICAgICAgY29uc3QgcGFyc2VkVG9vbENhbGxzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgdG9vbENhbGwgb2YgY2xvbmVkVG9vbENhbGxzKSB7XG4gICAgICAgICAgICBpZiAodG9vbENhbGwuZnVuY3Rpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgbmFtZSBhbmQgYXJndWVtbnRzIGFyZSBkZWZpbmVkIGJ5IE9iamVjdC5kZWZpbmVQcm9wZXJ0eVxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFRvb2xDYWxsID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0b29sQ2FsbC5mdW5jdGlvbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBKU09OLnBhcnNlKHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXR1cm5JZCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJzZWRUb29sQ2FsbC5pZCA9IHRvb2xDYWxsLmlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBiYWNrd2FyZC1jb21wYXRpYmlsaXR5IHdpdGggcHJldmlvdXNcbiAgICAgICAgICAgICAgICAvLyB2ZXJzaW9ucyBvZiBMYW5nY2hhaW4gSlMsIHdoaWNoIHVzZXMgYG5hbWVgIGFuZCBgYXJndW1lbnRzYFxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYXJzZWRUb29sQ2FsbCwgXCJuYW1lXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFyc2VkVG9vbENhbGwsIFwiYXJndW1lbnRzXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXJncztcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBwYXJzZWRUb29sQ2FsbHMucHVzaChwYXJzZWRUb29sQ2FsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlZFRvb2xDYWxscztcbiAgICB9XG59XG4vKipcbiAqIENsYXNzIGZvciBwYXJzaW5nIHRoZSBvdXRwdXQgb2YgYSB0b29sLWNhbGxpbmcgTExNIGludG8gYSBKU09OIG9iamVjdCBpZiB5b3UgYXJlXG4gKiBleHBlY3Rpbmcgb25seSBhIHNpbmdsZSB0b29sIHRvIGJlIGNhbGxlZC5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBjbGFzcyBKc29uT3V0cHV0S2V5VG9vbHNQYXJzZXIgZXh0ZW5kcyBCYXNlTExNT3V0cHV0UGFyc2VyIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiSnNvbk91dHB1dEtleVRvb2xzUGFyc2VyXCI7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBzdXBlcihwYXJhbXMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcIm91dHB1dF9wYXJzZXJzXCIsIFwib3BlbmFpX3Rvb2xzXCJdXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19zZXJpYWxpemFibGVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJldHVybklkXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgLyoqIFRoZSB0eXBlIG9mIHRvb2wgY2FsbHMgdG8gcmV0dXJuLiAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJrZXlOYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIC8qKiBXaGV0aGVyIHRvIHJldHVybiBvbmx5IHRoZSBmaXJzdCB0b29sIGNhbGwuICovXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJldHVyblNpbmdsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluaXRpYWxQYXJzZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5rZXlOYW1lID0gcGFyYW1zLmtleU5hbWU7XG4gICAgICAgIHRoaXMucmV0dXJuU2luZ2xlID0gcGFyYW1zLnJldHVyblNpbmdsZSA/PyB0aGlzLnJldHVyblNpbmdsZTtcbiAgICAgICAgdGhpcy5pbml0aWFsUGFyc2VyID0gbmV3IEpzb25PdXRwdXRUb29sc1BhcnNlcihwYXJhbXMpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGFzeW5jIHBhcnNlUmVzdWx0KGdlbmVyYXRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLmluaXRpYWxQYXJzZXIucGFyc2VSZXN1bHQoZ2VuZXJhdGlvbnMpO1xuICAgICAgICBjb25zdCBtYXRjaGluZ1Jlc3VsdHMgPSByZXN1bHRzLmZpbHRlcigocmVzdWx0KSA9PiByZXN1bHQudHlwZSA9PT0gdGhpcy5rZXlOYW1lKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgbGV0IHJldHVybmVkVmFsdWVzID0gbWF0Y2hpbmdSZXN1bHRzO1xuICAgICAgICBpZiAoIXRoaXMucmV0dXJuSWQpIHtcbiAgICAgICAgICAgIHJldHVybmVkVmFsdWVzID0gbWF0Y2hpbmdSZXN1bHRzLm1hcCgocmVzdWx0KSA9PiByZXN1bHQuYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmV0dXJuU2luZ2xlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuZWRWYWx1ZXNbMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldHVybmVkVmFsdWVzO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/output_parsers/openai_tools.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/output_parsers/prompts.js":
/*!***************************************************************!*\
  !*** ./node_modules/langchain/dist/output_parsers/prompts.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NAIVE_FIX_PROMPT: () => (/* binding */ NAIVE_FIX_PROMPT),\n/* harmony export */   NAIVE_FIX_TEMPLATE: () => (/* binding */ NAIVE_FIX_TEMPLATE)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/prompts */ \"(rsc)/./node_modules/@langchain/core/prompts.js\");\n\nconst NAIVE_FIX_TEMPLATE = `Instructions:\n--------------\n{instructions}\n--------------\nCompletion:\n--------------\n{completion}\n--------------\n\nAbove, the Completion did not satisfy the constraints given in the Instructions.\nError:\n--------------\n{error}\n--------------\n\nPlease try again. Please only respond with an answer that satisfies the constraints laid out in the Instructions:`;\nconst NAIVE_FIX_PROMPT = \n/* #__PURE__ */ _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_0__.PromptTemplate.fromTemplate(NAIVE_FIX_TEMPLATE);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvcHJvbXB0cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUQ7QUFDbEQ7QUFDUDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ087QUFDUCxnQkFBZ0IsbUVBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWFpLXByZXAvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvcHJvbXB0cy5qcz9iNjU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByb21wdFRlbXBsYXRlIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9wcm9tcHRzXCI7XG5leHBvcnQgY29uc3QgTkFJVkVfRklYX1RFTVBMQVRFID0gYEluc3RydWN0aW9uczpcbi0tLS0tLS0tLS0tLS0tXG57aW5zdHJ1Y3Rpb25zfVxuLS0tLS0tLS0tLS0tLS1cbkNvbXBsZXRpb246XG4tLS0tLS0tLS0tLS0tLVxue2NvbXBsZXRpb259XG4tLS0tLS0tLS0tLS0tLVxuXG5BYm92ZSwgdGhlIENvbXBsZXRpb24gZGlkIG5vdCBzYXRpc2Z5IHRoZSBjb25zdHJhaW50cyBnaXZlbiBpbiB0aGUgSW5zdHJ1Y3Rpb25zLlxuRXJyb3I6XG4tLS0tLS0tLS0tLS0tLVxue2Vycm9yfVxuLS0tLS0tLS0tLS0tLS1cblxuUGxlYXNlIHRyeSBhZ2Fpbi4gUGxlYXNlIG9ubHkgcmVzcG9uZCB3aXRoIGFuIGFuc3dlciB0aGF0IHNhdGlzZmllcyB0aGUgY29uc3RyYWludHMgbGFpZCBvdXQgaW4gdGhlIEluc3RydWN0aW9uczpgO1xuZXhwb3J0IGNvbnN0IE5BSVZFX0ZJWF9QUk9NUFQgPSBcbi8qICNfX1BVUkVfXyAqLyBQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoTkFJVkVfRklYX1RFTVBMQVRFKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/output_parsers/prompts.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/output_parsers/regex.js":
/*!*************************************************************!*\
  !*** ./node_modules/langchain/dist/output_parsers/regex.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RegexParser: () => (/* binding */ RegexParser)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/output_parsers */ \"(rsc)/./node_modules/@langchain/core/output_parsers.js\");\n\n/**\n * Class to parse the output of an LLM call into a dictionary.\n * @augments BaseOutputParser\n */\nclass RegexParser extends _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__.BaseOutputParser {\n    static lc_name() {\n        return \"RegexParser\";\n    }\n    get lc_attributes() {\n        return {\n            regex: this.lc_kwargs.regex,\n        };\n    }\n    constructor(fields, outputKeys, defaultOutputKey) {\n        // eslint-disable-next-line no-instanceof/no-instanceof\n        if (typeof fields === \"string\" || fields instanceof RegExp) {\n            // eslint-disable-next-line no-param-reassign, @typescript-eslint/no-non-null-assertion\n            fields = { regex: fields, outputKeys: outputKeys, defaultOutputKey };\n        }\n        // eslint-disable-next-line no-instanceof/no-instanceof\n        if (fields.regex instanceof RegExp) {\n            // eslint-disable-next-line no-param-reassign\n            fields.regex = {\n                pattern: fields.regex.source,\n                flags: fields.regex.flags,\n            };\n        }\n        super(fields);\n        Object.defineProperty(this, \"lc_namespace\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: [\"langchain\", \"output_parsers\", \"regex\"]\n        });\n        Object.defineProperty(this, \"lc_serializable\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: true\n        });\n        Object.defineProperty(this, \"regex\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"outputKeys\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"defaultOutputKey\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.regex =\n            // eslint-disable-next-line no-nested-ternary\n            typeof fields.regex === \"string\"\n                ? new RegExp(fields.regex)\n                : \"pattern\" in fields.regex\n                    ? new RegExp(fields.regex.pattern, fields.regex.flags)\n                    : fields.regex;\n        this.outputKeys = fields.outputKeys;\n        this.defaultOutputKey = fields.defaultOutputKey;\n    }\n    _type() {\n        return \"regex_parser\";\n    }\n    /**\n     * Parses the given text using the regex pattern and returns a dictionary\n     * with the parsed output. If the regex pattern does not match the text\n     * and no defaultOutputKey is provided, throws an OutputParserException.\n     * @param text The text to be parsed.\n     * @returns A dictionary with the parsed output.\n     */\n    async parse(text) {\n        const match = text.match(this.regex);\n        if (match) {\n            return this.outputKeys.reduce((acc, key, index) => {\n                acc[key] = match[index + 1];\n                return acc;\n            }, {});\n        }\n        if (this.defaultOutputKey === undefined) {\n            throw new _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__.OutputParserException(`Could not parse output: ${text}`, text);\n        }\n        return this.outputKeys.reduce((acc, key) => {\n            acc[key] = key === this.defaultOutputKey ? text : \"\";\n            return acc;\n        }, {});\n    }\n    /**\n     * Returns a string with instructions on how the LLM output should be\n     * formatted to match the regex pattern.\n     * @returns A string with formatting instructions.\n     */\n    getFormatInstructions() {\n        return `Your response should match the following regex: ${this.regex}`;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvcmVnZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEY7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDTywwQkFBMEIsNEVBQWdCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxJQUFJO0FBQ2pCO0FBQ0E7QUFDQSxzQkFBc0IsaUZBQXFCLDRCQUE0QixLQUFLO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxJQUFJO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsV0FBVztBQUM3RTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1haS1wcmVwLy4vbm9kZV9tb2R1bGVzL2xhbmdjaGFpbi9kaXN0L291dHB1dF9wYXJzZXJzL3JlZ2V4LmpzPzNkNzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZU91dHB1dFBhcnNlciwgT3V0cHV0UGFyc2VyRXhjZXB0aW9uLCB9IGZyb20gXCJAbGFuZ2NoYWluL2NvcmUvb3V0cHV0X3BhcnNlcnNcIjtcbi8qKlxuICogQ2xhc3MgdG8gcGFyc2UgdGhlIG91dHB1dCBvZiBhbiBMTE0gY2FsbCBpbnRvIGEgZGljdGlvbmFyeS5cbiAqIEBhdWdtZW50cyBCYXNlT3V0cHV0UGFyc2VyXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWdleFBhcnNlciBleHRlbmRzIEJhc2VPdXRwdXRQYXJzZXIge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJSZWdleFBhcnNlclwiO1xuICAgIH1cbiAgICBnZXQgbGNfYXR0cmlidXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlZ2V4OiB0aGlzLmxjX2t3YXJncy5yZWdleCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZmllbGRzLCBvdXRwdXRLZXlzLCBkZWZhdWx0T3V0cHV0S2V5KSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgaWYgKHR5cGVvZiBmaWVsZHMgPT09IFwic3RyaW5nXCIgfHwgZmllbGRzIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ24sIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgIGZpZWxkcyA9IHsgcmVnZXg6IGZpZWxkcywgb3V0cHV0S2V5czogb3V0cHV0S2V5cywgZGVmYXVsdE91dHB1dEtleSB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2ZcbiAgICAgICAgaWYgKGZpZWxkcy5yZWdleCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICAgICBmaWVsZHMucmVnZXggPSB7XG4gICAgICAgICAgICAgICAgcGF0dGVybjogZmllbGRzLnJlZ2V4LnNvdXJjZSxcbiAgICAgICAgICAgICAgICBmbGFnczogZmllbGRzLnJlZ2V4LmZsYWdzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcihmaWVsZHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsY19uYW1lc3BhY2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IFtcImxhbmdjaGFpblwiLCBcIm91dHB1dF9wYXJzZXJzXCIsIFwicmVnZXhcIl1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxjX3NlcmlhbGl6YWJsZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVnZXhcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib3V0cHV0S2V5c1wiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkZWZhdWx0T3V0cHV0S2V5XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVnZXggPVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5lc3RlZC10ZXJuYXJ5XG4gICAgICAgICAgICB0eXBlb2YgZmllbGRzLnJlZ2V4ID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgPyBuZXcgUmVnRXhwKGZpZWxkcy5yZWdleClcbiAgICAgICAgICAgICAgICA6IFwicGF0dGVyblwiIGluIGZpZWxkcy5yZWdleFxuICAgICAgICAgICAgICAgICAgICA/IG5ldyBSZWdFeHAoZmllbGRzLnJlZ2V4LnBhdHRlcm4sIGZpZWxkcy5yZWdleC5mbGFncylcbiAgICAgICAgICAgICAgICAgICAgOiBmaWVsZHMucmVnZXg7XG4gICAgICAgIHRoaXMub3V0cHV0S2V5cyA9IGZpZWxkcy5vdXRwdXRLZXlzO1xuICAgICAgICB0aGlzLmRlZmF1bHRPdXRwdXRLZXkgPSBmaWVsZHMuZGVmYXVsdE91dHB1dEtleTtcbiAgICB9XG4gICAgX3R5cGUoKSB7XG4gICAgICAgIHJldHVybiBcInJlZ2V4X3BhcnNlclwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgdGhlIGdpdmVuIHRleHQgdXNpbmcgdGhlIHJlZ2V4IHBhdHRlcm4gYW5kIHJldHVybnMgYSBkaWN0aW9uYXJ5XG4gICAgICogd2l0aCB0aGUgcGFyc2VkIG91dHB1dC4gSWYgdGhlIHJlZ2V4IHBhdHRlcm4gZG9lcyBub3QgbWF0Y2ggdGhlIHRleHRcbiAgICAgKiBhbmQgbm8gZGVmYXVsdE91dHB1dEtleSBpcyBwcm92aWRlZCwgdGhyb3dzIGFuIE91dHB1dFBhcnNlckV4Y2VwdGlvbi5cbiAgICAgKiBAcGFyYW0gdGV4dCBUaGUgdGV4dCB0byBiZSBwYXJzZWQuXG4gICAgICogQHJldHVybnMgQSBkaWN0aW9uYXJ5IHdpdGggdGhlIHBhcnNlZCBvdXRwdXQuXG4gICAgICovXG4gICAgYXN5bmMgcGFyc2UodGV4dCkge1xuICAgICAgICBjb25zdCBtYXRjaCA9IHRleHQubWF0Y2godGhpcy5yZWdleCk7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0S2V5cy5yZWR1Y2UoKGFjYywga2V5LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGFjY1trZXldID0gbWF0Y2hbaW5kZXggKyAxXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfSwge30pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRlZmF1bHRPdXRwdXRLZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE91dHB1dFBhcnNlckV4Y2VwdGlvbihgQ291bGQgbm90IHBhcnNlIG91dHB1dDogJHt0ZXh0fWAsIHRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm91dHB1dEtleXMucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgICAgICAgICAgYWNjW2tleV0gPSBrZXkgPT09IHRoaXMuZGVmYXVsdE91dHB1dEtleSA/IHRleHQgOiBcIlwiO1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIHdpdGggaW5zdHJ1Y3Rpb25zIG9uIGhvdyB0aGUgTExNIG91dHB1dCBzaG91bGQgYmVcbiAgICAgKiBmb3JtYXR0ZWQgdG8gbWF0Y2ggdGhlIHJlZ2V4IHBhdHRlcm4uXG4gICAgICogQHJldHVybnMgQSBzdHJpbmcgd2l0aCBmb3JtYXR0aW5nIGluc3RydWN0aW9ucy5cbiAgICAgKi9cbiAgICBnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBgWW91ciByZXNwb25zZSBzaG91bGQgbWF0Y2ggdGhlIGZvbGxvd2luZyByZWdleDogJHt0aGlzLnJlZ2V4fWA7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/output_parsers/regex.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/output_parsers/router.js":
/*!**************************************************************!*\
  !*** ./node_modules/langchain/dist/output_parsers/router.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RouterOutputParser: () => (/* binding */ RouterOutputParser)\n/* harmony export */ });\n/* harmony import */ var _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/core/output_parsers */ \"(rsc)/./node_modules/@langchain/core/output_parsers.js\");\n/* harmony import */ var _structured_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./structured.js */ \"(rsc)/./node_modules/langchain/dist/output_parsers/structured.js\");\n\n\n/**\n * A type of output parser that extends the\n * JsonMarkdownStructuredOutputParser. It is used to parse the output of a\n * router in LangChain. The class takes a schema and an optional\n * RouterOutputParserInput object as parameters.\n */\nclass RouterOutputParser extends _structured_js__WEBPACK_IMPORTED_MODULE_1__.JsonMarkdownStructuredOutputParser {\n    constructor(schema, options) {\n        super(schema);\n        Object.defineProperty(this, \"defaultDestination\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"DEFAULT\"\n        });\n        this.defaultDestination =\n            options?.defaultDestination ?? this.defaultDestination;\n    }\n    /**\n     * Overrides the parse method from JsonMarkdownStructuredOutputParser.\n     * This method takes a string as input, attempts to parse it, and returns\n     * the parsed text. If the destination of the parsed text matches the\n     * defaultDestination, the destination is set to null. If the parsing\n     * fails, an OutputParserException is thrown.\n     * @param text The text to be parsed.\n     * @returns The parsed text as a Promise.\n     */\n    async parse(text) {\n        try {\n            const parsedText = await super.parse(text);\n            if (parsedText.destination?.toLowerCase() ===\n                this.defaultDestination.toLowerCase()) {\n                parsedText.destination = null;\n            }\n            return parsedText;\n        }\n        catch (e) {\n            throw new _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_0__.OutputParserException(`Failed to parse. Text: \"${text}\". Error: ${e}`, text);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvcm91dGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF1RTtBQUNGO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLGlDQUFpQyw4RUFBa0M7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsaUZBQXFCLDRCQUE0QixLQUFLLFlBQVksRUFBRTtBQUMxRjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWFpLXByZXAvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvcm91dGVyLmpzP2NhYjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3V0cHV0UGFyc2VyRXhjZXB0aW9uIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9vdXRwdXRfcGFyc2Vyc1wiO1xuaW1wb3J0IHsgSnNvbk1hcmtkb3duU3RydWN0dXJlZE91dHB1dFBhcnNlciB9IGZyb20gXCIuL3N0cnVjdHVyZWQuanNcIjtcbi8qKlxuICogQSB0eXBlIG9mIG91dHB1dCBwYXJzZXIgdGhhdCBleHRlbmRzIHRoZVxuICogSnNvbk1hcmtkb3duU3RydWN0dXJlZE91dHB1dFBhcnNlci4gSXQgaXMgdXNlZCB0byBwYXJzZSB0aGUgb3V0cHV0IG9mIGFcbiAqIHJvdXRlciBpbiBMYW5nQ2hhaW4uIFRoZSBjbGFzcyB0YWtlcyBhIHNjaGVtYSBhbmQgYW4gb3B0aW9uYWxcbiAqIFJvdXRlck91dHB1dFBhcnNlcklucHV0IG9iamVjdCBhcyBwYXJhbWV0ZXJzLlxuICovXG5leHBvcnQgY2xhc3MgUm91dGVyT3V0cHV0UGFyc2VyIGV4dGVuZHMgSnNvbk1hcmtkb3duU3RydWN0dXJlZE91dHB1dFBhcnNlciB7XG4gICAgY29uc3RydWN0b3Ioc2NoZW1hLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHNjaGVtYSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRlZmF1bHREZXN0aW5hdGlvblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJERUZBVUxUXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVmYXVsdERlc3RpbmF0aW9uID1cbiAgICAgICAgICAgIG9wdGlvbnM/LmRlZmF1bHREZXN0aW5hdGlvbiA/PyB0aGlzLmRlZmF1bHREZXN0aW5hdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIHRoZSBwYXJzZSBtZXRob2QgZnJvbSBKc29uTWFya2Rvd25TdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyLlxuICAgICAqIFRoaXMgbWV0aG9kIHRha2VzIGEgc3RyaW5nIGFzIGlucHV0LCBhdHRlbXB0cyB0byBwYXJzZSBpdCwgYW5kIHJldHVybnNcbiAgICAgKiB0aGUgcGFyc2VkIHRleHQuIElmIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcGFyc2VkIHRleHQgbWF0Y2hlcyB0aGVcbiAgICAgKiBkZWZhdWx0RGVzdGluYXRpb24sIHRoZSBkZXN0aW5hdGlvbiBpcyBzZXQgdG8gbnVsbC4gSWYgdGhlIHBhcnNpbmdcbiAgICAgKiBmYWlscywgYW4gT3V0cHV0UGFyc2VyRXhjZXB0aW9uIGlzIHRocm93bi5cbiAgICAgKiBAcGFyYW0gdGV4dCBUaGUgdGV4dCB0byBiZSBwYXJzZWQuXG4gICAgICogQHJldHVybnMgVGhlIHBhcnNlZCB0ZXh0IGFzIGEgUHJvbWlzZS5cbiAgICAgKi9cbiAgICBhc3luYyBwYXJzZSh0ZXh0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRUZXh0ID0gYXdhaXQgc3VwZXIucGFyc2UodGV4dCk7XG4gICAgICAgICAgICBpZiAocGFyc2VkVGV4dC5kZXN0aW5hdGlvbj8udG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHREZXN0aW5hdGlvbi50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkVGV4dC5kZXN0aW5hdGlvbiA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VkVGV4dDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE91dHB1dFBhcnNlckV4Y2VwdGlvbihgRmFpbGVkIHRvIHBhcnNlLiBUZXh0OiBcIiR7dGV4dH1cIi4gRXJyb3I6ICR7ZX1gLCB0ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/output_parsers/router.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/output_parsers/structured.js":
/*!******************************************************************!*\
  !*** ./node_modules/langchain/dist/output_parsers/structured.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsymmetricStructuredOutputParser: () => (/* binding */ AsymmetricStructuredOutputParser),\n/* harmony export */   JsonMarkdownStructuredOutputParser: () => (/* binding */ JsonMarkdownStructuredOutputParser),\n/* harmony export */   StructuredOutputParser: () => (/* binding */ StructuredOutputParser)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n/* harmony import */ var zod_to_json_schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod-to-json-schema */ \"(rsc)/./node_modules/zod-to-json-schema/dist/esm/index.js\");\n/* harmony import */ var _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @langchain/core/output_parsers */ \"(rsc)/./node_modules/@langchain/core/output_parsers.js\");\n\n\n\nclass StructuredOutputParser extends _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_1__.BaseOutputParser {\n    static lc_name() {\n        return \"StructuredOutputParser\";\n    }\n    toJSON() {\n        return this.toJSONNotImplemented();\n    }\n    constructor(schema) {\n        super(schema);\n        Object.defineProperty(this, \"schema\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: schema\n        });\n        Object.defineProperty(this, \"lc_namespace\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: [\"langchain\", \"output_parsers\", \"structured\"]\n        });\n    }\n    /**\n     * Creates a new StructuredOutputParser from a Zod schema.\n     * @param schema The Zod schema which the output should match\n     * @returns A new instance of StructuredOutputParser.\n     */\n    static fromZodSchema(schema) {\n        return new this(schema);\n    }\n    /**\n     * Creates a new StructuredOutputParser from a set of names and\n     * descriptions.\n     * @param schemas An object where each key is a name and each value is a description\n     * @returns A new instance of StructuredOutputParser.\n     */\n    static fromNamesAndDescriptions(schemas) {\n        const zodSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object(Object.fromEntries(Object.entries(schemas).map(([name, description]) => [name, zod__WEBPACK_IMPORTED_MODULE_2__.z.string().describe(description)])));\n        return new this(zodSchema);\n    }\n    /**\n     * Returns a markdown code snippet with a JSON object formatted according\n     * to the schema.\n     * @param options Optional. The options for formatting the instructions\n     * @returns A markdown code snippet with a JSON object formatted according to the schema.\n     */\n    getFormatInstructions() {\n        return `You must format your output as a JSON value that adheres to a given \"JSON Schema\" instance.\n\n\"JSON Schema\" is a declarative language that allows you to annotate and validate JSON documents.\n\nFor example, the example \"JSON Schema\" instance {{\"properties\": {{\"foo\": {{\"description\": \"a list of test words\", \"type\": \"array\", \"items\": {{\"type\": \"string\"}}}}}}, \"required\": [\"foo\"]}}}}\nwould match an object with one required property, \"foo\". The \"type\" property specifies \"foo\" must be an \"array\", and the \"description\" property semantically describes it as \"a list of test words\". The items within \"foo\" must be strings.\nThus, the object {{\"foo\": [\"bar\", \"baz\"]}} is a well-formatted instance of this example \"JSON Schema\". The object {{\"properties\": {{\"foo\": [\"bar\", \"baz\"]}}}} is not well-formatted.\n\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\n\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\n\\`\\`\\`json\n${JSON.stringify((0,zod_to_json_schema__WEBPACK_IMPORTED_MODULE_0__.zodToJsonSchema)(this.schema))}\n\\`\\`\\`\n`;\n    }\n    /**\n     * Parses the given text according to the schema.\n     * @param text The text to parse\n     * @returns The parsed output.\n     */\n    async parse(text) {\n        try {\n            const json = text.includes(\"```\")\n                ? text.trim().split(/```(?:json)?/)[1]\n                : text.trim();\n            return await this.schema.parseAsync(JSON.parse(json));\n        }\n        catch (e) {\n            throw new _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_1__.OutputParserException(`Failed to parse. Text: \"${text}\". Error: ${e}`, text);\n        }\n    }\n}\n/**\n * A specific type of `StructuredOutputParser` that parses JSON data\n * formatted as a markdown code snippet.\n */\nclass JsonMarkdownStructuredOutputParser extends StructuredOutputParser {\n    static lc_name() {\n        return \"JsonMarkdownStructuredOutputParser\";\n    }\n    getFormatInstructions(options) {\n        const interpolationDepth = options?.interpolationDepth ?? 1;\n        if (interpolationDepth < 1) {\n            throw new Error(\"f string interpolation depth must be at least 1\");\n        }\n        return `Return a markdown code snippet with a JSON object formatted to look like:\\n\\`\\`\\`json\\n${this._schemaToInstruction((0,zod_to_json_schema__WEBPACK_IMPORTED_MODULE_0__.zodToJsonSchema)(this.schema))\n            .replaceAll(\"{\", \"{\".repeat(interpolationDepth))\n            .replaceAll(\"}\", \"}\".repeat(interpolationDepth))}\\n\\`\\`\\``;\n    }\n    _schemaToInstruction(schemaInput, indent = 2) {\n        const schema = schemaInput;\n        if (\"type\" in schema) {\n            let nullable = false;\n            let type;\n            if (Array.isArray(schema.type)) {\n                const nullIdx = schema.type.findIndex((type) => type === \"null\");\n                if (nullIdx !== -1) {\n                    nullable = true;\n                    schema.type.splice(nullIdx, 1);\n                }\n                type = schema.type.join(\" | \");\n            }\n            else {\n                type = schema.type;\n            }\n            if (schema.type === \"object\" && schema.properties) {\n                const description = schema.description\n                    ? ` // ${schema.description}`\n                    : \"\";\n                const properties = Object.entries(schema.properties)\n                    .map(([key, value]) => {\n                    const isOptional = schema.required?.includes(key)\n                        ? \"\"\n                        : \" (optional)\";\n                    return `${\" \".repeat(indent)}\"${key}\": ${this._schemaToInstruction(value, indent + 2)}${isOptional}`;\n                })\n                    .join(\"\\n\");\n                return `{\\n${properties}\\n${\" \".repeat(indent - 2)}}${description}`;\n            }\n            if (schema.type === \"array\" && schema.items) {\n                const description = schema.description\n                    ? ` // ${schema.description}`\n                    : \"\";\n                return `array[\\n${\" \".repeat(indent)}${this._schemaToInstruction(schema.items, indent + 2)}\\n${\" \".repeat(indent - 2)}] ${description}`;\n            }\n            const isNullable = nullable ? \" (nullable)\" : \"\";\n            const description = schema.description ? ` // ${schema.description}` : \"\";\n            return `${type}${description}${isNullable}`;\n        }\n        if (\"anyOf\" in schema) {\n            return schema.anyOf\n                .map((s) => this._schemaToInstruction(s, indent))\n                .join(`\\n${\" \".repeat(indent - 2)}`);\n        }\n        throw new Error(\"unsupported schema type\");\n    }\n    static fromZodSchema(schema) {\n        return new this(schema);\n    }\n    static fromNamesAndDescriptions(schemas) {\n        const zodSchema = zod__WEBPACK_IMPORTED_MODULE_2__.z.object(Object.fromEntries(Object.entries(schemas).map(([name, description]) => [name, zod__WEBPACK_IMPORTED_MODULE_2__.z.string().describe(description)])));\n        return new this(zodSchema);\n    }\n}\n/**\n * A type of `StructuredOutputParser` that handles asymmetric input and\n * output schemas.\n */\nclass AsymmetricStructuredOutputParser extends _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_1__.BaseOutputParser {\n    constructor({ inputSchema }) {\n        super(...arguments);\n        Object.defineProperty(this, \"structuredInputParser\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.structuredInputParser = new JsonMarkdownStructuredOutputParser(inputSchema);\n    }\n    async parse(text) {\n        let parsedInput;\n        try {\n            parsedInput = await this.structuredInputParser.parse(text);\n        }\n        catch (e) {\n            throw new _langchain_core_output_parsers__WEBPACK_IMPORTED_MODULE_1__.OutputParserException(`Failed to parse. Text: \"${text}\". Error: ${e}`, text);\n        }\n        return this.outputProcessor(parsedInput);\n    }\n    getFormatInstructions() {\n        return this.structuredInputParser.getFormatInstructions();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3Qvb3V0cHV0X3BhcnNlcnMvc3RydWN0dXJlZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBd0I7QUFDOEI7QUFDb0M7QUFDbkYscUNBQXFDLDRFQUFnQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGtDQUFDLHVGQUF1RixrQ0FBQztBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxrREFBa0QsZ0JBQWdCLFNBQVMsbUVBQW1FLHNCQUFzQjtBQUNwSztBQUNBLG1CQUFtQix3QkFBd0IseUVBQXlFLGdCQUFnQiwwQkFBMEI7O0FBRTlKOztBQUVBO0FBQ0E7QUFDQSxFQUFFLGVBQWUsbUVBQWU7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsaUZBQXFCLDRCQUE0QixLQUFLLFlBQVksRUFBRTtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlHQUF5RywwQkFBMEIsbUVBQWU7QUFDbEosMEJBQTBCLEtBQUs7QUFDL0IsMEJBQTBCLEtBQUssOEJBQThCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG1CQUFtQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsbUJBQW1CLEdBQUcsSUFBSSxLQUFLLDZDQUE2QyxFQUFFLFdBQVc7QUFDdkgsaUJBQWlCO0FBQ2pCO0FBQ0EseUJBQXlCLElBQUksV0FBVyxJQUFJLHdCQUF3QixFQUFFLFlBQVk7QUFDbEY7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG1CQUFtQjtBQUNoRDtBQUNBLGtDQUFrQyxtQkFBbUIsRUFBRSxvREFBb0QsSUFBSSx1QkFBdUIsSUFBSSxZQUFZO0FBQ3RKO0FBQ0E7QUFDQSw0REFBNEQsbUJBQW1CO0FBQy9FLHNCQUFzQixLQUFLLEVBQUUsWUFBWSxFQUFFLFdBQVc7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsdUJBQXVCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGtDQUFDLHVGQUF1RixrQ0FBQztBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLCtDQUErQyw0RUFBZ0I7QUFDdEUsa0JBQWtCLGFBQWE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsaUZBQXFCLDRCQUE0QixLQUFLLFlBQVksRUFBRTtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtYWktcHJlcC8uL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC9vdXRwdXRfcGFyc2Vycy9zdHJ1Y3R1cmVkLmpzPzVjODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbmltcG9ydCB7IHpvZFRvSnNvblNjaGVtYSwgfSBmcm9tIFwiem9kLXRvLWpzb24tc2NoZW1hXCI7XG5pbXBvcnQgeyBCYXNlT3V0cHV0UGFyc2VyLCBPdXRwdXRQYXJzZXJFeGNlcHRpb24sIH0gZnJvbSBcIkBsYW5nY2hhaW4vY29yZS9vdXRwdXRfcGFyc2Vyc1wiO1xuZXhwb3J0IGNsYXNzIFN0cnVjdHVyZWRPdXRwdXRQYXJzZXIgZXh0ZW5kcyBCYXNlT3V0cHV0UGFyc2VyIHtcbiAgICBzdGF0aWMgbGNfbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiU3RydWN0dXJlZE91dHB1dFBhcnNlclwiO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvSlNPTk5vdEltcGxlbWVudGVkKCk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHNjaGVtYSkge1xuICAgICAgICBzdXBlcihzY2hlbWEpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzY2hlbWFcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHNjaGVtYVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGNfbmFtZXNwYWNlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBbXCJsYW5nY2hhaW5cIiwgXCJvdXRwdXRfcGFyc2Vyc1wiLCBcInN0cnVjdHVyZWRcIl1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgU3RydWN0dXJlZE91dHB1dFBhcnNlciBmcm9tIGEgWm9kIHNjaGVtYS5cbiAgICAgKiBAcGFyYW0gc2NoZW1hIFRoZSBab2Qgc2NoZW1hIHdoaWNoIHRoZSBvdXRwdXQgc2hvdWxkIG1hdGNoXG4gICAgICogQHJldHVybnMgQSBuZXcgaW5zdGFuY2Ugb2YgU3RydWN0dXJlZE91dHB1dFBhcnNlci5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVpvZFNjaGVtYShzY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHNjaGVtYSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgU3RydWN0dXJlZE91dHB1dFBhcnNlciBmcm9tIGEgc2V0IG9mIG5hbWVzIGFuZFxuICAgICAqIGRlc2NyaXB0aW9ucy5cbiAgICAgKiBAcGFyYW0gc2NoZW1hcyBBbiBvYmplY3Qgd2hlcmUgZWFjaCBrZXkgaXMgYSBuYW1lIGFuZCBlYWNoIHZhbHVlIGlzIGEgZGVzY3JpcHRpb25cbiAgICAgKiBAcmV0dXJucyBBIG5ldyBpbnN0YW5jZSBvZiBTdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyLlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tTmFtZXNBbmREZXNjcmlwdGlvbnMoc2NoZW1hcykge1xuICAgICAgICBjb25zdCB6b2RTY2hlbWEgPSB6Lm9iamVjdChPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoc2NoZW1hcykubWFwKChbbmFtZSwgZGVzY3JpcHRpb25dKSA9PiBbbmFtZSwgei5zdHJpbmcoKS5kZXNjcmliZShkZXNjcmlwdGlvbildKSkpO1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMoem9kU2NoZW1hKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG1hcmtkb3duIGNvZGUgc25pcHBldCB3aXRoIGEgSlNPTiBvYmplY3QgZm9ybWF0dGVkIGFjY29yZGluZ1xuICAgICAqIHRvIHRoZSBzY2hlbWEuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwuIFRoZSBvcHRpb25zIGZvciBmb3JtYXR0aW5nIHRoZSBpbnN0cnVjdGlvbnNcbiAgICAgKiBAcmV0dXJucyBBIG1hcmtkb3duIGNvZGUgc25pcHBldCB3aXRoIGEgSlNPTiBvYmplY3QgZm9ybWF0dGVkIGFjY29yZGluZyB0byB0aGUgc2NoZW1hLlxuICAgICAqL1xuICAgIGdldEZvcm1hdEluc3RydWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIGBZb3UgbXVzdCBmb3JtYXQgeW91ciBvdXRwdXQgYXMgYSBKU09OIHZhbHVlIHRoYXQgYWRoZXJlcyB0byBhIGdpdmVuIFwiSlNPTiBTY2hlbWFcIiBpbnN0YW5jZS5cblxuXCJKU09OIFNjaGVtYVwiIGlzIGEgZGVjbGFyYXRpdmUgbGFuZ3VhZ2UgdGhhdCBhbGxvd3MgeW91IHRvIGFubm90YXRlIGFuZCB2YWxpZGF0ZSBKU09OIGRvY3VtZW50cy5cblxuRm9yIGV4YW1wbGUsIHRoZSBleGFtcGxlIFwiSlNPTiBTY2hlbWFcIiBpbnN0YW5jZSB7e1wicHJvcGVydGllc1wiOiB7e1wiZm9vXCI6IHt7XCJkZXNjcmlwdGlvblwiOiBcImEgbGlzdCBvZiB0ZXN0IHdvcmRzXCIsIFwidHlwZVwiOiBcImFycmF5XCIsIFwiaXRlbXNcIjoge3tcInR5cGVcIjogXCJzdHJpbmdcIn19fX19fSwgXCJyZXF1aXJlZFwiOiBbXCJmb29cIl19fX19XG53b3VsZCBtYXRjaCBhbiBvYmplY3Qgd2l0aCBvbmUgcmVxdWlyZWQgcHJvcGVydHksIFwiZm9vXCIuIFRoZSBcInR5cGVcIiBwcm9wZXJ0eSBzcGVjaWZpZXMgXCJmb29cIiBtdXN0IGJlIGFuIFwiYXJyYXlcIiwgYW5kIHRoZSBcImRlc2NyaXB0aW9uXCIgcHJvcGVydHkgc2VtYW50aWNhbGx5IGRlc2NyaWJlcyBpdCBhcyBcImEgbGlzdCBvZiB0ZXN0IHdvcmRzXCIuIFRoZSBpdGVtcyB3aXRoaW4gXCJmb29cIiBtdXN0IGJlIHN0cmluZ3MuXG5UaHVzLCB0aGUgb2JqZWN0IHt7XCJmb29cIjogW1wiYmFyXCIsIFwiYmF6XCJdfX0gaXMgYSB3ZWxsLWZvcm1hdHRlZCBpbnN0YW5jZSBvZiB0aGlzIGV4YW1wbGUgXCJKU09OIFNjaGVtYVwiLiBUaGUgb2JqZWN0IHt7XCJwcm9wZXJ0aWVzXCI6IHt7XCJmb29cIjogW1wiYmFyXCIsIFwiYmF6XCJdfX19fSBpcyBub3Qgd2VsbC1mb3JtYXR0ZWQuXG5cbllvdXIgb3V0cHV0IHdpbGwgYmUgcGFyc2VkIGFuZCB0eXBlLWNoZWNrZWQgYWNjb3JkaW5nIHRvIHRoZSBwcm92aWRlZCBzY2hlbWEgaW5zdGFuY2UsIHNvIG1ha2Ugc3VyZSBhbGwgZmllbGRzIGluIHlvdXIgb3V0cHV0IG1hdGNoIHRoZSBzY2hlbWEgZXhhY3RseSBhbmQgdGhlcmUgYXJlIG5vIHRyYWlsaW5nIGNvbW1hcyFcblxuSGVyZSBpcyB0aGUgSlNPTiBTY2hlbWEgaW5zdGFuY2UgeW91ciBvdXRwdXQgbXVzdCBhZGhlcmUgdG8uIEluY2x1ZGUgdGhlIGVuY2xvc2luZyBtYXJrZG93biBjb2RlYmxvY2s6XG5cXGBcXGBcXGBqc29uXG4ke0pTT04uc3RyaW5naWZ5KHpvZFRvSnNvblNjaGVtYSh0aGlzLnNjaGVtYSkpfVxuXFxgXFxgXFxgXG5gO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgdGhlIGdpdmVuIHRleHQgYWNjb3JkaW5nIHRvIHRoZSBzY2hlbWEuXG4gICAgICogQHBhcmFtIHRleHQgVGhlIHRleHQgdG8gcGFyc2VcbiAgICAgKiBAcmV0dXJucyBUaGUgcGFyc2VkIG91dHB1dC5cbiAgICAgKi9cbiAgICBhc3luYyBwYXJzZSh0ZXh0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBqc29uID0gdGV4dC5pbmNsdWRlcyhcImBgYFwiKVxuICAgICAgICAgICAgICAgID8gdGV4dC50cmltKCkuc3BsaXQoL2BgYCg/Ompzb24pPy8pWzFdXG4gICAgICAgICAgICAgICAgOiB0ZXh0LnRyaW0oKTtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNjaGVtYS5wYXJzZUFzeW5jKEpTT04ucGFyc2UoanNvbikpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3V0cHV0UGFyc2VyRXhjZXB0aW9uKGBGYWlsZWQgdG8gcGFyc2UuIFRleHQ6IFwiJHt0ZXh0fVwiLiBFcnJvcjogJHtlfWAsIHRleHQpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBIHNwZWNpZmljIHR5cGUgb2YgYFN0cnVjdHVyZWRPdXRwdXRQYXJzZXJgIHRoYXQgcGFyc2VzIEpTT04gZGF0YVxuICogZm9ybWF0dGVkIGFzIGEgbWFya2Rvd24gY29kZSBzbmlwcGV0LlxuICovXG5leHBvcnQgY2xhc3MgSnNvbk1hcmtkb3duU3RydWN0dXJlZE91dHB1dFBhcnNlciBleHRlbmRzIFN0cnVjdHVyZWRPdXRwdXRQYXJzZXIge1xuICAgIHN0YXRpYyBsY19uYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJKc29uTWFya2Rvd25TdHJ1Y3R1cmVkT3V0cHV0UGFyc2VyXCI7XG4gICAgfVxuICAgIGdldEZvcm1hdEluc3RydWN0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGludGVycG9sYXRpb25EZXB0aCA9IG9wdGlvbnM/LmludGVycG9sYXRpb25EZXB0aCA/PyAxO1xuICAgICAgICBpZiAoaW50ZXJwb2xhdGlvbkRlcHRoIDwgMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZiBzdHJpbmcgaW50ZXJwb2xhdGlvbiBkZXB0aCBtdXN0IGJlIGF0IGxlYXN0IDFcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGBSZXR1cm4gYSBtYXJrZG93biBjb2RlIHNuaXBwZXQgd2l0aCBhIEpTT04gb2JqZWN0IGZvcm1hdHRlZCB0byBsb29rIGxpa2U6XFxuXFxgXFxgXFxganNvblxcbiR7dGhpcy5fc2NoZW1hVG9JbnN0cnVjdGlvbih6b2RUb0pzb25TY2hlbWEodGhpcy5zY2hlbWEpKVxuICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJ7XCIsIFwie1wiLnJlcGVhdChpbnRlcnBvbGF0aW9uRGVwdGgpKVxuICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJ9XCIsIFwifVwiLnJlcGVhdChpbnRlcnBvbGF0aW9uRGVwdGgpKX1cXG5cXGBcXGBcXGBgO1xuICAgIH1cbiAgICBfc2NoZW1hVG9JbnN0cnVjdGlvbihzY2hlbWFJbnB1dCwgaW5kZW50ID0gMikge1xuICAgICAgICBjb25zdCBzY2hlbWEgPSBzY2hlbWFJbnB1dDtcbiAgICAgICAgaWYgKFwidHlwZVwiIGluIHNjaGVtYSkge1xuICAgICAgICAgICAgbGV0IG51bGxhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgdHlwZTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS50eXBlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG51bGxJZHggPSBzY2hlbWEudHlwZS5maW5kSW5kZXgoKHR5cGUpID0+IHR5cGUgPT09IFwibnVsbFwiKTtcbiAgICAgICAgICAgICAgICBpZiAobnVsbElkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgbnVsbGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzY2hlbWEudHlwZS5zcGxpY2UobnVsbElkeCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHR5cGUgPSBzY2hlbWEudHlwZS5qb2luKFwiIHwgXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdHlwZSA9IHNjaGVtYS50eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjaGVtYS50eXBlID09PSBcIm9iamVjdFwiICYmIHNjaGVtYS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBzY2hlbWEuZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgPyBgIC8vICR7c2NoZW1hLmRlc2NyaXB0aW9ufWBcbiAgICAgICAgICAgICAgICAgICAgOiBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBPYmplY3QuZW50cmllcyhzY2hlbWEucHJvcGVydGllcylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzT3B0aW9uYWwgPSBzY2hlbWEucmVxdWlyZWQ/LmluY2x1ZGVzKGtleSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIiAob3B0aW9uYWwpXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtcIiBcIi5yZXBlYXQoaW5kZW50KX1cIiR7a2V5fVwiOiAke3RoaXMuX3NjaGVtYVRvSW5zdHJ1Y3Rpb24odmFsdWUsIGluZGVudCArIDIpfSR7aXNPcHRpb25hbH1gO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKFwiXFxuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBge1xcbiR7cHJvcGVydGllc31cXG4ke1wiIFwiLnJlcGVhdChpbmRlbnQgLSAyKX19JHtkZXNjcmlwdGlvbn1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjaGVtYS50eXBlID09PSBcImFycmF5XCIgJiYgc2NoZW1hLml0ZW1zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBzY2hlbWEuZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgPyBgIC8vICR7c2NoZW1hLmRlc2NyaXB0aW9ufWBcbiAgICAgICAgICAgICAgICAgICAgOiBcIlwiO1xuICAgICAgICAgICAgICAgIHJldHVybiBgYXJyYXlbXFxuJHtcIiBcIi5yZXBlYXQoaW5kZW50KX0ke3RoaXMuX3NjaGVtYVRvSW5zdHJ1Y3Rpb24oc2NoZW1hLml0ZW1zLCBpbmRlbnQgKyAyKX1cXG4ke1wiIFwiLnJlcGVhdChpbmRlbnQgLSAyKX1dICR7ZGVzY3JpcHRpb259YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGlzTnVsbGFibGUgPSBudWxsYWJsZSA/IFwiIChudWxsYWJsZSlcIiA6IFwiXCI7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHNjaGVtYS5kZXNjcmlwdGlvbiA/IGAgLy8gJHtzY2hlbWEuZGVzY3JpcHRpb259YCA6IFwiXCI7XG4gICAgICAgICAgICByZXR1cm4gYCR7dHlwZX0ke2Rlc2NyaXB0aW9ufSR7aXNOdWxsYWJsZX1gO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcImFueU9mXCIgaW4gc2NoZW1hKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZW1hLmFueU9mXG4gICAgICAgICAgICAgICAgLm1hcCgocykgPT4gdGhpcy5fc2NoZW1hVG9JbnN0cnVjdGlvbihzLCBpbmRlbnQpKVxuICAgICAgICAgICAgICAgIC5qb2luKGBcXG4ke1wiIFwiLnJlcGVhdChpbmRlbnQgLSAyKX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCBzY2hlbWEgdHlwZVwiKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21ab2RTY2hlbWEoc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyhzY2hlbWEpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbU5hbWVzQW5kRGVzY3JpcHRpb25zKHNjaGVtYXMpIHtcbiAgICAgICAgY29uc3Qgem9kU2NoZW1hID0gei5vYmplY3QoT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHNjaGVtYXMpLm1hcCgoW25hbWUsIGRlc2NyaXB0aW9uXSkgPT4gW25hbWUsIHouc3RyaW5nKCkuZGVzY3JpYmUoZGVzY3JpcHRpb24pXSkpKTtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHpvZFNjaGVtYSk7XG4gICAgfVxufVxuLyoqXG4gKiBBIHR5cGUgb2YgYFN0cnVjdHVyZWRPdXRwdXRQYXJzZXJgIHRoYXQgaGFuZGxlcyBhc3ltbWV0cmljIGlucHV0IGFuZFxuICogb3V0cHV0IHNjaGVtYXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBBc3ltbWV0cmljU3RydWN0dXJlZE91dHB1dFBhcnNlciBleHRlbmRzIEJhc2VPdXRwdXRQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKHsgaW5wdXRTY2hlbWEgfSkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdHJ1Y3R1cmVkSW5wdXRQYXJzZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdHJ1Y3R1cmVkSW5wdXRQYXJzZXIgPSBuZXcgSnNvbk1hcmtkb3duU3RydWN0dXJlZE91dHB1dFBhcnNlcihpbnB1dFNjaGVtYSk7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlKHRleHQpIHtcbiAgICAgICAgbGV0IHBhcnNlZElucHV0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGFyc2VkSW5wdXQgPSBhd2FpdCB0aGlzLnN0cnVjdHVyZWRJbnB1dFBhcnNlci5wYXJzZSh0ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE91dHB1dFBhcnNlckV4Y2VwdGlvbihgRmFpbGVkIHRvIHBhcnNlLiBUZXh0OiBcIiR7dGV4dH1cIi4gRXJyb3I6ICR7ZX1gLCB0ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5vdXRwdXRQcm9jZXNzb3IocGFyc2VkSW5wdXQpO1xuICAgIH1cbiAgICBnZXRGb3JtYXRJbnN0cnVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0cnVjdHVyZWRJbnB1dFBhcnNlci5nZXRGb3JtYXRJbnN0cnVjdGlvbnMoKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/output_parsers/structured.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/text_splitter.js":
/*!******************************************************!*\
  !*** ./node_modules/langchain/dist/text_splitter.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CharacterTextSplitter: () => (/* reexport safe */ _langchain_textsplitters__WEBPACK_IMPORTED_MODULE_0__.CharacterTextSplitter),\n/* harmony export */   LatexTextSplitter: () => (/* reexport safe */ _langchain_textsplitters__WEBPACK_IMPORTED_MODULE_0__.LatexTextSplitter),\n/* harmony export */   MarkdownTextSplitter: () => (/* reexport safe */ _langchain_textsplitters__WEBPACK_IMPORTED_MODULE_0__.MarkdownTextSplitter),\n/* harmony export */   RecursiveCharacterTextSplitter: () => (/* reexport safe */ _langchain_textsplitters__WEBPACK_IMPORTED_MODULE_0__.RecursiveCharacterTextSplitter),\n/* harmony export */   SupportedTextSplitterLanguages: () => (/* reexport safe */ _langchain_textsplitters__WEBPACK_IMPORTED_MODULE_0__.SupportedTextSplitterLanguages),\n/* harmony export */   TextSplitter: () => (/* reexport safe */ _langchain_textsplitters__WEBPACK_IMPORTED_MODULE_0__.TextSplitter),\n/* harmony export */   TokenTextSplitter: () => (/* reexport safe */ _langchain_textsplitters__WEBPACK_IMPORTED_MODULE_0__.TokenTextSplitter)\n/* harmony export */ });\n/* harmony import */ var _langchain_textsplitters__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @langchain/textsplitters */ \"(rsc)/./node_modules/@langchain/textsplitters/index.js\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdGV4dF9zcGxpdHRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF5QyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtYWktcHJlcC8uL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC90ZXh0X3NwbGl0dGVyLmpzPzlhYTciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIkBsYW5nY2hhaW4vdGV4dHNwbGl0dGVyc1wiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/text_splitter.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/util/document.js":
/*!******************************************************!*\
  !*** ./node_modules/langchain/dist/util/document.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatDocumentsAsString: () => (/* binding */ formatDocumentsAsString)\n/* harmony export */ });\n/**\n * Given a list of documents, this util formats their contents\n * into a string, separated by newlines.\n *\n * @param documents\n * @returns A string of the documents page content, separated by newlines.\n */\nconst formatDocumentsAsString = (documents) => documents.map((doc) => doc.pageContent).join(\"\\n\\n\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdXRpbC9kb2N1bWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtYWktcHJlcC8uL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC91dGlsL2RvY3VtZW50LmpzP2EwNDMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHaXZlbiBhIGxpc3Qgb2YgZG9jdW1lbnRzLCB0aGlzIHV0aWwgZm9ybWF0cyB0aGVpciBjb250ZW50c1xuICogaW50byBhIHN0cmluZywgc2VwYXJhdGVkIGJ5IG5ld2xpbmVzLlxuICpcbiAqIEBwYXJhbSBkb2N1bWVudHNcbiAqIEByZXR1cm5zIEEgc3RyaW5nIG9mIHRoZSBkb2N1bWVudHMgcGFnZSBjb250ZW50LCBzZXBhcmF0ZWQgYnkgbmV3bGluZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBmb3JtYXREb2N1bWVudHNBc1N0cmluZyA9IChkb2N1bWVudHMpID0+IGRvY3VtZW50cy5tYXAoKGRvYykgPT4gZG9jLnBhZ2VDb250ZW50KS5qb2luKFwiXFxuXFxuXCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/util/document.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/dist/util/set.js":
/*!*************************************************!*\
  !*** ./node_modules/langchain/dist/util/set.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   difference: () => (/* binding */ difference),\n/* harmony export */   intersection: () => (/* binding */ intersection),\n/* harmony export */   union: () => (/* binding */ union)\n/* harmony export */ });\n/**\n * Source: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set#implementing_basic_set_operations\n */\n/**\n * returns intersection of two sets\n */\nfunction intersection(setA, setB) {\n    const _intersection = new Set();\n    for (const elem of setB) {\n        if (setA.has(elem)) {\n            _intersection.add(elem);\n        }\n    }\n    return _intersection;\n}\n/**\n * returns union of two sets\n */\nfunction union(setA, setB) {\n    const _union = new Set(setA);\n    for (const elem of setB) {\n        _union.add(elem);\n    }\n    return _union;\n}\n/**\n * returns difference of two sets\n */\nfunction difference(setA, setB) {\n    const _difference = new Set(setA);\n    for (const elem of setB) {\n        _difference.delete(elem);\n    }\n    return _difference;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGFuZ2NoYWluL2Rpc3QvdXRpbC9zZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtYWktcHJlcC8uL25vZGVfbW9kdWxlcy9sYW5nY2hhaW4vZGlzdC91dGlsL3NldC5qcz9lMzI1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU291cmNlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TZXQjaW1wbGVtZW50aW5nX2Jhc2ljX3NldF9vcGVyYXRpb25zXG4gKi9cbi8qKlxuICogcmV0dXJucyBpbnRlcnNlY3Rpb24gb2YgdHdvIHNldHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdGlvbihzZXRBLCBzZXRCKSB7XG4gICAgY29uc3QgX2ludGVyc2VjdGlvbiA9IG5ldyBTZXQoKTtcbiAgICBmb3IgKGNvbnN0IGVsZW0gb2Ygc2V0Qikge1xuICAgICAgICBpZiAoc2V0QS5oYXMoZWxlbSkpIHtcbiAgICAgICAgICAgIF9pbnRlcnNlY3Rpb24uYWRkKGVsZW0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBfaW50ZXJzZWN0aW9uO1xufVxuLyoqXG4gKiByZXR1cm5zIHVuaW9uIG9mIHR3byBzZXRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bmlvbihzZXRBLCBzZXRCKSB7XG4gICAgY29uc3QgX3VuaW9uID0gbmV3IFNldChzZXRBKTtcbiAgICBmb3IgKGNvbnN0IGVsZW0gb2Ygc2V0Qikge1xuICAgICAgICBfdW5pb24uYWRkKGVsZW0pO1xuICAgIH1cbiAgICByZXR1cm4gX3VuaW9uO1xufVxuLyoqXG4gKiByZXR1cm5zIGRpZmZlcmVuY2Ugb2YgdHdvIHNldHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmZlcmVuY2Uoc2V0QSwgc2V0Qikge1xuICAgIGNvbnN0IF9kaWZmZXJlbmNlID0gbmV3IFNldChzZXRBKTtcbiAgICBmb3IgKGNvbnN0IGVsZW0gb2Ygc2V0Qikge1xuICAgICAgICBfZGlmZmVyZW5jZS5kZWxldGUoZWxlbSk7XG4gICAgfVxuICAgIHJldHVybiBfZGlmZmVyZW5jZTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/langchain/dist/util/set.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/langchain/document_loaders/fs/json.js":
/*!************************************************************!*\
  !*** ./node_modules/langchain/document_loaders/fs/json.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JSONLinesLoader: () => (/* reexport safe */ _dist_document_loaders_fs_json_js__WEBPACK_IMPORTED_MODULE_0__.JSONLinesLoader),
/* harmony export */   JSONLoader: () => (/* reexport safe */ _dist_document_loaders_fs_json_js__WEBPACK_IMPORTED_MODULE_0__.JSONLoader)
/* harmony export */ });
/* harmony import */ var _dist_document_loaders_fs_json_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../dist/document_loaders/fs/json.js */ "(rsc)/./node_modules/langchain/dist/document_loaders/fs/json.js");


/***/ }),

/***/ "(rsc)/./node_modules/langchain/output_parsers.js":
/*!**************************************************!*\
  !*** ./node_modules/langchain/output_parsers.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AsymmetricStructuredOutputParser: () => (/* reexport safe */ _dist_output_parsers_index_js__WEBPACK_IMPORTED_MODULE_0__.AsymmetricStructuredOutputParser),
/* harmony export */   CombiningOutputParser: () => (/* reexport safe */ _dist_output_parsers_index_js__WEBPACK_IMPORTED_MODULE_0__.CombiningOutputParser),
/* harmony export */   CommaSeparatedListOutputParser: () => (/* reexport safe */ _dist_output_parsers_index_js__WEBPACK_IMPORTED_MODULE_0__.CommaSeparatedListOutputParser),
/* harmony export */   CustomListOutputParser: () => (/* reexport safe */ _dist_output_parsers_index_js__WEBPACK_IMPORTED_MODULE_0__.CustomListOutputParser),
/* harmony export */   DatetimeOutputParser: () => (/* reexport safe */ _dist_output_parsers_index_js__WEBPACK_IMPORTED_MODULE_0__.DatetimeOutputParser),
/* harmony export */   HttpResponseOutputParser: () => (/* reexport safe */ _dist_output_parsers_index_js__WEBPACK_IMPORTED_MODULE_0__.HttpResponseOutputParser),
/* harmony export */   JsonKeyOutputFunctionsParser: () => (/* reexport safe */ _dist_output_parsers_index_js__WEBPACK_IMPORTED_MODULE_0__.JsonKeyOutputFunctionsParser),
/* harmony export */   JsonMarkdownStructuredOutputParser: () => (/* reexport safe */ _dist_output_parsers_index_js__WEBPACK_IMPORTED_MODULE_0__.JsonMarkdownStructuredOutputParser),
/* harmony export */   JsonOutputFunctionsParser: () => (/* reexport safe */ _dist_output_parsers_index_js__WEBPACK_IMPORTED_MODULE_0__.JsonOutputFunctionsParser),
/* harmony export */   JsonOutputKeyToolsParser: () => (/* reexport safe */ _dist_output_parsers_index_js__WEBPACK_IMPORTED_MODULE_0__.JsonOutputKeyToolsParser),
/* harmony export */   JsonOutputToolsParser: () => (/* reexport safe */ _dist_output_parsers_index_js__WEBPACK_IMPORTED_MODULE_0__.JsonOutputToolsParser),
/* harmony export */   ListOutputParser: () => (/* reexport safe */ _dist_output_parsers_index_js__WEBPACK_IMPORTED_MODULE_0__.ListOutputParser),
/* harmony export */   OutputFixingParser: () => (/* reexport safe */ _dist_output_parsers_index_js__WEBPACK_IMPORTED_MODULE_0__.OutputFixingParser),
/* harmony export */   OutputFunctionsParser: () => (/* reexport safe */ _dist_output_parsers_index_js__WEBPACK_IMPORTED_MODULE_0__.OutputFunctionsParser),
/* harmony export */   RegexParser: () => (/* reexport safe */ _dist_output_parsers_index_js__WEBPACK_IMPORTED_MODULE_0__.RegexParser),
/* harmony export */   RouterOutputParser: () => (/* reexport safe */ _dist_output_parsers_index_js__WEBPACK_IMPORTED_MODULE_0__.RouterOutputParser),
/* harmony export */   StructuredOutputParser: () => (/* reexport safe */ _dist_output_parsers_index_js__WEBPACK_IMPORTED_MODULE_0__.StructuredOutputParser)
/* harmony export */ });
/* harmony import */ var _dist_output_parsers_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dist/output_parsers/index.js */ "(rsc)/./node_modules/langchain/dist/output_parsers/index.js");


/***/ }),

/***/ "(rsc)/./node_modules/langchain/util/document.js":
/*!*************************************************!*\
  !*** ./node_modules/langchain/util/document.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   formatDocumentsAsString: () => (/* reexport safe */ _dist_util_document_js__WEBPACK_IMPORTED_MODULE_0__.formatDocumentsAsString)
/* harmony export */ });
/* harmony import */ var _dist_util_document_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dist/util/document.js */ "(rsc)/./node_modules/langchain/dist/util/document.js");


/***/ })

};
;